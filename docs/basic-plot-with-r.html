<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Basic plot with R | 보건학데이터과학 실습 with R</title>
  <meta name="description" content="Chapter 8 Basic plot with R | 보건학데이터과학 실습 with R" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Basic plot with R | 보건학데이터과학 실습 with R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Basic plot with R | 보건학데이터과학 실습 with R" />
  
  
  

<meta name="author" content="jinha" />


<meta name="date" content="2021-11-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tables-for-public-health.html"/>
<link rel="next" href="graphs-for-public-health-i.html"/>
<script src="libs/header-attrs-2.11.3/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="libs/primer-tooltips-1.4.0/build.css" rel="stylesheet" />
<link href="libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet" />
<script src="libs/klippy-0.0.0.9500/js/klippy.min.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.4.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.19/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.6.1/grViz.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">jinhaslab</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> 인사와 소개</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#what-is-data-science-in-public-health"><i class="fa fa-check"></i><b>1.1</b> What is Data Science in public health</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#어떤-일을-하는가"><i class="fa fa-check"></i><b>1.2</b> 어떤 일을 하는가?</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#어떤-일을-시키고-싶은가-채용-공고"><i class="fa fa-check"></i><b>1.3</b> 어떤 일을 시키고 싶은가 (채용 공고)</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#towordsdatascience.com-공부할-것들"><i class="fa fa-check"></i><b>1.4</b> Towordsdatascience.com: 공부할 것들</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#보건학-데이터-과학자-수업"><i class="fa fa-check"></i><b>1.5</b> 보건학 데이터 과학자, 수업</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#실습에-r을-사용하는-이유-교과서"><i class="fa fa-check"></i><b>1.6</b> 실습에 R을 사용하는 이유, 교과서</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="pre.html"><a href="pre.html"><i class="fa fa-check"></i><b>2</b> 준비사항</a>
<ul>
<li class="chapter" data-level="2.1" data-path="pre.html"><a href="pre.html#r과-r-studio-설치"><i class="fa fa-check"></i><b>2.1</b> R과 R studio 설치</a></li>
<li class="chapter" data-level="2.2" data-path="pre.html"><a href="pre.html#r-studio-r-project"><i class="fa fa-check"></i><b>2.2</b> R studio, R project</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="pre.html"><a href="pre.html#r-studio-설치"><i class="fa fa-check"></i><b>2.2.1</b> R studio 설치</a></li>
<li class="chapter" data-level="2.2.2" data-path="pre.html"><a href="pre.html#r-studio-기본-세팅"><i class="fa fa-check"></i><b>2.2.2</b> R studio 기본 세팅</a></li>
<li class="chapter" data-level="2.2.3" data-path="pre.html"><a href="pre.html#r-studio-project"><i class="fa fa-check"></i><b>2.2.3</b> R studio project</a></li>
<li class="chapter" data-level="2.2.4" data-path="pre.html"><a href="pre.html#r-기본-폴더와-copy"><i class="fa fa-check"></i><b>2.2.4</b> R 기본 폴더와 copy</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="pre.html"><a href="pre.html#gcp"><i class="fa fa-check"></i><b>2.3</b> GCP</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="pre.html"><a href="pre.html#gcp-에-vm-만들기"><i class="fa fa-check"></i><b>2.3.1</b> GCP 에 VM 만들기</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="pre.html"><a href="pre.html#digital-ocean"><i class="fa fa-check"></i><b>2.4</b> Digital ocean</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="pre.html"><a href="pre.html#digital-ocean-cmd-terminal-winscp-putty"><i class="fa fa-check"></i><b>2.4.1</b> digital ocean cmd terminal, winScp, putty</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="pre.html"><a href="pre.html#기본-user-만들기"><i class="fa fa-check"></i><b>2.5</b> 기본 user 만들기</a></li>
<li class="chapter" data-level="2.6" data-path="pre.html"><a href="pre.html#r-and-rstudio-install"><i class="fa fa-check"></i><b>2.6</b> R and Rstudio install</a></li>
<li class="chapter" data-level="2.7" data-path="pre.html"><a href="pre.html#shiny-server-install"><i class="fa fa-check"></i><b>2.7</b> shiny server install</a></li>
<li class="chapter" data-level="2.8" data-path="pre.html"><a href="pre.html#도메인-연결"><i class="fa fa-check"></i><b>2.8</b> 도메인 연결</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-basic.html"><a href="r-basic.html"><i class="fa fa-check"></i><b>3</b> R basic</a>
<ul>
<li class="chapter" data-level="3.1" data-path="r-basic.html"><a href="r-basic.html#vector-matirx-list"><i class="fa fa-check"></i><b>3.1</b> vector matirx list</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="r-basic.html"><a href="r-basic.html#오브젝트-objects"><i class="fa fa-check"></i><b>3.1.1</b> 오브젝트 (objects)</a></li>
<li class="chapter" data-level="3.1.2" data-path="r-basic.html"><a href="r-basic.html#백터-vectors-팩터-factors"><i class="fa fa-check"></i><b>3.1.2</b> 백터 (Vectors), 팩터 (factors)</a></li>
<li class="chapter" data-level="3.1.3" data-path="r-basic.html"><a href="r-basic.html#매트릭스-matrix-데이터프래임-data-frame-리스트-list"><i class="fa fa-check"></i><b>3.1.3</b> 매트릭스 (Matrix), 데이터프래임 (data frame), 리스트 (list)</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="r-basic.html"><a href="r-basic.html#데이터-생성-저장"><i class="fa fa-check"></i><b>3.2</b> 데이터 생성 저장</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="r-basic.html"><a href="r-basic.html#built-in-data-sets"><i class="fa fa-check"></i><b>3.2.1</b> built-in data sets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="r-program-basic.html"><a href="r-program-basic.html"><i class="fa fa-check"></i><b>4</b> R program basic</a>
<ul>
<li class="chapter" data-level="4.1" data-path="r-program-basic.html"><a href="r-program-basic.html#기초-연산"><i class="fa fa-check"></i><b>4.1</b> 기초 연산</a></li>
<li class="chapter" data-level="4.2" data-path="r-program-basic.html"><a href="r-program-basic.html#조건부-연산"><i class="fa fa-check"></i><b>4.2</b> 조건부 연산</a></li>
<li class="chapter" data-level="4.3" data-path="r-program-basic.html"><a href="r-program-basic.html#함수-만들기"><i class="fa fa-check"></i><b>4.3</b> 함수 만들기</a></li>
<li class="chapter" data-level="4.4" data-path="r-program-basic.html"><a href="r-program-basic.html#반복문-vectorization-functionals"><i class="fa fa-check"></i><b>4.4</b> 반복문, vectorization, functionals</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="r-program-basic.html"><a href="r-program-basic.html#for-loop"><i class="fa fa-check"></i><b>4.4.1</b> for loop</a></li>
<li class="chapter" data-level="4.4.2" data-path="r-program-basic.html"><a href="r-program-basic.html#vectorization-과-apply-구문"><i class="fa fa-check"></i><b>4.4.2</b> vectorization 과 apply 구문</a></li>
<li class="chapter" data-level="4.4.3" data-path="r-program-basic.html"><a href="r-program-basic.html#home-work-and-summary-function"><i class="fa fa-check"></i><b>4.4.3</b> home work and summary function</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-transforms.html"><a href="data-transforms.html"><i class="fa fa-check"></i><b>5</b> data transforms</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-transforms.html"><a href="data-transforms.html#준비-사항"><i class="fa fa-check"></i><b>5.1</b> 준비 사항</a></li>
<li class="chapter" data-level="5.2" data-path="data-transforms.html"><a href="data-transforms.html#필터-filter-and-select"><i class="fa fa-check"></i><b>5.2</b> 필터 (filter and select)</a></li>
<li class="chapter" data-level="5.3" data-path="data-transforms.html"><a href="data-transforms.html#변수-생성-mutate"><i class="fa fa-check"></i><b>5.3</b> 변수 생성 (mutate)</a></li>
<li class="chapter" data-level="5.4" data-path="data-transforms.html"><a href="data-transforms.html#실습-과제"><i class="fa fa-check"></i><b>5.4</b> 실습 과제</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="repeated-analysis.html"><a href="repeated-analysis.html"><i class="fa fa-check"></i><b>6</b> Repeated analysis</a>
<ul>
<li class="chapter" data-level="6.1" data-path="repeated-analysis.html"><a href="repeated-analysis.html#추출"><i class="fa fa-check"></i><b>6.1</b> 추출</a></li>
<li class="chapter" data-level="6.2" data-path="repeated-analysis.html"><a href="repeated-analysis.html#파일-불러오기"><i class="fa fa-check"></i><b>6.2</b> 파일 불러오기</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="repeated-analysis.html"><a href="repeated-analysis.html#과제"><i class="fa fa-check"></i><b>6.2.1</b> 과제</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="repeated-analysis.html"><a href="repeated-analysis.html#분석-반복하기-change-point-찾기"><i class="fa fa-check"></i><b>6.3</b> 분석 반복하기 (change point 찾기)</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="repeated-analysis.html"><a href="repeated-analysis.html#자료-생성"><i class="fa fa-check"></i><b>6.3.1</b> 자료 생성</a></li>
<li class="chapter" data-level="6.3.2" data-path="repeated-analysis.html"><a href="repeated-analysis.html#가상의-threshold-값-수행해보기"><i class="fa fa-check"></i><b>6.3.2</b> 가상의 threshold 값 수행해보기</a></li>
<li class="chapter" data-level="6.3.3" data-path="repeated-analysis.html"><a href="repeated-analysis.html#과제-1"><i class="fa fa-check"></i><b>6.3.3</b> 과제</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="repeated-analysis.html"><a href="repeated-analysis.html#repeated-analysis-big-data"><i class="fa fa-check"></i><b>6.4</b> Repeated analysis (big data)</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="repeated-analysis.html"><a href="repeated-analysis.html#data-profile"><i class="fa fa-check"></i><b>6.4.1</b> Data profile</a></li>
<li class="chapter" data-level="6.4.2" data-path="repeated-analysis.html"><a href="repeated-analysis.html#data-handling-start"><i class="fa fa-check"></i><b>6.4.2</b> data handling start</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="tables-for-public-health.html"><a href="tables-for-public-health.html"><i class="fa fa-check"></i><b>7</b> Tables for public health</a>
<ul>
<li class="chapter" data-level="7.1" data-path="tables-for-public-health.html"><a href="tables-for-public-health.html#데이터표-준비"><i class="fa fa-check"></i><b>7.1</b> 데이터표 준비</a></li>
<li class="chapter" data-level="7.2" data-path="tables-for-public-health.html"><a href="tables-for-public-health.html#보건학에서-주로-사용하는-표"><i class="fa fa-check"></i><b>7.2</b> 보건학에서 주로 사용하는 표</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="tables-for-public-health.html"><a href="tables-for-public-health.html#표1-또는-기초-그래프"><i class="fa fa-check"></i><b>7.2.1</b> 표1, 또는 기초 그래프</a></li>
<li class="chapter" data-level="7.2.2" data-path="tables-for-public-health.html"><a href="tables-for-public-health.html#종속변수를-중심으로한-표-1-만들기"><i class="fa fa-check"></i><b>7.2.2</b> 종속변수를 중심으로한 표 1 만들기</a></li>
<li class="chapter" data-level="7.2.3" data-path="tables-for-public-health.html"><a href="tables-for-public-health.html#관심변수를-중심으로-한-표-2-만들기"><i class="fa fa-check"></i><b>7.2.3</b> 관심변수를 중심으로 한 표 2 만들기</a></li>
<li class="chapter" data-level="7.2.4" data-path="tables-for-public-health.html"><a href="tables-for-public-health.html#상관관계를-위한-표-3-만들기"><i class="fa fa-check"></i><b>7.2.4</b> 상관관계를 위한 표 3 만들기</a></li>
<li class="chapter" data-level="7.2.5" data-path="tables-for-public-health.html"><a href="tables-for-public-health.html#daniel-lüdeckes-work"><i class="fa fa-check"></i><b>7.2.5</b> Daniel Lüdecke’s work</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="tables-for-public-health.html"><a href="tables-for-public-health.html#과제-2"><i class="fa fa-check"></i><b>7.3</b> 과제</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html"><i class="fa fa-check"></i><b>8</b> Basic plot with R</a>
<ul>
<li class="chapter" data-level="8.1" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#ggplot-basic"><i class="fa fa-check"></i><b>8.1</b> ggplot basic</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#그래프-틀"><i class="fa fa-check"></i><b>8.1.1</b> 그래프 틀</a></li>
<li class="chapter" data-level="8.1.2" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#레이어"><i class="fa fa-check"></i><b>8.1.2</b> 레이어</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#visualization-example-with-covid19-data-group_by-and-mutate"><i class="fa fa-check"></i><b>8.2</b> visualization example with COVID19 data (group_by and mutate)</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#create-basic-variables"><i class="fa fa-check"></i><b>8.2.1</b> create basic variables</a></li>
<li class="chapter" data-level="8.2.2" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#bar-and-histograph"><i class="fa fa-check"></i><b>8.2.2</b> bar and histograph</a></li>
<li class="chapter" data-level="8.2.3" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#boxplot"><i class="fa fa-check"></i><b>8.2.3</b> Boxplot</a></li>
<li class="chapter" data-level="8.2.4" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#scatter-plot"><i class="fa fa-check"></i><b>8.2.4</b> scatter plot</a></li>
<li class="chapter" data-level="8.2.5" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#scatter-plot-of-summary-stat"><i class="fa fa-check"></i><b>8.2.5</b> scatter plot of summary stat</a></li>
<li class="chapter" data-level="8.2.6" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#line-chart"><i class="fa fa-check"></i><b>8.2.6</b> line chart</a></li>
<li class="chapter" data-level="8.2.7" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#home-work"><i class="fa fa-check"></i><b>8.2.7</b> home work</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#diagram"><i class="fa fa-check"></i><b>8.3</b> Diagram</a></li>
<li class="chapter" data-level="8.4" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#과제-3"><i class="fa fa-check"></i><b>8.4</b> 과제</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html"><i class="fa fa-check"></i><b>9</b> graphs for public health I</a>
<ul>
<li class="chapter" data-level="9.1" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#데이터-그림-준비"><i class="fa fa-check"></i><b>9.1</b> 데이터 그림 준비</a></li>
<li class="chapter" data-level="9.2" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#실습-자료-시각화"><i class="fa fa-check"></i><b>9.2</b> 실습 자료 시각화</a></li>
<li class="chapter" data-level="9.3" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#시각화-과제-1"><i class="fa fa-check"></i><b>9.3</b> 시각화 과제 1</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#과제-1-그림-완성하기"><i class="fa fa-check"></i><b>9.3.1</b> 과제 1 그림 완성하기</a></li>
<li class="chapter" data-level="9.3.2" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#과제-2-동료의-지지가-미치는-영향을-그리시오"><i class="fa fa-check"></i><b>9.3.2</b> 과제 2 동료의 지지가 미치는 영향을 그리시오</a></li>
<li class="chapter" data-level="9.3.3" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#과제-3-자신의-데이터-실습"><i class="fa fa-check"></i><b>9.3.3</b> 과제 3 자신의 데이터 실습</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#상호-작용-영향-표현"><i class="fa fa-check"></i><b>9.4</b> 상호 작용 영향 표현</a></li>
<li class="chapter" data-level="9.5" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#라벨-자료"><i class="fa fa-check"></i><b>9.5</b> 라벨 자료</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#라벨자료-그래프-실습"><i class="fa fa-check"></i><b>9.5.1</b> 라벨자료 그래프 실습</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#wave-form-data-visualization-example-for-public-health"><i class="fa fa-check"></i><b>9.6</b> wave form data visualization example for public health</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#data-visualization-example-eeg-data"><i class="fa fa-check"></i><b>9.6.1</b> Data Visualization example (EEG data)</a></li>
<li class="chapter" data-level="9.6.2" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#introduction"><i class="fa fa-check"></i><b>9.6.2</b> Introduction</a></li>
<li class="chapter" data-level="9.6.3" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#dataset-and-data-step"><i class="fa fa-check"></i><b>9.6.3</b> Dataset and Data step</a></li>
<li class="chapter" data-level="9.6.4" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#data-analysis"><i class="fa fa-check"></i><b>9.6.4</b> Data analysis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="data-wrangling--reshaping.html"><a href="data-wrangling--reshaping.html"><i class="fa fa-check"></i><b>10</b> Data Wrangling- Reshaping</a>
<ul>
<li class="chapter" data-level="10.1" data-path="data-wrangling--reshaping.html"><a href="data-wrangling--reshaping.html#동영상"><i class="fa fa-check"></i><b>10.1</b> 동영상</a></li>
<li class="chapter" data-level="10.2" data-path="data-wrangling--reshaping.html"><a href="data-wrangling--reshaping.html#문제-제기"><i class="fa fa-check"></i><b>10.2</b> 문제 제기</a></li>
<li class="chapter" data-level="10.3" data-path="data-wrangling--reshaping.html"><a href="data-wrangling--reshaping.html#split"><i class="fa fa-check"></i><b>10.3</b> split</a></li>
<li class="chapter" data-level="10.4" data-path="data-wrangling--reshaping.html"><a href="data-wrangling--reshaping.html#gather-pivot_longer"><i class="fa fa-check"></i><b>10.4</b> gather (pivot_longer)</a></li>
<li class="chapter" data-level="10.5" data-path="data-wrangling--reshaping.html"><a href="data-wrangling--reshaping.html#spread-pivot_wider"><i class="fa fa-check"></i><b>10.5</b> spread (pivot_wider)</a></li>
<li class="chapter" data-level="10.6" data-path="data-wrangling--reshaping.html"><a href="data-wrangling--reshaping.html#stringr"><i class="fa fa-check"></i><b>10.6</b> stringr</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="data-wrangling--reshaping.html"><a href="data-wrangling--reshaping.html#분진-노출자-찾기"><i class="fa fa-check"></i><b>10.6.1</b> 분진 노출자 찾기</a></li>
<li class="chapter" data-level="10.6.2" data-path="data-wrangling--reshaping.html"><a href="data-wrangling--reshaping.html#특정-문자-변환"><i class="fa fa-check"></i><b>10.6.2</b> 특정 문자 변환</a></li>
<li class="chapter" data-level="10.6.3" data-path="data-wrangling--reshaping.html"><a href="data-wrangling--reshaping.html#과제-4"><i class="fa fa-check"></i><b>10.6.3</b> 과제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="web-scraping.html"><a href="web-scraping.html"><i class="fa fa-check"></i><b>11</b> Web Scraping</a>
<ul>
<li class="chapter" data-level="11.1" data-path="web-scraping.html"><a href="web-scraping.html#issue-of-covid19-in-korea"><i class="fa fa-check"></i><b>11.1</b> issue of COVID19 in Korea</a></li>
<li class="chapter" data-level="11.2" data-path="web-scraping.html"><a href="web-scraping.html#homework"><i class="fa fa-check"></i><b>11.2</b> homework</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="web-scraping.html"><a href="web-scraping.html#download-cumulative-covid19-death"><i class="fa fa-check"></i><b>11.2.1</b> download Cumulative covid19 death</a></li>
<li class="chapter" data-level="11.2.2" data-path="web-scraping.html"><a href="web-scraping.html#uk-italy-france-spain-usa-canada"><i class="fa fa-check"></i><b>11.2.2</b> UK, Italy, France, Spain, USA, Canada</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="web-scraping.html"><a href="web-scraping.html#review-of-title-from-google-scholar"><i class="fa fa-check"></i><b>11.3</b> Review of title from google scholar</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="web-scraping.html"><a href="web-scraping.html#googl-scholar"><i class="fa fa-check"></i><b>11.3.1</b> googl scholar</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="web-scraping.html"><a href="web-scraping.html#home-work-2"><i class="fa fa-check"></i><b>11.4</b> home work 2</a></li>
<li class="chapter" data-level="11.5" data-path="web-scraping.html"><a href="web-scraping.html#black-report-2"><i class="fa fa-check"></i><b>11.5</b> Black Report 2</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="date-and-time-series.html"><a href="date-and-time-series.html"><i class="fa fa-check"></i><b>12</b> Date and time series</a>
<ul>
<li class="chapter" data-level="12.1" data-path="date-and-time-series.html"><a href="date-and-time-series.html#date-create"><i class="fa fa-check"></i><b>12.1</b> Date create</a></li>
<li class="chapter" data-level="12.2" data-path="date-and-time-series.html"><a href="date-and-time-series.html#tutor-heat-wave-and-death"><i class="fa fa-check"></i><b>12.2</b> Tutor: heat wave and death</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="date-and-time-series.html"><a href="date-and-time-series.html#date-create-1"><i class="fa fa-check"></i><b>12.2.1</b> date create</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="date-and-time-series.html"><a href="date-and-time-series.html#home-work-1"><i class="fa fa-check"></i><b>12.3</b> home work</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="date-and-time-series.html"><a href="date-and-time-series.html#home0"><i class="fa fa-check"></i><b>12.3.1</b> home0</a></li>
<li class="chapter" data-level="12.3.2" data-path="date-and-time-series.html"><a href="date-and-time-series.html#home-work1"><i class="fa fa-check"></i><b>12.3.2</b> home work1</a></li>
<li class="chapter" data-level="12.3.3" data-path="date-and-time-series.html"><a href="date-and-time-series.html#home-work2"><i class="fa fa-check"></i><b>12.3.3</b> home work2</a></li>
<li class="chapter" data-level="12.3.4" data-path="date-and-time-series.html"><a href="date-and-time-series.html#home-work3"><i class="fa fa-check"></i><b>12.3.4</b> home work3</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="date-and-time-series.html"><a href="date-and-time-series.html#time-series-data-analysis"><i class="fa fa-check"></i><b>12.4</b> Time series data analysis</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="date-and-time-series.html"><a href="date-and-time-series.html#outside-사망에-대해서"><i class="fa fa-check"></i><b>12.4.1</b> outside 사망에 대해서</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="date-and-time-series.html"><a href="date-and-time-series.html#time-series-data-analysis-regression"><i class="fa fa-check"></i><b>12.5</b> Time series data analysis, regression</a></li>
<li class="chapter" data-level="12.6" data-path="date-and-time-series.html"><a href="date-and-time-series.html#introduction-1"><i class="fa fa-check"></i><b>12.6</b> introduction</a></li>
<li class="chapter" data-level="12.7" data-path="date-and-time-series.html"><a href="date-and-time-series.html#미세먼지와-심혈관사망"><i class="fa fa-check"></i><b>12.7</b> 미세먼지와 심혈관사망</a></li>
<li class="chapter" data-level="12.8" data-path="date-and-time-series.html"><a href="date-and-time-series.html#방법-tutor"><i class="fa fa-check"></i><b>12.8</b> 방법 tutor</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>13</b> R markdown</a>
<ul>
<li class="chapter" data-level="13.1" data-path="r-markdown.html"><a href="r-markdown.html#설치"><i class="fa fa-check"></i><b>13.1</b> 설치</a></li>
<li class="chapter" data-level="13.2" data-path="r-markdown.html"><a href="r-markdown.html#components"><i class="fa fa-check"></i><b>13.2</b> 3 components</a></li>
<li class="chapter" data-level="13.3" data-path="r-markdown.html"><a href="r-markdown.html#simple-tutor"><i class="fa fa-check"></i><b>13.3</b> simple tutor</a></li>
<li class="chapter" data-level="13.4" data-path="r-markdown.html"><a href="r-markdown.html#chunck-option"><i class="fa fa-check"></i><b>13.4</b> chunck option</a></li>
<li class="chapter" data-level="13.5" data-path="r-markdown.html"><a href="r-markdown.html#table-만들기"><i class="fa fa-check"></i><b>13.5</b> Table 만들기</a></li>
<li class="chapter" data-level="13.6" data-path="r-markdown.html"><a href="r-markdown.html#필독"><i class="fa fa-check"></i><b>13.6</b> 필독!</a></li>
<li class="chapter" data-level="13.7" data-path="r-markdown.html"><a href="r-markdown.html#동영상-1"><i class="fa fa-check"></i><b>13.7</b> 동영상</a></li>
<li class="chapter" data-level="13.8" data-path="r-markdown.html"><a href="r-markdown.html#과제-5"><i class="fa fa-check"></i><b>13.8</b> 과제</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="rmarkdown-and-reporting.html"><a href="rmarkdown-and-reporting.html"><i class="fa fa-check"></i><b>14</b> Rmarkdown and reporting</a>
<ul>
<li class="chapter" data-level="14.1" data-path="rmarkdown-and-reporting.html"><a href="rmarkdown-and-reporting.html#rmarkdown-and-word-office-down"><i class="fa fa-check"></i><b>14.1</b> Rmarkdown and Word (office down)</a></li>
<li class="chapter" data-level="14.2" data-path="rmarkdown-and-reporting.html"><a href="rmarkdown-and-reporting.html#rmarkdown-and-pdf"><i class="fa fa-check"></i><b>14.2</b> Rmarkdown and PDF</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="google-maps-platform.html"><a href="google-maps-platform.html"><i class="fa fa-check"></i><b>15</b> Google Maps Platform</a>
<ul>
<li class="chapter" data-level="15.1" data-path="google-maps-platform.html"><a href="google-maps-platform.html#google-tackeout"><i class="fa fa-check"></i><b>15.1</b> Google Tackeout</a></li>
<li class="chapter" data-level="15.2" data-path="google-maps-platform.html"><a href="google-maps-platform.html#data-visualization"><i class="fa fa-check"></i><b>15.2</b> Data visualization</a></li>
<li class="chapter" data-level="15.3" data-path="google-maps-platform.html"><a href="google-maps-platform.html#google-api"><i class="fa fa-check"></i><b>15.3</b> google API</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="leaflet.html"><a href="leaflet.html"><i class="fa fa-check"></i><b>16</b> Map using leaflet</a>
<ul>
<li class="chapter" data-level="16.1" data-path="leaflet.html"><a href="leaflet.html#leaflet-1"><i class="fa fa-check"></i><b>16.1</b> leaflet</a></li>
<li class="chapter" data-level="16.2" data-path="leaflet.html"><a href="leaflet.html#위치와-시간표시"><i class="fa fa-check"></i><b>16.2</b> 위치와 시간표시</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="shinyapps.html"><a href="shinyapps.html"><i class="fa fa-check"></i><b>17</b> shinyapps</a>
<ul>
<li class="chapter" data-level="17.1" data-path="shinyapps.html"><a href="shinyapps.html#설치-1"><i class="fa fa-check"></i><b>17.1</b> 설치</a></li>
<li class="chapter" data-level="17.2" data-path="shinyapps.html"><a href="shinyapps.html#예제"><i class="fa fa-check"></i><b>17.2</b> 예제</a></li>
<li class="chapter" data-level="17.3" data-path="shinyapps.html"><a href="shinyapps.html#예제-1-만들기"><i class="fa fa-check"></i><b>17.3</b> 예제 1 만들기</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="shinyapps.html"><a href="shinyapps.html#구조"><i class="fa fa-check"></i><b>17.3.1</b> 구조</a></li>
<li class="chapter" data-level="17.3.2" data-path="shinyapps.html"><a href="shinyapps.html#input-output"><i class="fa fa-check"></i><b>17.3.2</b> input, output</a></li>
<li class="chapter" data-level="17.3.3" data-path="shinyapps.html"><a href="shinyapps.html#과제-6"><i class="fa fa-check"></i><b>17.3.3</b> 과제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">보건학데이터과학 실습 with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="basic-plot-with-r" class="section level1" number="8">
<h1><span class="header-section-number">Chapter 8</span> Basic plot with R</h1>
<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('right', 'top', 'auto', '1', 'Click to copy', 'Done');
</script>
<iframe width="560" height="315" src="https://www.youtube.com/embed/QDwZ1vUOqRk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<div id="ggplot-basic" class="section level2" number="8.1">
<h2><span class="header-section-number">8.1</span> ggplot basic</h2>
<p>기본적인 표와 그래프를 그리기 앞서, 가장 많이 사용되는 package인 ggplot2 에 대해 알아 보겠습니다. 내장된 데이터인 <code>iris</code>데이터를 이용해 실습하겠습니다.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="basic-plot-with-r.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(iris)</span></code></pre></div>
<div id="그래프-틀" class="section level3" number="8.1.1">
<h3><span class="header-section-number">8.1.1</span> 그래프 틀</h3>
<p>그래프를 그리기 위해서 필요한 것은 데이터, x-axis, y-axis 입니다. 이를 통해 틀을 만들고 이후 필요한 것들을 추가하는 방식입니다.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="basic-plot-with-r.html#cb2-1" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> <span class="co"># 데이터 선정</span></span>
<span id="cb2-2"><a href="basic-plot-with-r.html#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Sepal.Length, <span class="at">y =</span> Sepal.Width))</span></code></pre></div>
<p><img src="testbook_files/figure-html/basic%20set%20up%201-1.png" width="672" /></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="basic-plot-with-r.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># aes 안에 x축, y축 설정</span></span></code></pre></div>
<p>이렇게 X, Y -axis 가 만들어 졌습니다. xlab, ylab을 통해 축 이름과 ggtitle을 통해 제목을 바꾸어 보겠습니다.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="basic-plot-with-r.html#cb4-1" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> <span class="co"># 데이터 선정</span></span>
<span id="cb4-2"><a href="basic-plot-with-r.html#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Sepal.Length, <span class="at">y =</span> Sepal.Width)) <span class="sc">+</span></span>
<span id="cb4-3"><a href="basic-plot-with-r.html#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># aes 안에 x축, y축 설정</span></span>
<span id="cb4-4"><a href="basic-plot-with-r.html#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;잎 길이 (sepal length&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;잎 넓이 (sepal width&quot;</span>) <span class="sc">+</span></span>
<span id="cb4-5"><a href="basic-plot-with-r.html#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;잎의 길이 넓이에 따른 아이리스 꽃 분류&quot;</span>)</span></code></pre></div>
<p><img src="testbook_files/figure-html/setup%202-1.png" width="672" /></p>
</div>
<div id="레이어" class="section level3" number="8.1.2">
<h3><span class="header-section-number">8.1.2</span> 레이어</h3>
<p>레이어는 틀 안에 무엇을 넣을 지 입니다. geom_x() 형식 입니다.
x에는 point, line, smooth, histogram, density, boxplot, bar 가 있습니다.</p>
<table>
<thead>
<tr class="header">
<th>geom_x()</th>
<th>내용</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>geom_point()</td>
<td>scatter plot, 산점도</td>
</tr>
<tr class="even">
<td>geom_line()</td>
<td>line plot, 선</td>
</tr>
<tr class="odd">
<td>geom_smooth()</td>
<td>prediction line, 예측선</td>
</tr>
<tr class="even">
<td>geom_histogram()</td>
<td>histogram, 히스토그래프</td>
</tr>
<tr class="odd">
<td>geom_density()</td>
<td>density line, 밀도함수</td>
</tr>
<tr class="even">
<td>geom_boxplot()</td>
<td>boxplot plot, 박스표</td>
</tr>
<tr class="odd">
<td>geom_bar()</td>
<td>bar chart, 막대그래프</td>
</tr>
</tbody>
</table>
<div id="geom_point" class="section level4" number="8.1.2.1">
<h4><span class="header-section-number">8.1.2.1</span> geom_point()</h4>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="basic-plot-with-r.html#cb5-1" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> <span class="co"># 데이터 선정</span></span>
<span id="cb5-2"><a href="basic-plot-with-r.html#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="do">### 기본 설정 </span></span>
<span id="cb5-3"><a href="basic-plot-with-r.html#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Sepal.Length, <span class="at">y =</span> Sepal.Width)) <span class="sc">+</span></span>
<span id="cb5-4"><a href="basic-plot-with-r.html#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;잎 길이 (sepal length&quot;</span>) <span class="sc">+</span> </span>
<span id="cb5-5"><a href="basic-plot-with-r.html#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;잎 넓이 (sepal width&quot;</span>) <span class="sc">+</span></span>
<span id="cb5-6"><a href="basic-plot-with-r.html#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;잎의 길이 넓이에 따른 아이리스 꽃 분류&quot;</span>) <span class="sc">+</span></span>
<span id="cb5-7"><a href="basic-plot-with-r.html#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="do">### 레이어</span></span>
<span id="cb5-8"><a href="basic-plot-with-r.html#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="testbook_files/figure-html/layer%20point%201-1.png" width="672" />
좀더 나아가 보겠습니다. 산점도로 구별이 되지 않습니다. 이때 아이리스 종류 별로 색을 다르게 해보겠습니다. aes( ) 안에 color = Species 를 넣어 틀을 만들겠습니다.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="basic-plot-with-r.html#cb6-1" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> <span class="co"># 데이터 선정</span></span>
<span id="cb6-2"><a href="basic-plot-with-r.html#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="do">### 기본 설정 </span></span>
<span id="cb6-3"><a href="basic-plot-with-r.html#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Sepal.Length, <span class="at">y =</span> Sepal.Width, </span>
<span id="cb6-4"><a href="basic-plot-with-r.html#cb6-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> Species)) <span class="sc">+</span> <span class="co"># 색 구별 추가!</span></span>
<span id="cb6-5"><a href="basic-plot-with-r.html#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;잎 길이 (sepal length&quot;</span>) <span class="sc">+</span> </span>
<span id="cb6-6"><a href="basic-plot-with-r.html#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;잎 넓이 (sepal width&quot;</span>) <span class="sc">+</span></span>
<span id="cb6-7"><a href="basic-plot-with-r.html#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;잎의 길이 넓이에 따른 아이리스 꽃 분류&quot;</span>) <span class="sc">+</span></span>
<span id="cb6-8"><a href="basic-plot-with-r.html#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="do">### 레이어</span></span>
<span id="cb6-9"><a href="basic-plot-with-r.html#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="testbook_files/figure-html/layer%20point%202-1.png" width="672" />
어떻나요? 조금더 좋아졌습니다. 이번에는 추세선 geom_smooth() 를 추가하여 종류별로 잎의 길이와 넓이와의관계를 보겠습니다. geom_line() 도 추가해 보세요. 여기서는 논리적으로 효용성이 없어 생략하겠습니다 .</p>
</div>
<div id="geom_smooth" class="section level4" number="8.1.2.2">
<h4><span class="header-section-number">8.1.2.2</span> geom_smooth()</h4>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="basic-plot-with-r.html#cb7-1" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> <span class="co"># 데이터 선정</span></span>
<span id="cb7-2"><a href="basic-plot-with-r.html#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="do">### 기본 설정 </span></span>
<span id="cb7-3"><a href="basic-plot-with-r.html#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Sepal.Length, <span class="at">y =</span> Sepal.Width, </span>
<span id="cb7-4"><a href="basic-plot-with-r.html#cb7-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> Species)) <span class="sc">+</span> <span class="co"># 색 구별 추가!</span></span>
<span id="cb7-5"><a href="basic-plot-with-r.html#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;잎 길이 (sepal length&quot;</span>) <span class="sc">+</span> </span>
<span id="cb7-6"><a href="basic-plot-with-r.html#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;잎 넓이 (sepal width&quot;</span>) <span class="sc">+</span></span>
<span id="cb7-7"><a href="basic-plot-with-r.html#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;잎의 길이 넓이에 따른 아이리스 꽃 분류&quot;</span>) <span class="sc">+</span></span>
<span id="cb7-8"><a href="basic-plot-with-r.html#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="do">### 레이어</span></span>
<span id="cb7-9"><a href="basic-plot-with-r.html#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="co"># geom_line() +</span></span>
<span id="cb7-10"><a href="basic-plot-with-r.html#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="co"># 추세선 추가</span></span></code></pre></div>
<p><img src="testbook_files/figure-html/layer%20point%203-1.png" width="672" /></p>
<p>선형 추세성을 추가하고, 5차방정식 추세선도 추가해 보겠습니다 .</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="basic-plot-with-r.html#cb8-1" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> <span class="co"># 데이터 선정</span></span>
<span id="cb8-2"><a href="basic-plot-with-r.html#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="do">### 기본 설정 </span></span>
<span id="cb8-3"><a href="basic-plot-with-r.html#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Sepal.Length, <span class="at">y =</span> Sepal.Width, </span>
<span id="cb8-4"><a href="basic-plot-with-r.html#cb8-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> Species)) <span class="sc">+</span> <span class="co"># 색 구별 추가!</span></span>
<span id="cb8-5"><a href="basic-plot-with-r.html#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;잎 길이 (sepal length&quot;</span>) <span class="sc">+</span> </span>
<span id="cb8-6"><a href="basic-plot-with-r.html#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;잎 넓이 (sepal width&quot;</span>) <span class="sc">+</span></span>
<span id="cb8-7"><a href="basic-plot-with-r.html#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;잎의 길이 넓이에 따른 아이리스 꽃 분류&quot;</span>) <span class="sc">+</span></span>
<span id="cb8-8"><a href="basic-plot-with-r.html#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="do">### 레이어</span></span>
<span id="cb8-9"><a href="basic-plot-with-r.html#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb8-10"><a href="basic-plot-with-r.html#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&#39;lm&#39;</span>, <span class="at">formula =</span> y <span class="sc">~</span> <span class="fu">poly</span>(x, <span class="dv">5</span>), <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">linetype =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb8-11"><a href="basic-plot-with-r.html#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&#39;lm&#39;</span>, <span class="at">formula =</span> y <span class="sc">~</span> x, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">linetype =</span> <span class="dv">2</span>)  <span class="co"># 추세선 추가</span></span></code></pre></div>
<p><img src="testbook_files/figure-html/layer%20point%204-1.png" width="672" />
##### faceting</p>
<p>한 화면에 그렸더니 장점도 있지만, 복잡한 부분도 있습니다. 이럴 때는 faceting 을 이용합니다. facet_wrap()</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="basic-plot-with-r.html#cb9-1" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> <span class="co"># 데이터 선정</span></span>
<span id="cb9-2"><a href="basic-plot-with-r.html#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="do">### 기본 설정 </span></span>
<span id="cb9-3"><a href="basic-plot-with-r.html#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Sepal.Length, <span class="at">y =</span> Sepal.Width, </span>
<span id="cb9-4"><a href="basic-plot-with-r.html#cb9-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> Species)) <span class="sc">+</span> <span class="co"># 색 구별 추가!</span></span>
<span id="cb9-5"><a href="basic-plot-with-r.html#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;잎 길이 (sepal length&quot;</span>) <span class="sc">+</span> </span>
<span id="cb9-6"><a href="basic-plot-with-r.html#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;잎 넓이 (sepal width&quot;</span>) <span class="sc">+</span></span>
<span id="cb9-7"><a href="basic-plot-with-r.html#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;잎의 길이 넓이에 따른 아이리스 꽃 분류&quot;</span>) <span class="sc">+</span></span>
<span id="cb9-8"><a href="basic-plot-with-r.html#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="do">### 레이어</span></span>
<span id="cb9-9"><a href="basic-plot-with-r.html#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb9-10"><a href="basic-plot-with-r.html#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&#39;lm&#39;</span>, <span class="at">formula =</span> y <span class="sc">~</span> <span class="fu">poly</span>(x, <span class="dv">5</span>), <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">linetype =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb9-11"><a href="basic-plot-with-r.html#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&#39;lm&#39;</span>, <span class="at">formula =</span> y <span class="sc">~</span> x, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">linetype =</span> <span class="dv">2</span>) <span class="sc">+</span> <span class="co"># 추세선 추가</span></span>
<span id="cb9-12"><a href="basic-plot-with-r.html#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(Species<span class="sc">~</span>.)</span></code></pre></div>
<p><img src="testbook_files/figure-html/layer%20point%205-1.png" width="672" /></p>
</div>
<div id="geom_bar" class="section level4" number="8.1.2.3">
<h4><span class="header-section-number">8.1.2.3</span> geom_bar()</h4>
<p>아이리스 꽃 별 갯수를 그려보겠습니다. 50개씩 있네요.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="basic-plot-with-r.html#cb10-1" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> <span class="co"># 데이터 선정</span></span>
<span id="cb10-2"><a href="basic-plot-with-r.html#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="do">### 기본 설정 </span></span>
<span id="cb10-3"><a href="basic-plot-with-r.html#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Species,  </span>
<span id="cb10-4"><a href="basic-plot-with-r.html#cb10-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">fill =</span> Species)) <span class="sc">+</span> <span class="co"># 색 구별 추가!</span></span>
<span id="cb10-5"><a href="basic-plot-with-r.html#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;아이리스 종류&quot;</span>) <span class="sc">+</span> </span>
<span id="cb10-6"><a href="basic-plot-with-r.html#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;갯수&quot;</span>) <span class="sc">+</span></span>
<span id="cb10-7"><a href="basic-plot-with-r.html#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;아이리스 꽃 별 갯수&quot;</span>) <span class="sc">+</span></span>
<span id="cb10-8"><a href="basic-plot-with-r.html#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="testbook_files/figure-html/geom_bar%201-1.png" width="672" />
아이리스 꽃 별 갯수를 그려보겠습니다.Sepal.Width 가 3 이상인 것의 갯수를 그려보겠습니다. <code>filter(Sepal.Width &gt; 3)</code>을 이용하겠습니다. 만약 길이가 길다면 아이리스 중에 어떤 종류일까요?</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="basic-plot-with-r.html#cb11-1" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="basic-plot-with-r.html#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sepal.Width <span class="sc">&gt;</span><span class="dv">3</span>) <span class="sc">%&gt;%</span>  <span class="co"># 데이터 선정</span></span>
<span id="cb11-3"><a href="basic-plot-with-r.html#cb11-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-4"><a href="basic-plot-with-r.html#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="do">### 기본 설정 </span></span>
<span id="cb11-5"><a href="basic-plot-with-r.html#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Species,  </span>
<span id="cb11-6"><a href="basic-plot-with-r.html#cb11-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">fill =</span> Species)) <span class="sc">+</span> <span class="co"># 색 구별 추가!</span></span>
<span id="cb11-7"><a href="basic-plot-with-r.html#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;아이리스 종류 (길이가 3 이상&quot;</span>) <span class="sc">+</span> </span>
<span id="cb11-8"><a href="basic-plot-with-r.html#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;갯수&quot;</span>) <span class="sc">+</span></span>
<span id="cb11-9"><a href="basic-plot-with-r.html#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;아이리스 꽃 별 갯수&quot;</span>) <span class="sc">+</span></span>
<span id="cb11-10"><a href="basic-plot-with-r.html#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="testbook_files/figure-html/geom_bar%202%20-1.png" width="672" /></p>
<p>파이 차트 등도 barplot의 하위로 할 수 있</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="basic-plot-with-r.html#cb12-1" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="basic-plot-with-r.html#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sepal.Width <span class="sc">&gt;</span><span class="dv">3</span>) <span class="sc">%&gt;%</span>  <span class="co"># 데이터 선정</span></span>
<span id="cb12-3"><a href="basic-plot-with-r.html#cb12-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-4"><a href="basic-plot-with-r.html#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="do">### 기본 설정 </span></span>
<span id="cb12-5"><a href="basic-plot-with-r.html#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Species,  </span>
<span id="cb12-6"><a href="basic-plot-with-r.html#cb12-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">fill =</span> Species)) <span class="sc">+</span> <span class="co"># 색 구별 추가!</span></span>
<span id="cb12-7"><a href="basic-plot-with-r.html#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;아이리스 종류 (길이가 3 이상&quot;</span>) <span class="sc">+</span> </span>
<span id="cb12-8"><a href="basic-plot-with-r.html#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;갯수&quot;</span>) <span class="sc">+</span></span>
<span id="cb12-9"><a href="basic-plot-with-r.html#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;아이리스 꽃 별 갯수&quot;</span>) <span class="sc">+</span></span>
<span id="cb12-10"><a href="basic-plot-with-r.html#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">width =</span><span class="dv">1</span>) <span class="sc">+</span> <span class="fu">coord_polar</span>()</span></code></pre></div>
<p><img src="testbook_files/figure-html/geom_bar%204-1.png" width="672" /></p>
</div>
<div id="geom_density-geom_histogram" class="section level4" number="8.1.2.4">
<h4><span class="header-section-number">8.1.2.4</span> geom_density() , geom_histogram()</h4>
<p>잎의 넓이의 분포를 그려보겠습니다. histogram과 density를 그려보았습니다.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="basic-plot-with-r.html#cb13-1" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> <span class="co"># 데이터 선정</span></span>
<span id="cb13-2"><a href="basic-plot-with-r.html#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="do">### 기본 설정 </span></span>
<span id="cb13-3"><a href="basic-plot-with-r.html#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Sepal.Length)) <span class="sc">+</span> <span class="co"># 색 구별 추가!</span></span>
<span id="cb13-4"><a href="basic-plot-with-r.html#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;아이리스 잎 넓이&quot;</span>) <span class="sc">+</span> </span>
<span id="cb13-5"><a href="basic-plot-with-r.html#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;밀도&quot;</span>) <span class="sc">+</span></span>
<span id="cb13-6"><a href="basic-plot-with-r.html#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;아이리스 잎 넓이 분포&quot;</span>) <span class="sc">+</span></span>
<span id="cb13-7"><a href="basic-plot-with-r.html#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..))<span class="sc">+</span></span>
<span id="cb13-8"><a href="basic-plot-with-r.html#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>()</span></code></pre></div>
<p><img src="testbook_files/figure-html/geom_density%201-1.png" width="672" /></p>
<p>뭔가 어정쩡하게 나왔습니다. heterogeniety 가 보이네요. 안보이신 다고요. aes() 안에 <code>fill = Species</code>를 넣어 구별해 보겠습니다. virginica가 잎이 넓네요. 앞서 했던 color = Species 와 무엇이 다른가요?</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="basic-plot-with-r.html#cb14-1" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> <span class="co"># 데이터 선정</span></span>
<span id="cb14-2"><a href="basic-plot-with-r.html#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="do">### 기본 설정 </span></span>
<span id="cb14-3"><a href="basic-plot-with-r.html#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Sepal.Length, <span class="at">fill =</span> Species)) <span class="sc">+</span> <span class="co"># 색 구별 추가!</span></span>
<span id="cb14-4"><a href="basic-plot-with-r.html#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;아이리스 잎 넓이&quot;</span>) <span class="sc">+</span> </span>
<span id="cb14-5"><a href="basic-plot-with-r.html#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;밀도&quot;</span>) <span class="sc">+</span></span>
<span id="cb14-6"><a href="basic-plot-with-r.html#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;아이리스 잎 넓이 분포&quot;</span>) <span class="sc">+</span></span>
<span id="cb14-7"><a href="basic-plot-with-r.html#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">alpha =</span> <span class="fl">0.3</span>)<span class="sc">+</span></span>
<span id="cb14-8"><a href="basic-plot-with-r.html#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">stat=</span><span class="st">&quot;density&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb14-9"><a href="basic-plot-with-r.html#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="co"># 이거는 제가 좋아하는 테마라 넣어 봤습니다. </span></span></code></pre></div>
<p><img src="testbook_files/figure-html/geom_density%202-1.png" width="672" />
당연히 faceting을 해볼 수 있습니다. 이런 경우 faceting이 좋은가요? 없는 것이 좋은가요? 연구자 목적 마다 다를 수 있습니다.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="basic-plot-with-r.html#cb15-1" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> <span class="co"># 데이터 선정</span></span>
<span id="cb15-2"><a href="basic-plot-with-r.html#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="do">### 기본 설정 </span></span>
<span id="cb15-3"><a href="basic-plot-with-r.html#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Sepal.Length, <span class="at">fill =</span> Species)) <span class="sc">+</span> <span class="co"># 색 구별 추가!</span></span>
<span id="cb15-4"><a href="basic-plot-with-r.html#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;아이리스 잎 넓이&quot;</span>) <span class="sc">+</span> </span>
<span id="cb15-5"><a href="basic-plot-with-r.html#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;밀도&quot;</span>) <span class="sc">+</span></span>
<span id="cb15-6"><a href="basic-plot-with-r.html#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;아이리스 잎 넓이 분포&quot;</span>) <span class="sc">+</span></span>
<span id="cb15-7"><a href="basic-plot-with-r.html#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">alpha =</span> <span class="fl">0.3</span>)<span class="sc">+</span></span>
<span id="cb15-8"><a href="basic-plot-with-r.html#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">stat=</span><span class="st">&quot;density&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb15-9"><a href="basic-plot-with-r.html#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="co"># 이거는 제가 좋아하는 테마라 넣어 봤습니다. </span></span>
<span id="cb15-10"><a href="basic-plot-with-r.html#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(Species<span class="sc">~</span>.)</span></code></pre></div>
<p><img src="testbook_files/figure-html/geom_density%203-1.png" width="672" /></p>
</div>
<div id="geom_boxplot" class="section level4" number="8.1.2.5">
<h4><span class="header-section-number">8.1.2.5</span> geom_boxplot()</h4>
<p>아이리스 꽃 별 잎의 넓이 분포를 boxplot을 그려보겠습니다.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="basic-plot-with-r.html#cb16-1" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> <span class="co"># 데이터 선정</span></span>
<span id="cb16-2"><a href="basic-plot-with-r.html#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="do">### 기본 설정 </span></span>
<span id="cb16-3"><a href="basic-plot-with-r.html#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Species, <span class="at">y =</span> Sepal.Width, </span>
<span id="cb16-4"><a href="basic-plot-with-r.html#cb16-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> Species)) <span class="sc">+</span> <span class="co"># 색 구별 추가!</span></span>
<span id="cb16-5"><a href="basic-plot-with-r.html#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;아이리스 종류&quot;</span>) <span class="sc">+</span> </span>
<span id="cb16-6"><a href="basic-plot-with-r.html#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;잎 넓이 (sepal width)&quot;</span>) <span class="sc">+</span></span>
<span id="cb16-7"><a href="basic-plot-with-r.html#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;아이리스 꽃 별 잎의 넓이 분포&quot;</span>) <span class="sc">+</span></span>
<span id="cb16-8"><a href="basic-plot-with-r.html#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="testbook_files/figure-html/geom_boxplot%201-1.png" width="672" />
<strong><em>퀴즈!</em></strong> 아이리스 꽃 별 잎의 넓이 분포를 boxplot을 그려보겠습니다.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="basic-plot-with-r.html#cb17-1" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span> <span class="co"># 데이터 선정</span></span>
<span id="cb17-2"><a href="basic-plot-with-r.html#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="do">### 기본 설정 </span></span>
<span id="cb17-3"><a href="basic-plot-with-r.html#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Species, <span class="at">y =</span> Sepal.Length, </span>
<span id="cb17-4"><a href="basic-plot-with-r.html#cb17-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> Species)) <span class="sc">+</span> <span class="co"># 색 구별 추가!</span></span>
<span id="cb17-5"><a href="basic-plot-with-r.html#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;아이리스 종류&quot;</span>) <span class="sc">+</span> </span>
<span id="cb17-6"><a href="basic-plot-with-r.html#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;잎 길이 (sepal length)&quot;</span>) <span class="sc">+</span></span>
<span id="cb17-7"><a href="basic-plot-with-r.html#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;아이리스 꽃 별 잎의 길이 분포&quot;</span>) <span class="sc">+</span></span>
<span id="cb17-8"><a href="basic-plot-with-r.html#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="testbook_files/figure-html/geom_boxplot%202-1.png" width="672" />
#### 3d plot</p>
<p>지금 까지의 실습을 보면 잎의 넓이과 길이에 따라 종류가 구별될수 있을 것 같은데요, 이때 3d plot을 그려보면서 알아볼 수 있을 것 같습니다. plot_ly는 ggplot 보다 상호 작용 부분과 3d 부분에서 더 우수합니다. 기본적인 것은 ggplot을 실습하시고 필요할 때 plotly를 사용하면 될 것 같습니다. 이번에는 3d plot을 위해서.. 해보겠습니다.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="basic-plot-with-r.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb18-2"><a href="basic-plot-with-r.html#cb18-2" aria-hidden="true" tabindex="-1"></a>iris <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="basic-plot-with-r.html#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_ly</span>(  <span class="co"># Data</span></span>
<span id="cb18-4"><a href="basic-plot-with-r.html#cb18-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="sc">~</span>Sepal.Length, <span class="at">y =</span> <span class="sc">~</span>Petal.Length, <span class="at">z =</span> <span class="sc">~</span>Petal.Width,  </span>
<span id="cb18-5"><a href="basic-plot-with-r.html#cb18-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="sc">~</span>Species,  <span class="co"># Color separation by Species. </span></span>
<span id="cb18-6"><a href="basic-plot-with-r.html#cb18-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">type =</span> <span class="st">&quot;scatter3d&quot;</span>,   <span class="co"># 3d plot을 그린다는 의미</span></span>
<span id="cb18-7"><a href="basic-plot-with-r.html#cb18-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">alpha =</span> <span class="fl">0.8</span></span>
<span id="cb18-8"><a href="basic-plot-with-r.html#cb18-8" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">%&gt;%</span>  </span>
<span id="cb18-9"><a href="basic-plot-with-r.html#cb18-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">layout</span>(</span>
<span id="cb18-10"><a href="basic-plot-with-r.html#cb18-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">scene =</span> <span class="fu">list</span>(<span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">&#39;꽃 받침 길이&#39;</span>), </span>
<span id="cb18-11"><a href="basic-plot-with-r.html#cb18-11" aria-hidden="true" tabindex="-1"></a>                            <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">&#39;꽃 잎 길이&#39;</span>),</span>
<span id="cb18-12"><a href="basic-plot-with-r.html#cb18-12" aria-hidden="true" tabindex="-1"></a>                            <span class="at">zaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">&#39;꽃 잎 넓이&#39;</span>)))</span></code></pre></div>
<div id="htmlwidget-e73bf036bb7f3ed7fd96" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-e73bf036bb7f3ed7fd96">{"x":{"visdat":{"43f3236fb2f8b":["function () ","plotlyVisDat"]},"cur_data":"43f3236fb2f8b","attrs":{"43f3236fb2f8b":{"x":{},"y":{},"z":{},"color":{},"alpha":0.8,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter3d"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"scene":{"xaxis":{"title":"꽃 받침 길이"},"yaxis":{"title":"꽃 잎 길이"},"zaxis":{"title":"꽃 잎 넓이"}},"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[5.1,4.9,4.7,4.6,5,5.4,4.6,5,4.4,4.9,5.4,4.8,4.8,4.3,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,4.6,5.1,4.8,5,5,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5,5.5,4.9,4.4,5.1,5,4.5,4.4,5,5.1,4.8,5.1,4.6,5.3,5],"y":[1.4,1.4,1.3,1.5,1.4,1.7,1.4,1.5,1.4,1.5,1.5,1.6,1.4,1.1,1.2,1.5,1.3,1.4,1.7,1.5,1.7,1.5,1,1.7,1.9,1.6,1.6,1.5,1.4,1.6,1.6,1.5,1.5,1.4,1.5,1.2,1.3,1.4,1.3,1.5,1.3,1.3,1.3,1.6,1.9,1.4,1.6,1.4,1.5,1.4],"z":[0.2,0.2,0.2,0.2,0.2,0.4,0.3,0.2,0.2,0.1,0.2,0.2,0.1,0.1,0.2,0.4,0.4,0.3,0.3,0.3,0.2,0.4,0.2,0.5,0.2,0.2,0.4,0.2,0.2,0.2,0.2,0.4,0.1,0.2,0.2,0.2,0.2,0.1,0.2,0.2,0.3,0.3,0.2,0.6,0.4,0.3,0.2,0.2,0.2,0.2],"type":"scatter3d","mode":"markers","name":"setosa","marker":{"color":"rgba(102,194,165,0.8)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,0.8)"},"error_y":{"color":"rgba(102,194,165,0.8)"},"error_x":{"color":"rgba(102,194,165,0.8)"},"line":{"color":"rgba(102,194,165,0.8)"},"frame":null},{"x":[7,6.4,6.9,5.5,6.5,5.7,6.3,4.9,6.6,5.2,5,5.9,6,6.1,5.6,6.7,5.6,5.8,6.2,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6.7,6,5.7,5.5,5.5,5.8,6,5.4,6,6.7,6.3,5.6,5.5,5.5,6.1,5.8,5,5.6,5.7,5.7,6.2,5.1,5.7],"y":[4.7,4.5,4.9,4,4.6,4.5,4.7,3.3,4.6,3.9,3.5,4.2,4,4.7,3.6,4.4,4.5,4.1,4.5,3.9,4.8,4,4.9,4.7,4.3,4.4,4.8,5,4.5,3.5,3.8,3.7,3.9,5.1,4.5,4.5,4.7,4.4,4.1,4,4.4,4.6,4,3.3,4.2,4.2,4.2,4.3,3,4.1],"z":[1.4,1.5,1.5,1.3,1.5,1.3,1.6,1,1.3,1.4,1,1.5,1,1.4,1.3,1.4,1.5,1,1.5,1.1,1.8,1.3,1.5,1.2,1.3,1.4,1.4,1.7,1.5,1,1.1,1,1.2,1.6,1.5,1.6,1.5,1.3,1.3,1.3,1.2,1.4,1.2,1,1.3,1.2,1.3,1.3,1.1,1.3],"type":"scatter3d","mode":"markers","name":"versicolor","marker":{"color":"rgba(252,141,98,0.8)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,0.8)"},"error_y":{"color":"rgba(252,141,98,0.8)"},"error_x":{"color":"rgba(252,141,98,0.8)"},"line":{"color":"rgba(252,141,98,0.8)"},"frame":null},{"x":[6.3,5.8,7.1,6.3,6.5,7.6,4.9,7.3,6.7,7.2,6.5,6.4,6.8,5.7,5.8,6.4,6.5,7.7,7.7,6,6.9,5.6,7.7,6.3,6.7,7.2,6.2,6.1,6.4,7.2,7.4,7.9,6.4,6.3,6.1,7.7,6.3,6.4,6,6.9,6.7,6.9,5.8,6.8,6.7,6.7,6.3,6.5,6.2,5.9],"y":[6,5.1,5.9,5.6,5.8,6.6,4.5,6.3,5.8,6.1,5.1,5.3,5.5,5,5.1,5.3,5.5,6.7,6.9,5,5.7,4.9,6.7,4.9,5.7,6,4.8,4.9,5.6,5.8,6.1,6.4,5.6,5.1,5.6,6.1,5.6,5.5,4.8,5.4,5.6,5.1,5.1,5.9,5.7,5.2,5,5.2,5.4,5.1],"z":[2.5,1.9,2.1,1.8,2.2,2.1,1.7,1.8,1.8,2.5,2,1.9,2.1,2,2.4,2.3,1.8,2.2,2.3,1.5,2.3,2,2,1.8,2.1,1.8,1.8,1.8,2.1,1.6,1.9,2,2.2,1.5,1.4,2.3,2.4,1.8,1.8,2.1,2.4,2.3,1.9,2.3,2.5,2.3,1.9,2,2.3,1.8],"type":"scatter3d","mode":"markers","name":"virginica","marker":{"color":"rgba(141,160,203,0.8)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,0.8)"},"error_y":{"color":"rgba(141,160,203,0.8)"},"error_x":{"color":"rgba(141,160,203,0.8)"},"line":{"color":"rgba(141,160,203,0.8)"},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="simple-machine-learning-decision-tree" class="section level4" number="8.1.2.6">
<h4><span class="header-section-number">8.1.2.6</span> simple machine learning decision tree</h4>
<p>즉 잎과 꽃 바침의 길이 넓이에 따라 Decision tree를 만들수도 있을 것 같다는 생각이 드시죠? 여기까지 왔으니, 간단한 예제로 플로우만 보도록 하겠습니다.</p>
<div id="데이터를-73으로-training과-test를-나눕니다." class="section level5" number="8.1.2.6.1">
<h5><span class="header-section-number">8.1.2.6.1</span> 데이터를 7:3으로 training과 test를 나눕니다.</h5>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="basic-plot-with-r.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret) <span class="co"># caret package 불러오기</span></span>
<span id="cb19-2"><a href="basic-plot-with-r.html#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(iris)</span>
<span id="cb19-3"><a href="basic-plot-with-r.html#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2020</span>)</span>
<span id="cb19-4"><a href="basic-plot-with-r.html#cb19-4" aria-hidden="true" tabindex="-1"></a>train_index <span class="ot">&lt;-</span> <span class="fu">createDataPartition</span>(</span>
<span id="cb19-5"><a href="basic-plot-with-r.html#cb19-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">y=</span> iris<span class="sc">$</span>Species,  <span class="co"># 종속변수 </span></span>
<span id="cb19-6"><a href="basic-plot-with-r.html#cb19-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">p =</span> .<span class="dv">7</span>,  <span class="co"># 70% vs 30%.으로 나누기</span></span>
<span id="cb19-7"><a href="basic-plot-with-r.html#cb19-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">list =</span> <span class="cn">FALSE</span>,</span>
<span id="cb19-8"><a href="basic-plot-with-r.html#cb19-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">times =</span> <span class="dv">1</span>)  <span class="co"># 중복 없이</span></span>
<span id="cb19-9"><a href="basic-plot-with-r.html#cb19-9" aria-hidden="true" tabindex="-1"></a>train_data <span class="ot">&lt;-</span> iris[ train_index,]  <span class="co"># train 데이터 만들기</span></span>
<span id="cb19-10"><a href="basic-plot-with-r.html#cb19-10" aria-hidden="true" tabindex="-1"></a>test_data  <span class="ot">&lt;-</span> iris[<span class="sc">-</span>train_index,]  <span class="co"># test 데이터 만들기</span></span></code></pre></div>
</div>
<div id="fold-cross-validation" class="section level5" number="8.1.2.6.2">
<h5><span class="header-section-number">8.1.2.6.2</span> 10 fold cross validation</h5>
<p>cross validation 개발</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="basic-plot-with-r.html#cb20-1" aria-hidden="true" tabindex="-1"></a>fitControl <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(<span class="at">method =</span> <span class="st">&quot;cv&quot;</span>, <span class="co"># cross validation</span></span>
<span id="cb20-2"><a href="basic-plot-with-r.html#cb20-2" aria-hidden="true" tabindex="-1"></a>                           <span class="at">number =</span> <span class="dv">10</span>    ) <span class="co"># 10번</span></span></code></pre></div>
</div>
<div id="machine-learning-모델" class="section level5" number="8.1.2.6.3">
<h5><span class="header-section-number">8.1.2.6.3</span> machine learning 모델</h5>
<p>모델 개발,결과 보기 94% 정확도.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="basic-plot-with-r.html#cb21-1" aria-hidden="true" tabindex="-1"></a>DTFit1 <span class="ot">&lt;-</span> <span class="fu">train</span>(<span class="at">data =</span> train_data, <span class="co"># train data를 이용하라</span></span>
<span id="cb21-2"><a href="basic-plot-with-r.html#cb21-2" aria-hidden="true" tabindex="-1"></a>                </span>
<span id="cb21-3"><a href="basic-plot-with-r.html#cb21-3" aria-hidden="true" tabindex="-1"></a>                Species <span class="sc">~</span> ., <span class="co"># . 은 모든 변수를 다 이용하라</span></span>
<span id="cb21-4"><a href="basic-plot-with-r.html#cb21-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">method =</span> <span class="st">&#39;rpart&#39;</span>, <span class="co"># https://topepo.github.io/caret/available-models.html 여기서 찾아 보세요</span></span>
<span id="cb21-5"><a href="basic-plot-with-r.html#cb21-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">trControl =</span> fitControl) <span class="co"># 아까 만든 cross validation</span></span>
<span id="cb21-6"><a href="basic-plot-with-r.html#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="fu">confusionMatrix</span>(DTFit1) <span class="co"># 결과 보기</span></span></code></pre></div>
<pre><code>## Cross-Validated (10 fold) Confusion Matrix 
## 
## (entries are percentual average cell counts across resamples)
##  
##             Reference
## Prediction   setosa versicolor virginica
##   setosa       33.3        0.0       0.0
##   versicolor    0.0       30.5       1.9
##   virginica     0.0        2.9      31.4
##                             
##  Accuracy (average) : 0.9524</code></pre>
<p>그럼 무엇이 관련이 있는가</p>
</div>
<div id="barplot-for-importance" class="section level5" number="8.1.2.6.4">
<h5><span class="header-section-number">8.1.2.6.4</span> barplot for importance</h5>
<p>그런 예측을 하는데 중요도가 변수 만다 다릅니다. 이것을 importance라고 합니다 이것 bar plot으로 그려보겠습니다 .</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="basic-plot-with-r.html#cb23-1" aria-hidden="true" tabindex="-1"></a>fit1_imp <span class="ot">&lt;-</span> <span class="fu">varImp</span>(DTFit1)</span>
<span id="cb23-2"><a href="basic-plot-with-r.html#cb23-2" aria-hidden="true" tabindex="-1"></a>fit1_imp <span class="sc">%&gt;%</span> </span>
<span id="cb23-3"><a href="basic-plot-with-r.html#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Overall)) <span class="sc">+</span> </span>
<span id="cb23-4"><a href="basic-plot-with-r.html#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span> </span>
<span id="cb23-5"><a href="basic-plot-with-r.html#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Decision Tree에서 변수별 중요도&quot;</span>) </span></code></pre></div>
<p><img src="testbook_files/figure-html/imp%20bar%20plot-1.png" width="672" />
##### decision tree ploting</p>
<p>이것을 그림으로 그려 보면 다음과 같습니다.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="basic-plot-with-r.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rpart)</span>
<span id="cb24-2"><a href="basic-plot-with-r.html#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rattle)</span>
<span id="cb24-3"><a href="basic-plot-with-r.html#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fancyRpartPlot</span>(DTFit1<span class="sc">$</span>finalModel)</span></code></pre></div>
<p><img src="testbook_files/figure-html/dt%20tree%20flow%20chart-1.png" width="672" /></p>
</div>
</div>
</div>
</div>
<div id="visualization-example-with-covid19-data-group_by-and-mutate" class="section level2" number="8.2">
<h2><span class="header-section-number">8.2</span> visualization example with COVID19 data (group_by and mutate)</h2>
<p>data import from research tutor, now use ‘international COVID19 survey: post new normal life’ the leader of this project is ‘Laura, Univ of Michigan.’ And this tutorial data is only for 1st wave survey of Korea (Jun).</p>
<p><iframe width="560" height="315" src="https://www.youtube.com/embed/QGsljS0tJ7M" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="basic-plot-with-r.html#cb25-1" aria-hidden="true" tabindex="-1"></a>covid<span class="ot">&lt;-</span>readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="st">&#39;data/covid_korea.XLSX&#39;</span>, <span class="at">sheet =</span><span class="dv">1</span>)</span>
<span id="cb25-2"><a href="basic-plot-with-r.html#cb25-2" aria-hidden="true" tabindex="-1"></a>dic<span class="ot">&lt;-</span>readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="st">&#39;data/dic_kor.xlsx&#39;</span>)</span>
<span id="cb25-3"><a href="basic-plot-with-r.html#cb25-3" aria-hidden="true" tabindex="-1"></a>dic.eng<span class="ot">&lt;-</span>readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="st">&#39;data/dic_eng.xlsx&#39;</span>)</span>
<span id="cb25-4"><a href="basic-plot-with-r.html#cb25-4" aria-hidden="true" tabindex="-1"></a>dic.eng <span class="ot">&lt;-</span> dic.eng <span class="sc">%&gt;%</span></span>
<span id="cb25-5"><a href="basic-plot-with-r.html#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">&#39;variables&#39;</span> <span class="ot">=</span> 변수명)</span></code></pre></div>
<p>overview of data (just 10 rows)</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="basic-plot-with-r.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(covid) <span class="sc">%&gt;%</span> <span class="fu">datatable</span>()</span></code></pre></div>
<div id="htmlwidget-659caadd12e9fbc15f63" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-659caadd12e9fbc15f63">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],[15,16,17,18,19,20],[1,1,1,1,1,1],[2,2,1,2,2,1],[24,29,46,50,65,50],[2,2,4,5,6,5],[8,8,1,8,1,6],[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[2,2,2,2,2,2],[2,2,2,2,2,2],[2,2,2,2,2,2],[2020,2020,2020,2020,2020,2020],[7,7,7,7,7,7],[29,29,29,29,29,29],[2020,2020,2020,2020,2020,2020],[7,7,7,7,7,7],[29,29,29,29,29,29],[3,1,2,3,2,3],[2,1,2,1,2,1],[2,1,2,2,2,1],[2,1,2,2,2,2],[2,1,2,1,2,2],[2,1,2,2,2,1],[2,1,2,2,2,1],[2,1,2,1,2,1],[2,1,1,2,3,1],[2,1,1,1,2,1],[2,1,1,2,2,1],[2,1,2,2,4,3],[2,1,2,2,2,1],[3,3,2,3,3,1],[2,1,1,1,1,1],[2,1,1,1,1,1],[3,1,1,1,1,1],[3,1,1,1,1,1],[2,1,1,1,1,1],[2,1,1,1,1,1],[2,1,1,1,1,1],[3,4,3,3,4,3],[1,1,1,1,1,1],[2,null,2,2,2,2],[3,3,3,3,3,3],[4,null,4,4,4,4],[null,null,5,5,5,null],[6,null,6,6,6,6],[7,null,7,7,7,null],[8,null,8,8,8,null],[9,null,9,9,9,null],[10,null,null,10,null,null],[11,null,null,null,11,null],[12,null,12,12,12,null],[13,null,null,13,null,null],[14,null,null,14,null,null],[15,null,null,null,15,null],[null,null,null,null,null,null],[3,1,3,3,3,4],[3,1,3,2,3,4],[3,1,2,1,2,4],[4,1,2,2,2,4],[4,2,2,2,2,3],[3,1,2,1,2,4],[3,1,2,3,3,3],[3,1,2,2,4,4],[4,1,2,2,4,4],[4,4,4,4,4,4],[null,null,null,null,null,null],[10,1,10,7,10,10],[1,2,1,2,2,1],[8,8,6,6,7,7],[null,null,null,null,null,1],[2,null,null,null,null,null],[null,null,null,3,null,null],[null,null,null,null,4,null],[null,null,null,null,5,null],[null,null,null,null,null,null],[null,7,7,null,null,null],[1,null,null,null,1,null],[2,null,null,2,2,null],[3,null,null,3,null,null],[null,null,null,null,null,null],[5,5,null,null,5,null],[6,null,null,null,null,null],[7,null,null,null,null,null],[8,null,8,null,null,null],[9,null,null,null,9,null],[null,10,null,null,null,null],[null,11,null,null,null,null],[null,null,null,null,null,null],[13,null,null,null,null,null],[14,null,14,14,null,null],[null,null,null,null,null,15],[3,2,2,2,3,1],[4,3,2,3,2,1],[4,3,2,3,3,1],[4,3,2,3,3,1],[4,2,2,2,3,3],[3,2,3,2,3,3],[4,2,3,2,3,1],[4,2,3,2,3,1],[2,5,1,2,2,2],[2,2,1,2,2,2],[3,2,3,2,3,3],[3,2,3,2,2,2],[4,1,2,3,2,1],[1,1,null,null,null,1],[2,null,null,null,2,null],[3,null,3,3,3,3],[4,null,4,4,null,4],[5,null,5,null,5,5],[null,null,null,null,null,null],[7,null,null,7,7,null],[8,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[1,1,1,1,1,1],[2,2,1,2,2,1],[2,2,2,2,2,2],[3,2,1,2,1,1],[2,2,1,1,1,1],[1,3,1,1,1,1],[2,2,2,2,2,2],[1,3,1,1,1,1],[1,3,1,1,1,1],[3,3,1,1,1,2],[2,3,2,1,2,2],[1,1,1,1,1,1],[2,1,1,1,1,1],[3,3,2,1,3,1],[2,2,2,2,2,2],[2,2,2,2,1,2],[3,2,2,2,3,2],[3,2,2,2,2,2],[3,2,2,2,3,2],[2,2,2,3,2,2],[1,2,2,1,2,2],[2,2,2,1,1,2],[2,2,2,2,2,2],[3,2,2,2,1,2],[2,2,2,2,2,2],[1,1,2,2,2,2],[2,2,2,1,2,1],[1,2,2,2,2,2],[3,2,2,3,3,2],[2,2,2,2,1,2],[2,2,2,2,2,2],[3,2,2,2,3,2],[3,2,1,2,3,2],[3,2,3,2,3,2],[2,2,2,2,3,2],[2,2,2,1,2,1],[3,2,3,3,3,2],[1,2,2,2,2,2],[2,2,2,2,2,3],[2,2,2,2,2,2],[1,2,2,2,2,2],[3,3,2,3,3,2],[null,null,null,null,null,null],[null,null,null,null,2,2],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,5,null,null,null,5],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[10,10,null,null,null,null],[null,11,null,null,null,null],[null,12,null,null,null,null],[null,null,null,null,null,null],[null,null,13,13,null,null],[null,null,null,null,null,null],[2,1,1,1,1,1],[1,1,1,1,1,1],[1,1,2,1,1,1],[1,2,1,1,1,1],[3,2,1,1,2,1],[3,1,1,2,1,1],[3,1,1,2,1,1],[3,2,1,2,1,1],[3,3,1,1,1,1],[1,2,1,1,1,1],[2,1,1,2,1,1],[2,3,1,2,1,1],[null,1,null,null,null,null],[2,null,null,null,null,null],[null,null,null,null,null,null],[null,4,null,null,null,null],[null,5,null,null,null,null],[null,6,null,null,null,null],[7,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,10,10,10,10],[3,1,1,1,1,1],[1,1,1,1,1,1],[2,null,2,null,null,null],[null,null,null,null,null,null],[4,null,null,null,null,null],[null,null,null,null,null,null],[6,6,6,null,null,null],[7,7,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,1,null,null,null,null],[null,2,null,2,2,null],[3,3,null,3,3,null],[null,4,null,4,4,null],[5,5,null,5,5,null],[null,6,null,6,null,null],[null,7,null,7,null,null],[null,null,null,null,null,null],[null,null,9,null,null,9],[2,1,2,2,3,1],[2,1,3,3,3,3],[3,3,3,3,3,3],[3,1,1,1,1,1],[3,3,4,3,2,2],[3,3,3,2,1,3],[3,3,2,2,2,2],[2,2,2,2,2,2],[2,2,2,2,2,2],[4,3,2,2,2,3],[2,3,2,2,2,2],[2,1,1,1,1,1],[1,1,2,2,2,2],[2,1,1,1,1,2],[4,3,4,4,3,4],[3,2,3,3,3,2],[3,2,3,3,3,3],[2,2,3,2,2,2],[2,2,3,2,2,2],[2,2,3,3,3,2],[4,2,3,3,3,3],[1,2,2,3,2,1],[3,2,3,3,4,3],[2,1,2,2,2,1],[2,1,2,2,3,1],[3,2,3,3,4,2],[3,2,3,4,3,4],[2,2,2,2,3,3],[1,2,2,2,2,1],[1,2,2,2,2,1],[1,1,2,2,3,1],[1,1,2,1,3,1],[2,2,3,3,3,4],[2,2,3,3,3,3],[2,2,3,3,3,3],[3,2,3,3,3,4],[2,1,3,2,3,2],[null,null,null,null,1,1],[null,null,null,2,null,2],[null,null,null,null,null,3],[null,null,4,null,null,4],[5,5,null,null,null,5],[null,null,null,null,null,null],[null,null,null,1,null,1],[null,null,2,null,null,null],[3,3,null,null,null,3],[null,null,4,null,null,null],[null,null,null,null,null,5],[null,null,null,null,6,null],[3,4,4,4,3,3],[3,3,3,2,2,3],[3,3,3,2,2,2],[2,3,2,3,2,3],[3,4,4,2,2,3],[4,3,4,2,2,4],[3,3,3,3,2,1],[2,4,3,3,3,2],[3,3,3,2,3,3],[2,1,3,2,3,3],[2,2,4,3,3,3],[4,3,1,2,2,1],[4,2,3,3,3,3],[2,2,3,2,2,2],[1,2,1,2,2,2],[1,2,1,1,2,2],[1,2,1,1,2,2],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[6,6,6,6,6,6],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,1],[null,null,null,null,2,null],[null,null,null,null,null,null],[null,4,null,4,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[10,null,10,null,null,null],[null,null,null,null,null,null],[1,1,2,2,2,2],[2,5,2,2,3,2],[2,2,3,2,3,2],[4,2,2,4,4,5],[1,1,1,null,1,1],[null,null,null,null,null,null],[3,null,null,null,null,null],[null,null,null,null,null,null],[5,null,5,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,13,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[2,null,2,2,null,null],[3,null,null,3,null,3],[null,null,null,null,null,4],[5,5,5,5,null,5],[null,null,null,6,null,null],[7,7,7,null,null,7],[null,null,null,null,8,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[5,1,5,3,5,5],[5,2,14,8,15,14],[null,null,null,null,null,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>No<\/th>\n      <th>Agree<\/th>\n      <th>SQ1<\/th>\n      <th>SQ2<\/th>\n      <th>SQ2_code<\/th>\n      <th>SQ3<\/th>\n      <th>SQ4_1<\/th>\n      <th>SQ4_2<\/th>\n      <th>SQ4_3<\/th>\n      <th>SQ4_4<\/th>\n      <th>SQ4_5<\/th>\n      <th>SQ4_6<\/th>\n      <th>DATE1_y<\/th>\n      <th>DATE1_m<\/th>\n      <th>DATE1_d<\/th>\n      <th>DATE2_y<\/th>\n      <th>DATE2_m<\/th>\n      <th>DATE2_d<\/th>\n      <th>Q1_1<\/th>\n      <th>Q1_2<\/th>\n      <th>Q1_3<\/th>\n      <th>Q1_4<\/th>\n      <th>Q1_5<\/th>\n      <th>Q1_6<\/th>\n      <th>Q1_7<\/th>\n      <th>Q1_8<\/th>\n      <th>Q1_9<\/th>\n      <th>Q1_10<\/th>\n      <th>Q1_11<\/th>\n      <th>Q1_12<\/th>\n      <th>Q1_13<\/th>\n      <th>Q1_14<\/th>\n      <th>Q1_15<\/th>\n      <th>Q1_16<\/th>\n      <th>Q1_17<\/th>\n      <th>Q1_18<\/th>\n      <th>Q1_19<\/th>\n      <th>Q1_20<\/th>\n      <th>Q1_21<\/th>\n      <th>Q1_22<\/th>\n      <th>Q2_1<\/th>\n      <th>Q2_2<\/th>\n      <th>Q2_3<\/th>\n      <th>Q2_4<\/th>\n      <th>Q2_5<\/th>\n      <th>Q2_6<\/th>\n      <th>Q2_7<\/th>\n      <th>Q2_8<\/th>\n      <th>Q2_9<\/th>\n      <th>Q2_10<\/th>\n      <th>Q2_11<\/th>\n      <th>Q2_12<\/th>\n      <th>Q2_13<\/th>\n      <th>Q2_14<\/th>\n      <th>Q2_15<\/th>\n      <th>Q2_16<\/th>\n      <th>Q3<\/th>\n      <th>Q4<\/th>\n      <th>Q5_1<\/th>\n      <th>Q5_2<\/th>\n      <th>Q5_3<\/th>\n      <th>Q5_4<\/th>\n      <th>Q5_5<\/th>\n      <th>Q5_6<\/th>\n      <th>Q5_7<\/th>\n      <th>Q5_8<\/th>\n      <th>Q5_8_op<\/th>\n      <th>Q6<\/th>\n      <th>Q7<\/th>\n      <th>Q8<\/th>\n      <th>Q9_1<\/th>\n      <th>Q9_2<\/th>\n      <th>Q9_3<\/th>\n      <th>Q9_4<\/th>\n      <th>Q9_5<\/th>\n      <th>Q9_6<\/th>\n      <th>Q9_7<\/th>\n      <th>Q10_1<\/th>\n      <th>Q10_2<\/th>\n      <th>Q10_3<\/th>\n      <th>Q10_4<\/th>\n      <th>Q10_5<\/th>\n      <th>Q10_6<\/th>\n      <th>Q10_7<\/th>\n      <th>Q10_8<\/th>\n      <th>Q10_9<\/th>\n      <th>Q10_10<\/th>\n      <th>Q10_11<\/th>\n      <th>Q10_12<\/th>\n      <th>Q10_13<\/th>\n      <th>Q10_14<\/th>\n      <th>Q10_15<\/th>\n      <th>Q11_1<\/th>\n      <th>Q11_2<\/th>\n      <th>Q11_3<\/th>\n      <th>Q11_4<\/th>\n      <th>Q11_5<\/th>\n      <th>Q11_6<\/th>\n      <th>Q11_7<\/th>\n      <th>Q11_8<\/th>\n      <th>Q12<\/th>\n      <th>Q13<\/th>\n      <th>Q14_1<\/th>\n      <th>Q14_2<\/th>\n      <th>Q15<\/th>\n      <th>Q16_1<\/th>\n      <th>Q16_2<\/th>\n      <th>Q16_3<\/th>\n      <th>Q16_4<\/th>\n      <th>Q16_5<\/th>\n      <th>Q16_6<\/th>\n      <th>Q16_7<\/th>\n      <th>Q16_8<\/th>\n      <th>Q16_9<\/th>\n      <th>Q16_10<\/th>\n      <th>Q16_11<\/th>\n      <th>Q16_12<\/th>\n      <th>Q16_12_op<\/th>\n      <th>Q17_1<\/th>\n      <th>Q17_2<\/th>\n      <th>Q17_3<\/th>\n      <th>Q17_4<\/th>\n      <th>Q17_5<\/th>\n      <th>Q17_6<\/th>\n      <th>Q17_7<\/th>\n      <th>Q17_8<\/th>\n      <th>Q17_9<\/th>\n      <th>Q17_10<\/th>\n      <th>Q17_11<\/th>\n      <th>Q17_12<\/th>\n      <th>Q17_13<\/th>\n      <th>Q17_14<\/th>\n      <th>Q17_15<\/th>\n      <th>Q17_16<\/th>\n      <th>Q18_1<\/th>\n      <th>Q18_2<\/th>\n      <th>Q18_3<\/th>\n      <th>Q18_4<\/th>\n      <th>Q18_5<\/th>\n      <th>Q18_6<\/th>\n      <th>Q18_7<\/th>\n      <th>Q19_1<\/th>\n      <th>Q19_2<\/th>\n      <th>Q19_3<\/th>\n      <th>Q19_4<\/th>\n      <th>Q19_5<\/th>\n      <th>Q19_6<\/th>\n      <th>Q19_7<\/th>\n      <th>Q19_8<\/th>\n      <th>Q19_9<\/th>\n      <th>Q19_10<\/th>\n      <th>Q19_11<\/th>\n      <th>Q19_12<\/th>\n      <th>Q19_13<\/th>\n      <th>Q19_14<\/th>\n      <th>Q19_15<\/th>\n      <th>Q19_16<\/th>\n      <th>Q19_17<\/th>\n      <th>Q19_18<\/th>\n      <th>Q20<\/th>\n      <th>Q21_1<\/th>\n      <th>Q21_2<\/th>\n      <th>Q21_3<\/th>\n      <th>Q21_4<\/th>\n      <th>Q21_5<\/th>\n      <th>Q21_6<\/th>\n      <th>Q21_7<\/th>\n      <th>Q21_8<\/th>\n      <th>Q21_9<\/th>\n      <th>Q21_10<\/th>\n      <th>Q21_11<\/th>\n      <th>Q21_12<\/th>\n      <th>Q21_12_op<\/th>\n      <th>Q21_13<\/th>\n      <th>Q21_14<\/th>\n      <th>Q22_1<\/th>\n      <th>Q22_2<\/th>\n      <th>Q22_3<\/th>\n      <th>Q22_4<\/th>\n      <th>Q22_5<\/th>\n      <th>Q23_1<\/th>\n      <th>Q23_2<\/th>\n      <th>Q23_3<\/th>\n      <th>Q23_4<\/th>\n      <th>Q23_5<\/th>\n      <th>Q23_6<\/th>\n      <th>Q23_7<\/th>\n      <th>Q24_1<\/th>\n      <th>Q24_2<\/th>\n      <th>Q24_3<\/th>\n      <th>Q24_4<\/th>\n      <th>Q24_5<\/th>\n      <th>Q24_6<\/th>\n      <th>Q24_7<\/th>\n      <th>Q24_8<\/th>\n      <th>Q24_9<\/th>\n      <th>Q24_9_op<\/th>\n      <th>Q24_10<\/th>\n      <th>Q25<\/th>\n      <th>Q26_1_1<\/th>\n      <th>Q26_1_2<\/th>\n      <th>Q26_1_3<\/th>\n      <th>Q26_1_4<\/th>\n      <th>Q26_1_5<\/th>\n      <th>Q26_1_6<\/th>\n      <th>Q26_1_7<\/th>\n      <th>Q26_1_8<\/th>\n      <th>Q26_1_9<\/th>\n      <th>Q26_2_1<\/th>\n      <th>Q26_2_2<\/th>\n      <th>Q26_2_3<\/th>\n      <th>Q26_2_4<\/th>\n      <th>Q26_2_5<\/th>\n      <th>Q26_2_6<\/th>\n      <th>Q26_2_7<\/th>\n      <th>Q26_2_8<\/th>\n      <th>Q26_2_9<\/th>\n      <th>Q27<\/th>\n      <th>Q28<\/th>\n      <th>Q29<\/th>\n      <th>Q30<\/th>\n      <th>Q31_1<\/th>\n      <th>Q31_2<\/th>\n      <th>Q31_3<\/th>\n      <th>Q32<\/th>\n      <th>Q33<\/th>\n      <th>Q34<\/th>\n      <th>Q35<\/th>\n      <th>Q36<\/th>\n      <th>Q37<\/th>\n      <th>Q38<\/th>\n      <th>Q39_1<\/th>\n      <th>Q39_2<\/th>\n      <th>Q39_3<\/th>\n      <th>Q39_4<\/th>\n      <th>Q39_5<\/th>\n      <th>Q39_6<\/th>\n      <th>Q39_7<\/th>\n      <th>Q39_8<\/th>\n      <th>Q39_9<\/th>\n      <th>Q39_10<\/th>\n      <th>Q39_11<\/th>\n      <th>Q40_1<\/th>\n      <th>Q40_2<\/th>\n      <th>Q40_3<\/th>\n      <th>Q40_4<\/th>\n      <th>Q40_5<\/th>\n      <th>Q40_6<\/th>\n      <th>Q40_7<\/th>\n      <th>Q40_8<\/th>\n      <th>Q40_9<\/th>\n      <th>Q40_10<\/th>\n      <th>Q40_11<\/th>\n      <th>Q40_12<\/th>\n      <th>Q41_1<\/th>\n      <th>Q41_2<\/th>\n      <th>Q41_3<\/th>\n      <th>Q41_4<\/th>\n      <th>Q41_5<\/th>\n      <th>Q41_6<\/th>\n      <th>Q42_1<\/th>\n      <th>Q42_2<\/th>\n      <th>Q42_3<\/th>\n      <th>Q42_4<\/th>\n      <th>Q42_5<\/th>\n      <th>Q42_6<\/th>\n      <th>Q43_1<\/th>\n      <th>Q43_2<\/th>\n      <th>Q43_3<\/th>\n      <th>Q43_4<\/th>\n      <th>Q43_5<\/th>\n      <th>Q43_6<\/th>\n      <th>Q43_7<\/th>\n      <th>Q43_8<\/th>\n      <th>Q44_1<\/th>\n      <th>Q44_2<\/th>\n      <th>Q44_3<\/th>\n      <th>Q44_4<\/th>\n      <th>Q44_5<\/th>\n      <th>Q45_1<\/th>\n      <th>Q45_2<\/th>\n      <th>Q45_3<\/th>\n      <th>Q45_4<\/th>\n      <th>Q46_1<\/th>\n      <th>Q46_2<\/th>\n      <th>Q46_3<\/th>\n      <th>Q46_4<\/th>\n      <th>Q46_5<\/th>\n      <th>Q46_6<\/th>\n      <th>Q46_7<\/th>\n      <th>Q46_8<\/th>\n      <th>Q46_9<\/th>\n      <th>Q46_10<\/th>\n      <th>Q46_11<\/th>\n      <th>Q46_12<\/th>\n      <th>Q46_13<\/th>\n      <th>Q47_1<\/th>\n      <th>Q47_2<\/th>\n      <th>Q47_3<\/th>\n      <th>Q47_4<\/th>\n      <th>Q47_5<\/th>\n      <th>Q47_6<\/th>\n      <th>Q47_7<\/th>\n      <th>Q47_8<\/th>\n      <th>Q47_9<\/th>\n      <th>Q47_10<\/th>\n      <th>Q47_11<\/th>\n      <th>Q48<\/th>\n      <th>Q49<\/th>\n      <th>Q50<\/th>\n      <th>DQ1<\/th>\n      <th>DQ2_1<\/th>\n      <th>DQ2_2<\/th>\n      <th>DQ2_3<\/th>\n      <th>DQ2_4<\/th>\n      <th>DQ2_5<\/th>\n      <th>DQ2_6<\/th>\n      <th>DQ2_7<\/th>\n      <th>DQ2_8<\/th>\n      <th>DQ2_9<\/th>\n      <th>DQ2_10<\/th>\n      <th>DQ2_11<\/th>\n      <th>DQ2_12<\/th>\n      <th>DQ2_13<\/th>\n      <th>DQ2_14<\/th>\n      <th>DQ3_1<\/th>\n      <th>DQ3_2<\/th>\n      <th>DQ3_3<\/th>\n      <th>DQ3_4<\/th>\n      <th>DQ3_5<\/th>\n      <th>DQ3_6<\/th>\n      <th>DQ3_7<\/th>\n      <th>DQ3_8<\/th>\n      <th>DQ3_9<\/th>\n      <th>DQ3_10<\/th>\n      <th>DQ4<\/th>\n      <th>DQ5<\/th>\n      <th>DQ6<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,289,297,298,299,300,301,302,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p>overview of codebook (writed in Korea)</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="basic-plot-with-r.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dic) <span class="sc">%&gt;%</span> <span class="fu">datatable</span>()</span></code></pre></div>
<div id="htmlwidget-11c0a390d558601397b1" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-11c0a390d558601397b1">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],[1,2,3,4,5,6],["no","Agree","SQ1","SQ2","SQ2_code","SQ3"],["연구 no","Q. 위 항목들에 동의하십니까?","SQ1. 귀하의 성별은 무엇입니까?","SQ2. 귀하의 출생년도는 어떻게 되십니까? (연령)","SQ2. 귀하의 출생년도는 어떻게 되십니까? (code)","SQ3. 귀하의 현재 거주 지역은 어디입니까?"],[null,"1) 예, 동의합니다\r\n2) 아니오, 동의하지 않습니다.","1) 남자\r\n2) 여자","연속형 숫자","2) 만 20~29세\r\n3) 만 30~39세\r\n4) 만 40~49세\r\n5) 만 50~59세\r\n6) 만 60~69세","1) 서울\r\n2) 부산\r\n3) 대구\r\n4) 인천\r\n5) 광주\r\n6) 대전\r\n7) 울산\r\n8) 경기\r\n9) 강원\r\n10) 충북\r\n11) 충남\r\n12) 전북\r\n13) 전남\r\n14) 경북\r\n15) 경남\r\n16) 제주\r\n17) 세종"],[null,null,null,null,null,null],[null,null,null,null,null,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>NO<\/th>\n      <th>변수명<\/th>\n      <th>변수설명<\/th>\n      <th>변수값<\/th>\n      <th>설문 문항<\/th>\n      <th>비고<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":1},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p>overview of codebook (english)</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="basic-plot-with-r.html#cb28-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">datatable</span>(dic.eng)</span></code></pre></div>
<div id="htmlwidget-90206945ef3ff8b0389e" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-90206945ef3ff8b0389e">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325"],[1,2,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338],["no","Agree","DATE2_y","DATE2_m","DATE2_d","Q1_1","Q1_2","Q1_3","Q1_4","Q1_5","Q1_6","Q1_7","Q1_8","Q1_9","Q1_10","Q1_11","Q1_12","Q1_13","Q1_14","Q1_15","Q1_16","Q1_17","Q1_18","Q1_19","Q1_20","Q1_21","Q1_22","Q2_1","Q2_2","Q2_3","Q2_4","Q2_5","Q2_6","Q2_7","Q2_8","Q2_9","Q2_10","Q2_11","Q2_12","Q2_13","Q2_14","Q2_15","Q2_16","Q3","Q4","Q5_1","Q5_2","Q5_3","Q5_4","Q5_5","Q5_6","Q5_7","Q5_8","Q5_8_op","Q6","Q7","Q8","Q9_1","Q9_2","Q9_3","Q9_4","Q9_5","Q9_6","Q9_7","Q10_1","Q10_2","Q10_3","Q10_4","Q10_5","Q10_6","Q10_7","Q10_8","Q10_9","Q10_10","Q10_11","Q10_12","Q10_13","Q10_14","Q10_15","Q11_1","Q11_2","Q11_3","Q11_4","Q11_5","Q11_6","Q11_7","Q11_8","Q12","Q13","Q14_1","Q14_2","Q15","Q16_1","Q16_2","Q16_3","Q16_4","Q16_5","Q16_6","Q16_7","Q16_8","Q16_9","Q16_10","Q16_11","Q16_12","Q16_12_op","Q17_1","Q17_2","Q17_3","Q17_4","Q17_5","Q17_6","Q17_7","Q17_8","Q17_9","Q17_10","Q17_11","Q17_12","Q17_13","Q17_14","Q17_15","Q17_16","Q18_1","Q18_2","Q18_3","Q18_4","Q18_5","Q18_6","Q18_7","Q19_1","Q19_2","Q19_3","Q19_4","Q19_5","Q19_6","Q19_7","Q19_8","Q19_9","Q19_10","Q19_11","Q19_12","Q19_13","Q19_14","Q19_15","Q19_16","Q19_17","Q19_18","Q20","Q21_1","Q21_2","Q21_3","Q21_4","Q21_5","Q21_6","Q21_7","Q21_8","Q21_9","Q21_10","Q21_11","Q21_12","Q21_12_op","Q21_13","Q21_14","Q22_1","Q22_2","Q22_3","Q22_4","Q22_5","Q23_1","Q23_2","Q23_3","Q23_4","Q23_5","Q23_6","Q23_7","Q24_1","Q24_2","Q24_3","Q24_4","Q24_5","Q24_6","Q24_7","Q24_8","Q24_9","Q24_9_op","Q24_10","Q25","Q26_1_1","Q26_1_2","Q26_1_3","Q26_1_4","Q26_1_5","Q26_1_6","Q26_1_7","Q26_1_8","Q26_1_9","Q26_2_1","Q26_2_2","Q26_2_3","Q26_2_4","Q26_2_5","Q26_2_6","Q26_2_7","Q26_2_8","Q26_2_9","Q27","Q28","Q29","Q30","Q31_1","Q31_2","Q31_3","Q32","Q33","Q34","Q35","Q36","Q37","Q38","Q39_1","Q39_2","Q39_3","Q39_4","Q39_5","Q39_6","Q39_7","Q39_8","Q39_9","Q39_10","Q39_11","Q40_1","Q40_2","Q40_3","Q40_4","Q40_5","Q40_6","Q40_7","Q40_8","Q40_9","Q40_10","Q40_11","Q40_12","Q41_1","Q41_2","Q41_3","Q41_4","Q41_5","Q41_6","Q42_1","Q42_2","Q42_3","Q42_4","Q42_5","Q42_6","Q43_1","Q43_2","Q43_3","Q43_4","Q43_5","Q43_6","Q43_7","Q43_8","Q44_1","Q44_2","Q44_3","Q44_4","Q44_5","Q45_1","Q45_2","Q45_3","Q45_4","Q46_1","Q46_2","Q46_3","Q46_4","Q46_5","Q46_6","Q46_7","Q46_8","Q46_9","Q46_10","Q46_11","Q46_12","Q46_13","Q47_1","Q47_2","Q47_3","Q47_4","Q47_5","Q47_6","Q47_7","Q47_8","Q47_9","Q47_10","Q47_11","Q48","Q49","Q50","DQ1","DQ2_1","DQ2_2","DQ2_3","DQ2_4","DQ2_5","DQ2_6","DQ2_7","DQ2_8","DQ2_9","DQ2_10","DQ2_11","DQ2_12","DQ2_13","DQ2_14","DQ3_1","DQ3_2","DQ3_3","DQ3_4","DQ3_5","DQ3_6","DQ3_7","DQ3_8","DQ3_9","DQ3_10","DQ4","DQ5","DQ6"],[null,"Agree","enrolled date_yyyy","enrolled date_mm","enrolled date_dd","Q1. What action has your government (local or national) enacted to restrict the spread of COVID-19?",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"Q2. Which of the following steps have you taken to try to minimize the spread of the COVID-19 in your community? (Select all that apply.)",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"Q3. To what extent are you currently \"social distancing\" (i.e., avoiding contact and maintaining at least 6 feet/2 meters between you and individuals outside your household)?","Q4. To what extent do you think others in your community are currently \"social distancing\" (i.e., avoiding contact and maintaining at least 6 feet/2 meters between you and individuals outside your household)?","Q5. Have you changed the way you celebrate any of the following events?",null,null,null,null,null,null,null,null,"Q6. How long do you think you will be able to maintain your current level of social distancing?","Q7. How difficult is it for you to maintain your current level of social distancing?","Q8. When do you think your community will be \"safe\" from the COVID-19 pandemic?","Q9. What happens if you violate government guidelines on social distancing? (Select all that apply)",null,null,null,null,null,null,"Q10. Have you experienced any difficulties during the COVID-19 crisis? (Select all that apply)",null,null,null,null,null,null,null,null,null,null,null,null,null,null,"Q11. The Coronavirus (COVID-19) crisis has changed or impacted...",null,null,null,null,null,null,null,"Q12. The frequency and/or intensity of arguments my partner and I have experienced since the COVID-19 crisis began has:","Q13. The frequency and/or intensity of arguments my other family members and I have experienced since the COVID-19 crisis began has:","Q14. Compared to before the COVID pandemic, how has my news media consumption changed?",null,"Q15. About how much time do you currently spend consuming news media coverage of COVID-19 each day?","Q16. What sources do you use to obtain reliable information about COVID-19? (Select all that apply)",null,null,null,null,null,null,null,null,null,null,null,null,"Q17. How much do you agree with the following statements about COVID-19 (Coronavirus)?",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"Q18. How much have you been feeling the following emotions during the pandemic, relative to how much you experienced them before the pandemic?",null,null,null,null,null,null,"Q19. How much have you been doing the following actions during the pandemic, relative to how much you did them before the pandemic?",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"Q20. In general, how is your health?","Q21. Which of the following chronic health conditions do you have? Check all that apply (even if controlled with medication)",null,null,null,null,null,null,null,null,null,null,null,null,null,null,"Q22. Are you currently (today) experiencing any of the following?",null,null,null,null,"Q23. Which of these physical symptoms have you experienced in the past (1) month?",null,null,null,null,null,null,"Q24. In the past 3 months, have you had any of the following symptoms?",null,null,null,null,null,null,null,null,null,null,"Q25. Have you ever had, or suspected you might have, the Coronavirus (COVID-19)?","Q26. If I wanted to get a COVID-19 test, I could do this at (select all that apply)",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"Q27. Do you regularly update your vaccinations for diseases present in your area?","Q28. Do you follow the recommended schedule of vaccines for your child(ren)?","Q29. If a vaccine for COVID-19 was made available to you at no cost, would you get it?","Q30. Has anyone you know ever been suspected or confirmed to have Coronavirus (COVID-19)?","Q31. The following questions include beliefs about how much control we have over our likelihood of becoming ill with COVID-19. Please state how much you agree with each statement.",null,null,"Q32. To what extent are you concerned about your personal risk of being infected with COVID-19?","Q33. To what extent are you concerned about your loved ones being infected with COVID-19?","Q34. I am concerned that if I were infected with COVID-19, it may create a great burden for my family.","Q35. I am concerned that if I were infected with COVID-19, it may cause others to devalue or discriminate against me.","Q36. Generally speaking, would you say that most people can be trusted, or that you can’t be too careful in dealing with people?","Q37. Do you think that most people would try to take advantage of you if they got the chance, or would they try to be fair?","Q38. Would you say that most of the time people try to be helpful or that they are mostly looking out for themselves?","Q39. In general, how much do you trust each of the following groups of people?",null,null,null,null,null,null,null,null,null,null,"Q40. In general, how much confidence do you have in the following organizations or individuals information about and handling of the Coronavirus?",null,null,null,null,null,null,null,null,null,null,null,"Q41. If you believe that \"China\" should be blamed for the COVID-19 pandemic, who specifically do you blame? (Check all that apply)",null,null,null,null,null,"Q42. If you believe that \"the U.S.\" should be blamed for the COVID-19 pandemic, who specifically do you blame? (Check all that apply)",null,null,null,null,null,"Q43. How much do you agree with the following statements about who is responsible for the COVID-19 pandemic.",null,null,null,null,null,null,null,"Q44. I see myself as…",null,null,null,null,"Q45. Compared to before the Coronavirus pandemic, how often do these things happen to you?",null,null,null,"Q46. Indicate your race/ethnic identity (check all that apply)",null,null,null,null,null,null,null,null,null,null,null,null,"Q47. What is your current religion, if any? (Select all that apply)",null,null,null,null,null,null,null,null,null,null,"Q48. How important is religion in your life?","Q49. Thinking of religion, how serious is the conflict between people who are very religious and people who are not very religious in your country?","Q50. Do you think this conflict has changed since the COVID-19 outbreak?","DQ1. What is the highest level of education you have completed?","DQ2. Which statement best describes your current employment status? (check all that apply)",null,null,null,null,null,null,null,null,null,null,null,null,null,"DQ3. What measures, if any, has your government enacted to financially support individuals or businesses during the COVID-19 pandemic? (Select all that apply)",null,null,null,null,null,null,null,null,null,"DQ4. Which of the following statements most accurately reflects the financial situation of your family before COVID-related policies took effect?","DQ5. Annual family income (U.S.)","DQ6. Please let us know if there are any additional concerns or thoughts you might have regarding the current Coronavirus crisis and how people make decisions about their own and others' safety."],[null,null,null,null,null,"1) Restricted gatherings to small number of people","2) Restricted gatherings to people in immediate household","3) \"Work from home\" for all but essential personnel","4) Closed schools","5) Closed places of worship","6) Closed gyms or exercise facilities","7) Closed restaurants/bars","8) Restaurants/bars take-out only","9) Seating restrictions inside restaurants","10) Limited hours for grocery stores and pharmacies","11) Limited number of people inside stores","12) Arrows/marks on public floors to restrict foot traffic","13) Closed playgrounds and parks","14) Required face masks in all public places","15) Explicit permission needed to leave the home","16) Limited number of people leaving your home","17) Provide a route indicating where you will go","18) Mandatory testing for COVID-19","19) Curfews","20) Restricted days for driving","21) Restricted travel in/out of my city","22) 14-days mandatory isolation for new arrivals to my city/country","1) Washing your hands more often","2) Using alcohol-based hand sanitizer more often","3) Wearing a face mask","4) Avoiding social events (e.g., parties, family gatherings)","5) Avoiding public transit","6) Avoiding any enclosed spaces outside your home","7) Touching your face less","8) Shopping for groceries less often","9) Cooking at home more often","10) Staying home from work","11) Purchasing extra supplies or food","12) Not going outside your home for walks or exercise","13) Avoiding physical contact when greeting friends and family members","14) Cleaning my living space more often","15) Cleaning groceries and all things that get delivered to my living space","16) I am not doing anything differently",null,null,"1) Birthdays","2) Easter","3) Funerals","4) May 1st",null,"6) Graduation","7) Valentine's Day","8) Other","8) Other(open question)",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"1) My plans for the future.","2) My material circumstances.","3) The activities I engage in.","4) The people I spend time with.","5) Where I live.","6) My attitudes about life.","7) The way I think about things.","8) My mental health.",null,null,"1) At the beginning of the pandemic","2) Currently",null,null,null,null,null,null,null,null,null,null,null,null,null,null,"1) The symptoms of it seem to be connected to 5G mobile network radiation.","2) It will kill more people than the flu this year.","3) It has a higher death rate for people over 70.","4) It originated in a laboratory doing research on biological warfare","5) It is no different from seasonal flu","6) My government is over-reporting the number of people who have died from it.","7) It originated in animalsIt originated in animals.","8) My government is under-reporting the number of people who have died from it.","9) The World Health Organization (WHO) has exaggerated the danger of COVID-19.","10) International news is more reliable than my national news for information about it.","11) It's important to avoid touching any surface that people outside my household may have touched.","12) It only affects older people.","13) Children and teenagers are immune from it.","14) A vaccine for it is likely to be available to me within the next six months.","15) I could catch it if someone infected with it coughs on me.","16) It will stay in the air for several hours after someone coughs or sneezes.","1) Lonely","2) Depressed","3) Anxious","4) Angry","5) Happy","6) Relaxed","7) Focused","1) Exercising","2) Engaging in creative activities","3) Sleeping","4) Avoiding the news","5) Helping others","6) Reading/listening to the news","7) Using alcohol or other drugs","8) Seeking emotional support from others","9) Spending time on social media","10) Playing games","11) Sharing funny memes and videos","12) Eating due to stress or boredom","13) Connecting with family/friends","14) Watching movies/TV","15) Praying or meditating","16) Feeling grateful","17) Journaling","18) Working/doing schoolwork",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"1) Problems walking","2) Problems washing or dressing","3) Problems with daily activities (e.g., school, work, housework, family, or leisure activities)","4) Pain or discomfort","5) Anxiety/Depression","1) Headaches","2) Sick to my stomach","3) Heart beating fast","4) Hard to breathe","5) Feel so restless I can't sit still","6) Feel so restless I can't sit still","7) Muscles feel tense or sore",null,null,null,null,null,null,null,null,null,null,null,null,"With COVID-19 symptoms",null,null,null,null,null,null,null,null,"Without COVID-19 symptoms",null,null,null,null,null,null,null,null,null,null,null,null,"1) I have very little control over whether or not I become ill with COVID-19.","2) Whether or not I become seriously ill is up to fate.","3) Whatever happens is God's will.",null,null,null,null,null,null,null,"1) People in your family?","2) People in your community?","3) People you work or go to school with?","4) People who speak a different language?","5) People of another nationality?","6) People of another religion?","7) Doctors, nurses and other medical practitioners?","8) Religious leaders?","9) Scientists?","10) Politicians?","11) Journalists?","1) World Health Organization (WHO)","2) My country's national health organization or Ministry of Health (e.g., CDC, PHAC)","3) Non-governmental aid organizations (NGOs)","4) Religious organizations","5) Religious leaders","6) US President","7) China's President","8) My national government","9) My governor","10) My local government","11) My local health department","12) My employer",null,null,null,null,null,null,null,null,null,null,null,null,"1) China is responsible","2) The U.S. is responsible","3) Italy is responsible","4) The WHO (World Health Organization) is responsible","5) Countries that failed to prepare for an outbreak are responsible","6) People who do not follow social distancing guidelines are responsible","7) The COVID-19 virus originated in a Chinese lab.","8) China should compensate other countries for damages caused by the pandemic.","1) Extroverted, enthusiastic","2) Critical, quarrelsome","3) Dependable, self-disciplined","4) Anxious, easily upset","5) Open to new experiences, creative","1) Treated with courtesy or respect","2) Strangers displayed negative reactions to you","3) Threatened or harassed","4) Received poorer service than others",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,"1) Yes\r\n2) No","yyyy","mm","dd","1) Never in force\r\n2) Previously in force but not now\r\n3) Currently in force\r\n4) Not sure","1) Never in force\r\n2) Previously in force but not now\r\n3) Currently in force\r\n4) Not sure","1) Never in force\r\n2) Previously in force but not now\r\n3) Currently in force\r\n4) Not sure","1) Never in force\r\n2) Previously in force but not now\r\n3) Currently in force\r\n4) Not sure","1) Never in force\r\n2) Previously in force but not now\r\n3) Currently in force\r\n4) Not sure","1) Never in force\r\n2) Previously in force but not now\r\n3) Currently in force\r\n4) Not sure","1) Never in force\r\n2) Previously in force but not now\r\n3) Currently in force\r\n4) Not sure","1) Never in force\r\n2) Previously in force but not now\r\n3) Currently in force\r\n4) Not sure","1) Never in force\r\n2) Previously in force but not now\r\n3) Currently in force\r\n4) Not sure","1) Never in force\r\n2) Previously in force but not now\r\n3) Currently in force\r\n4) Not sure","1) Never in force\r\n2) Previously in force but not now\r\n3) Currently in force\r\n4) Not sure","1) Never in force\r\n2) Previously in force but not now\r\n3) Currently in force\r\n4) Not sure","1) Never in force\r\n2) Previously in force but not now\r\n3) Currently in force\r\n4) Not sure","1) Never in force\r\n2) Previously in force but not now\r\n3) Currently in force\r\n4) Not sure","1) Never in force\r\n2) Previously in force but not now\r\n3) Currently in force\r\n4) Not sure","1) Never in force\r\n2) Previously in force but not now\r\n3) Currently in force\r\n4) Not sure","1) Never in force\r\n2) Previously in force but not now\r\n3) Currently in force\r\n4) Not sure","1) Never in force\r\n2) Previously in force but not now\r\n3) Currently in force\r\n4) Not sure","1) Never in force\r\n2) Previously in force but not now\r\n3) Currently in force\r\n4) Not sure","1) Never in force\r\n2) Previously in force but not now\r\n3) Currently in force\r\n4) Not sure","1) Never in force\r\n2) Previously in force but not now\r\n3) Currently in force\r\n4) Not sure","1) Never in force\r\n2) Previously in force but not now\r\n3) Currently in force\r\n4) Not sure","1) Washing your hands more often","2) Using alcohol-based hand sanitizer more often","3) Wearing a face mask","4) Avoiding social events (e.g., parties, family gatherings)","5) Avoiding public transit","6) Avoiding any enclosed spaces outside your home","7) Touching your face less","8) Shopping for groceries less often","9) Cooking at home more often","10) Staying home from work","11) Purchasing extra supplies or food","12) Not going outside your home for walks or exercise","13) Avoiding physical contact when greeting friends and family members","14) Cleaning my living space more often","15) Cleaning groceries and all things that get delivered to my living space","16) I am not doing anything differently","1) None of the time  \r\n2) Some of the time  \r\n3) Most of the time  \r\n4) All of the time","1) None of the time  \r\n2) Some of the time  \r\n3) Most of the time  \r\n4) All of the time","1) No\r\n2) Somewhat\r\n3) A Lot\r\n4) Not Applicable","1) No\r\n2) Somewhat\r\n3) A Lot\r\n4) Not Applicable","1) No\r\n2) Somewhat\r\n3) A Lot\r\n4) Not Applicable","1) No\r\n2) Somewhat\r\n3) A Lot\r\n4) Not Applicable","1) No\r\n2) Somewhat\r\n3) A Lot\r\n4) Not Applicable","1) No\r\n2) Somewhat\r\n3) A Lot\r\n4) Not Applicable","1) No\r\n2) Somewhat\r\n3) A Lot\r\n4) Not Applicable","1) No\r\n2) Somewhat\r\n3) A Lot\r\n4) Not Applicable","other open Q","1) 1-2 days  \r\n2) a week or less  \r\n3) 1-2 weeks  \r\n4) 3-4 weeks  \r\n5) 1 month  \r\n6) 2 months  \r\n7) 3 months  \r\n8) 4 months  \r\n9) 5 months  \r\n10) 6 months or more","1) Not difficult\r\n2) Somewhat difficult\r\n3) Very difficult\r\n4) Extremely difficult","1) It's safe now  \r\n2) 1-2 weeks  \r\n3) 3-4 weeks  \r\n4) 1-2 months  \r\n5) 3-5 months  \r\n6) 6-12 months  \r\n7) 12-18 months  \r\n8) 18 months or longer","1) Nothing","2) Warning","3) Small fine (no more than one day's","4) Large fine (more than one day's salary)","5) Mandatory Detention (at home or elsewhere)","6) Jail/Prison time","7) Don't know","1) Loneliness","2) Cancellation of travel","3) Reduced income","4) Relocation of where I live","5) Increased anxiety","6) Obtaining groceries","7) Accessing healthcare","8) Accessing exercise facilities","9) Boredom","10) Loss of job","11) Family tensions and stress","12) Childcare","13) Obtaining medication","14) Transportation","15) I have not experienced any difficulties during the COVID-19 crisis","1) Strongly disagree\r\n2) Somewhat disagree\r\n3) Somewhat agree\r\n4) Strongly agree","1) Strongly disagree\r\n2) Somewhat disagree\r\n3) Somewhat agree\r\n4) Strongly agree","1) Strongly disagree\r\n2) Somewhat disagree\r\n3) Somewhat agree\r\n4) Strongly agree","1) Strongly disagree\r\n2) Somewhat disagree\r\n3) Somewhat agree\r\n4) Strongly agree","1) Strongly disagree\r\n2) Somewhat disagree\r\n3) Somewhat agree\r\n4) Strongly agree","1) Strongly disagree\r\n2) Somewhat disagree\r\n3) Somewhat agree\r\n4) Strongly agree","1) Strongly disagree\r\n2) Somewhat disagree\r\n3) Somewhat agree\r\n4) Strongly agree","1) Strongly disagree\r\n2) Somewhat disagree\r\n3) Somewhat agree\r\n4) Strongly agree","1) decreased  \r\n2) stayed the same  \r\n3) increased a little  \r\n4) increased a lot  \r\n5) Not relevant","1) decreased  \r\n2) stayed the same  \r\n3) increased a little  \r\n4) increased a lot  \r\n5) Not relevant","1) Decreased\r\n2) Stayed Same\r\n3) Increased","1) Decreased\r\n2) Stayed Same\r\n3) Increased","1) 0-30 minutes (0.5 hours or less)  \r\n2) 31-60 minutes (0.5 to 1 hour)  \r\n3) 61-120 minutes (1 to 2 hours)  \r\n4) 121-240 minutes (2 to 4 hours)  \r\n5) more than 240 minutes (more than 4 hours)","1) Friends or family members","2) Social Media (e.g., Twitter, WeChat, Facebook, Whatsapp)","3) National TV or radio news","4) National Newspapers and Magazines (including online versions)","5) International news media","6) Briefings by political leaders","7) National or international health department websites (e,g., WHO or CDC)","8) Local health department websites","9) Scientific articles","10) My own doctor or healthcare provider","11) Religious leader(s)","12) Other (specify)","other open Q","1) Disagree\r\n2) Agree\r\n3) Don't Know","1) Disagree\r\n2) Agree\r\n3) Don't Know","1) Disagree\r\n2) Agree\r\n3) Don't Know","1) Disagree\r\n2) Agree\r\n3) Don't Know","1) Disagree\r\n2) Agree\r\n3) Don't Know","1) Disagree\r\n2) Agree\r\n3) Don't Know","1) Disagree\r\n2) Agree\r\n3) Don't Know","1) Disagree\r\n2) Agree\r\n3) Don't Know","1) Disagree\r\n2) Agree\r\n3) Don't Know","1) Disagree\r\n2) Agree\r\n3) Don't Know","1) Disagree\r\n2) Agree\r\n3) Don't Know","1) Disagree\r\n2) Agree\r\n3) Don't Know","1) Disagree\r\n2) Agree\r\n3) Don't Know","1) Disagree\r\n2) Agree\r\n3) Don't Know","1) Disagree\r\n2) Agree\r\n3) Don't Know","1) Disagree\r\n2) Agree\r\n3) Don't Know","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Very good  \r\n2) Good  \r\n3) Fair  \r\n4) Bad  \r\n5) Very Bad","1) Heart disease","2) High blood pressure","3) Cancer","4) Diabetes","5) Asthma","6) Lung disease","7) Kidney or Liver disease","8) Immunocompromised","9) Obesity","10) Depression","11) Anxiety","12) Other (Specify)","other open Q","13) None","14) Prefer not to answer","1) No\r\n2) Some\r\n3) Extreme","1) No\r\n2) Some\r\n3) Extreme","1) No\r\n2) Some\r\n3) Extreme","1) No\r\n2) Some\r\n3) Extreme","1) No\r\n2) Some\r\n3) Extreme","1) No\r\n2) Somewhat\r\n3) Often","1) No\r\n2) Somewhat\r\n3) Often","1) No\r\n2) Somewhat\r\n3) Often","1) No\r\n2) Somewhat\r\n3) Often","1) No\r\n2) Somewhat\r\n3) Often","1) No\r\n2) Somewhat\r\n3) Often","1) No\r\n2) Somewhat\r\n3) Often","1) Fever, chills, or sweating","2) Sore throat","3) Cough unrelated to allergies or chronic condition","4) Body aches","5) Persistent exhaustion","6) Difficulty breathing","7) Vomiting or diarrhea","8) Anosmia (loss of smell)","9) Other","other open Q","10) No, I have not had any of the above symptoms","1) No\r\n2) Yes\r\n3) Unsure \r\n4) Prefer not to Answer","1) Public clinic or hospital","2) Private clinic or hospital","3) Pharmacy","4) At my workplace","5) Self-test","6) Only if life-threatening symptoms","7) If getting treatment for other conditions","8) Would not be able to be tested","9) Don't know","1) Public clinic or hospital","2) Private clinic or hospital","3) Pharmacy","4) At my workplace","5) Self-test","6) Only if life-threatening symptoms","7) If getting treatment for other conditions","8) Would not be able to be tested","9) Don't know","1) No\r\n2) Some of them\r\n3) Yes","1) No\r\n2) Some of them\r\n3) Yes","1) No\r\n2) Some of them\r\n3) Yes","1) No\r\n2) Yes\r\n3) Unsure \r\n4) Prefer not to Answer","1) Strongly disagree\r\n2) Somewhat disagree\r\n3) Somewhat agree\r\n4) Strongly agree","1) Strongly disagree\r\n2) Somewhat disagree\r\n3) Somewhat agree\r\n4) Strongly agree","1) Strongly disagree\r\n2) Somewhat disagree\r\n3) Somewhat agree\r\n4) Strongly agree","1) Not at all\r\n2) Somewhat  \r\n3) Very much  \r\n4) Extremely","1) Not at all\r\n2) Somewhat  \r\n3) Very much  \r\n4) Extremely","1) Not at all\r\n2) Somewhat  \r\n3) Very much  \r\n4) Extremely","1) Not at all\r\n2) Somewhat  \r\n3) Very much  \r\n4) Extremely","1) most people can be trusted\r\n2) you can't be too careful in dealing with people","1) try to take advantage\r\n2) try to be fair","1) try to be helpful\r\n2) mostly looking out for themselves","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) Do not trust at all\r\n2) Do not trust very much\r\n3) Trust somewhat\r\n4) Trust completely","1) The Chinese government","2) The Chinese Communist Party","3) President Xi Jinping","4) The Wuhan municipal government","5) Chinese society and people","6) I don't blame China","1) The U.S. government","2) The U.S. Center for Disease Control (CDC)","3) President Trump","4) State and local governments","5) American society and people","6) I don't blame the U.S.","1) Disagree\r\n2) Somewhat disagree\r\n3) Somewhat Agree\r\n4) Agree","1) Disagree\r\n2) Somewhat disagree\r\n3) Somewhat Agree\r\n4) Agree","1) Disagree\r\n2) Somewhat disagree\r\n3) Somewhat Agree\r\n4) Agree","1) Disagree\r\n2) Somewhat disagree\r\n3) Somewhat Agree\r\n4) Agree","1) Disagree\r\n2) Somewhat disagree\r\n3) Somewhat Agree\r\n4) Agree","1) Disagree\r\n2) Somewhat disagree\r\n3) Somewhat Agree\r\n4) Agree","1) Disagree\r\n2) Somewhat disagree\r\n3) Somewhat Agree\r\n4) Agree","1) Disagree\r\n2) Somewhat disagree\r\n3) Somewhat Agree\r\n4) Agree","1) Disagree strongly\r\n2) Disagree a little\r\n3) Agree a little\r\n4) Agree strongly","1) Disagree strongly\r\n2) Disagree a little\r\n3) Agree a little\r\n4) Agree strongly","1) Disagree strongly\r\n2) Disagree a little\r\n3) Agree a little\r\n4) Agree strongly","1) Disagree strongly\r\n2) Disagree a little\r\n3) Agree a little\r\n4) Agree strongly","1) Disagree strongly\r\n2) Disagree a little\r\n3) Agree a little\r\n4) Agree strongly","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Less\r\n2) Same \r\n3) More","1) Arabic/Middle Eastern","2) Black/African","3) Caribbean","4) Caucasian/White European","5) Central Asian","6) East Asian (Chinese, Japanese, Korean)","7) Latino/Mexican/Central/South American","8) Native American","9) South Asian (India, Sri Lanka, Pakistan)","10) South East Asian (Vietnamese, Malaysian, etc.)","11) Pacific Islander","12) Multi-racial/multicultural","13) Other","1) Atheist or agnostic","2) Buddhist","3) Catholic","4) Christian/Protestant/Methodist/Lutheran/Baptist","5) Greek or Russian Orthodox","6) Jewish","7) Hindu","8) Mormon","9) Muslim","10) Nothing in particular","11) Other","1) Not at all  \r\n2) Somewhat important \r\n3) Very important \r\n4) Extremely important","1) Very serious \r\n2) Somewhat serious \r\n3) Not very serious \r\n4) Not at all serious \r\n5) Do not know \r\n6) Do not wish to answer","1) Yes, it has gotten much worse \r\n2) Yes, it has gotten worse \r\n3) No, it has not changed \r\n4) Yes, it has gotten better \r\n5) Yes, it has gotten much better","1) Less than high school \r\n2) High school  \r\n3) Some college or post-secondary education \r\n4) 4-year college graduate  \r\n5) Graduate or Professional training beyond college \r\n6) Doctoral degree (Ph.D.)","1) Working full-time in job I held prior to COVID-19 crisis","2) Working part-time in job I held prior to COVID-19 crisis","3) Lost a job or hours because my employer shut down/downsized due to COVID-19","4) Left a job because I did not think it safe to work during the COVID-19 crisis","5) Working full-time in a job I started during COVID-19","6) Working part-time in a job I started during COVID-19","7) Working in 'gig' economy (e.g., ride share, food delivery, etc.)","8) Currently unemployed and looking for work","9) Currently unemployed and not looking for work","10) Housekeeping/caring for my family as my main job","11) Retired","12) Student","13) Self-employed","14) Small business owner","1) Large companies compensated for losses","2) Small companies compensated for losses","3) Companies offered loans","4) Increased unemployment insurance","5) Government subsidies for individuals","6) One time stimulus checks","7) Free testing","8) None","9) Don't Know","10) Other","1) We do not have enough money for food.\r\n2) We have enough money for food, but not enough money for clothes.\r\n3) We have enough money to buy food and clothes, but not enough to buy expensive items, such as a TV or refrigerator.\r\n4) We have expensive items, such as a new TV or refrigerator, but no car.\r\n5) We can buy almost anything we want.","1) Under $15,000\r\n2) $15,000-$19,999\r\n3) $20,000-$24,999 \r\n4) $25,000-$29,999 \r\n5) $30,000-$34,999 \r\n6) $35,000-$39,999 \r\n7) $40,000-$44,999 \r\n8) $45,000-$49,999 \r\n9) $50,000-$54,999 \r\n10) $55,000-$59,999 \r\n11) $60,000-$64,999 \r\n12) $65,000-$69,999 \r\n13) $70,000-$74,999  \r\n14) $75,000-$79,999 \r\n15) $80,000-$84,999 \r\n16) $85,000-$89,999 \r\n17) $90,000-$94,999 \r\n18) $95,000-$99,999 \r\n19) $100,000-$124,999 \r\n20) $125,000-$149,999 \r\n21) $150,000-$199,999 \r\n22) $200,000+",null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"Delete\r\n1. Cinco de Mayo\r\n2. Nouruz\r\n3. Passover\r\n4. Ramadan\r\n5. Songkran\r\n6. Qingming",null,null,null,"only korean",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"$1 = \\1,200",null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>NO<\/th>\n      <th>variables<\/th>\n      <th>Main Category Questions<\/th>\n      <th>Subclass Questions<\/th>\n      <th>Answer<\/th>\n      <th>Remark<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":1},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div id="create-basic-variables" class="section level3" number="8.2.1">
<h3><span class="header-section-number">8.2.1</span> create basic variables</h3>
<p>create basic variables for tutor, and list of variables.</p>
<table>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th>new.variables</th>
<th>origianal variables</th>
<th>methods</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>age</td>
<td>SQ2</td>
<td>2020-SQ2</td>
</tr>
<tr class="even">
<td>gender</td>
<td>SQ1</td>
<td>1 ~ men, 2~ women</td>
</tr>
<tr class="odd">
<td>Q6</td>
<td>Q6</td>
<td>How long do you think you will be able to maintain your current level of social distancing?</td>
</tr>
<tr class="even">
<td>Q7</td>
<td>Q7</td>
<td>Q7. How difficult is it for you to maintain your current level of social distancing?</td>
</tr>
<tr class="odd">
<td>Q8</td>
<td>Q8</td>
<td>Q8. When do you think your community will be “safe” from the COVID-19 pandemic?</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="basic-plot-with-r.html#cb29-1" aria-hidden="true" tabindex="-1"></a>covid <span class="ot">&lt;-</span>covid <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="basic-plot-with-r.html#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">age =</span> SQ2, <span class="co"># already calculate </span></span>
<span id="cb29-3"><a href="basic-plot-with-r.html#cb29-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">gender=</span><span class="fu">ifelse</span>(SQ1 <span class="sc">==</span> <span class="dv">1</span>, <span class="st">&#39;men&#39;</span>, <span class="st">&#39;women&#39;</span>))</span></code></pre></div>
</div>
<div id="bar-and-histograph" class="section level3" number="8.2.2">
<h3><span class="header-section-number">8.2.2</span> bar and histograph</h3>
<p>bar and histographs display the distribution according to user defined data points (x-axis).</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="basic-plot-with-r.html#cb30-1" aria-hidden="true" tabindex="-1"></a>covid <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="basic-plot-with-r.html#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Q6)) <span class="sc">+</span></span>
<span id="cb30-3"><a href="basic-plot-with-r.html#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">col =</span><span class="st">&quot;red&quot;</span>, </span>
<span id="cb30-4"><a href="basic-plot-with-r.html#cb30-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill=</span><span class="st">&quot;grey&quot;</span>) <span class="sc">+</span></span>
<span id="cb30-5"><a href="basic-plot-with-r.html#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span><span class="st">&quot;histogram for keep social distancing&quot;</span>)</span></code></pre></div>
<p><img src="testbook_files/figure-html/basic%20histo1-1.png" width="672" /></p>
<p>In the same context, We can make bar plot just add <code>geom_bar()</code>, as below. Almost responses are that ‘6 months or more.’</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="basic-plot-with-r.html#cb31-1" aria-hidden="true" tabindex="-1"></a>covid <span class="sc">%&gt;%</span></span>
<span id="cb31-2"><a href="basic-plot-with-r.html#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Q6)) <span class="sc">+</span></span>
<span id="cb31-3"><a href="basic-plot-with-r.html#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="testbook_files/figure-html/basic%20bar%201-1.png" width="672" />
10 means ‘6 month or more’ so, we can change the x axis label to easy for following. This step is very import to communicate with collaborators. please keep in kind to communicate with your friend using labeling.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="basic-plot-with-r.html#cb32-1" aria-hidden="true" tabindex="-1"></a>covid <span class="sc">%&gt;%</span></span>
<span id="cb32-2"><a href="basic-plot-with-r.html#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Q6)) <span class="sc">+</span></span>
<span id="cb32-3"><a href="basic-plot-with-r.html#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb32-4"><a href="basic-plot-with-r.html#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">10</span>), </span>
<span id="cb32-5"><a href="basic-plot-with-r.html#cb32-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(</span>
<span id="cb32-6"><a href="basic-plot-with-r.html#cb32-6" aria-hidden="true" tabindex="-1"></a>                       <span class="co">#&#39;1&#39; = &#39;1-2days&#39;, </span></span>
<span id="cb32-7"><a href="basic-plot-with-r.html#cb32-7" aria-hidden="true" tabindex="-1"></a>                       <span class="co">#&#39;2&#39; = &#39;less than 1 weeks&#39;,</span></span>
<span id="cb32-8"><a href="basic-plot-with-r.html#cb32-8" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&#39;3&#39;</span> <span class="ot">=</span> <span class="st">&#39;1-2 week&#39;</span>,</span>
<span id="cb32-9"><a href="basic-plot-with-r.html#cb32-9" aria-hidden="true" tabindex="-1"></a>                       <span class="co">#&#39;4&#39; = &#39;3-4 weeks&#39;,</span></span>
<span id="cb32-10"><a href="basic-plot-with-r.html#cb32-10" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&#39;5&#39;</span> <span class="ot">=</span> <span class="st">&#39;1 month&#39;</span>,</span>
<span id="cb32-11"><a href="basic-plot-with-r.html#cb32-11" aria-hidden="true" tabindex="-1"></a>                       <span class="co">#&#39;6&#39; = &#39;2 months&#39;,</span></span>
<span id="cb32-12"><a href="basic-plot-with-r.html#cb32-12" aria-hidden="true" tabindex="-1"></a>                       <span class="co">#&#39;7&#39; = &#39;3 months&#39;,</span></span>
<span id="cb32-13"><a href="basic-plot-with-r.html#cb32-13" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&#39;8&#39;</span> <span class="ot">=</span> <span class="st">&#39;4 months&#39;</span>,</span>
<span id="cb32-14"><a href="basic-plot-with-r.html#cb32-14" aria-hidden="true" tabindex="-1"></a>                       <span class="co">#&#39;9&#39; = &#39;5 months&#39;,</span></span>
<span id="cb32-15"><a href="basic-plot-with-r.html#cb32-15" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&#39;10&#39;</span> <span class="ot">=</span> <span class="st">&#39;6 months or more&#39;</span></span>
<span id="cb32-16"><a href="basic-plot-with-r.html#cb32-16" aria-hidden="true" tabindex="-1"></a>                     ))</span></code></pre></div>
<p><img src="testbook_files/figure-html/basic%20bar2-1.png" width="672" />
We usually used <code>group_by, count</code> code for data summary, so now we plot summarized data using <code>stat='identity'</code> in ggplot. This process are more conbinience because I usually want to overview my summarized data.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="basic-plot-with-r.html#cb33-1" aria-hidden="true" tabindex="-1"></a>covid <span class="sc">%&gt;%</span></span>
<span id="cb33-2"><a href="basic-plot-with-r.html#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Q6)<span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="basic-plot-with-r.html#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span></span>
<span id="cb33-4"><a href="basic-plot-with-r.html#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Q6, <span class="at">y =</span>n)) <span class="sc">+</span></span>
<span id="cb33-5"><a href="basic-plot-with-r.html#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&#39;identity&#39;</span>)</span></code></pre></div>
<p><img src="testbook_files/figure-html/basic%20bar3-1.png" width="672" /></p>
</div>
<div id="boxplot" class="section level3" number="8.2.3">
<h3><span class="header-section-number">8.2.3</span> Boxplot</h3>
<p>What are characteristics related to levels of keeping social distancing. To find related characteristics, we can draw boxplot, too.
First, let’s find variables which have large difference of expectance of keeping social distance.
Now, I assumed that <strong>6 months and more</strong> is good indicator of keeping social distance. So, if some expected they can keep social distancing more than 6 months, they will categorized into ‘keeping social distancing,’ if else ‘non-keeping social dstancing’ (keeping vs non-keeping).
In code book, we can match that 1 means 1-2 days, and 10 means 6 months or more. so we can change it per months while 6 months or more into just 6 months. Although it is measurement error when we used below mutate, but now we use new variable ’keep_sdist, social distancing" just for data overview.
I made keep_sdist (unit is months scale), and keep_sdistgp for grouping data.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="basic-plot-with-r.html#cb34-1" aria-hidden="true" tabindex="-1"></a>covid2 <span class="ot">&lt;-</span> covid <span class="sc">%&gt;%</span></span>
<span id="cb34-2"><a href="basic-plot-with-r.html#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">keep_sdist=</span><span class="fu">case_when</span>(</span>
<span id="cb34-3"><a href="basic-plot-with-r.html#cb34-3" aria-hidden="true" tabindex="-1"></a>    Q6  <span class="sc">==</span><span class="dv">1</span>  <span class="sc">~</span> <span class="fl">1.5</span><span class="sc">/</span><span class="dv">30</span>, </span>
<span id="cb34-4"><a href="basic-plot-with-r.html#cb34-4" aria-hidden="true" tabindex="-1"></a>    Q6  <span class="sc">==</span><span class="dv">2</span>  <span class="sc">~</span> <span class="dv">7</span><span class="sc">/</span><span class="dv">30</span>, </span>
<span id="cb34-5"><a href="basic-plot-with-r.html#cb34-5" aria-hidden="true" tabindex="-1"></a>    Q6  <span class="sc">==</span><span class="dv">3</span>  <span class="sc">~</span> (<span class="dv">7</span><span class="fl">+3.5</span>)<span class="sc">/</span><span class="dv">30</span>, </span>
<span id="cb34-6"><a href="basic-plot-with-r.html#cb34-6" aria-hidden="true" tabindex="-1"></a>    Q6  <span class="sc">==</span><span class="dv">4</span>  <span class="sc">~</span> (<span class="dv">21</span><span class="fl">+3.5</span>)<span class="sc">/</span><span class="dv">30</span>, </span>
<span id="cb34-7"><a href="basic-plot-with-r.html#cb34-7" aria-hidden="true" tabindex="-1"></a>    Q6  <span class="sc">==</span><span class="dv">5</span>  <span class="sc">~</span> <span class="dv">1</span>, </span>
<span id="cb34-8"><a href="basic-plot-with-r.html#cb34-8" aria-hidden="true" tabindex="-1"></a>    Q6  <span class="sc">==</span><span class="dv">6</span>  <span class="sc">~</span> <span class="dv">2</span>, </span>
<span id="cb34-9"><a href="basic-plot-with-r.html#cb34-9" aria-hidden="true" tabindex="-1"></a>    Q6  <span class="sc">==</span><span class="dv">7</span>  <span class="sc">~</span> <span class="dv">3</span>, </span>
<span id="cb34-10"><a href="basic-plot-with-r.html#cb34-10" aria-hidden="true" tabindex="-1"></a>    Q6  <span class="sc">==</span><span class="dv">8</span>  <span class="sc">~</span> <span class="dv">4</span>, </span>
<span id="cb34-11"><a href="basic-plot-with-r.html#cb34-11" aria-hidden="true" tabindex="-1"></a>    Q6  <span class="sc">==</span><span class="dv">9</span>  <span class="sc">~</span> <span class="dv">5</span>, </span>
<span id="cb34-12"><a href="basic-plot-with-r.html#cb34-12" aria-hidden="true" tabindex="-1"></a>    Q6  <span class="sc">==</span><span class="dv">10</span> <span class="sc">~</span> <span class="dv">6</span>, </span>
<span id="cb34-13"><a href="basic-plot-with-r.html#cb34-13" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA_real_</span></span>
<span id="cb34-14"><a href="basic-plot-with-r.html#cb34-14" aria-hidden="true" tabindex="-1"></a>  )) </span>
<span id="cb34-15"><a href="basic-plot-with-r.html#cb34-15" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(covid2<span class="sc">$</span>keep_sdist)  </span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="basic-plot-with-r.html#cb36-1" aria-hidden="true" tabindex="-1"></a>covid2 <span class="ot">&lt;-</span> covid2 <span class="sc">%&gt;%</span></span>
<span id="cb36-2"><a href="basic-plot-with-r.html#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">keep_sdist_gp =</span> <span class="fu">ifelse</span>(Q6 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">10</span>), <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb36-3"><a href="basic-plot-with-r.html#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">keep_sdist_ft =</span> <span class="fu">ifelse</span>(Q6 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">10</span>), <span class="st">&#39;Yes&#39;</span>, <span class="st">&#39;No&#39;</span>)) </span></code></pre></div>
<p>Here are box plot with gender stratification about the age (median, inter quartile) and</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="basic-plot-with-r.html#cb37-1" aria-hidden="true" tabindex="-1"></a>figbox<span class="ot">&lt;-</span> covid2 <span class="sc">%&gt;%</span></span>
<span id="cb37-2"><a href="basic-plot-with-r.html#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>keep_sdist_ft, <span class="at">y =</span> age)) <span class="sc">+</span></span>
<span id="cb37-3"><a href="basic-plot-with-r.html#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()<span class="sc">+</span></span>
<span id="cb37-4"><a href="basic-plot-with-r.html#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(gender<span class="sc">~</span>.) <span class="sc">+</span></span>
<span id="cb37-5"><a href="basic-plot-with-r.html#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb37-6"><a href="basic-plot-with-r.html#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&#39;keeping social distancing more than 6 months&#39;</span>)</span>
<span id="cb37-7"><a href="basic-plot-with-r.html#cb37-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-8"><a href="basic-plot-with-r.html#cb37-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb37-9"><a href="basic-plot-with-r.html#cb37-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(figbox)</span></code></pre></div>
<div id="htmlwidget-01a9aa321272a12df952" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-01a9aa321272a12df952">{"x":{"data":[{"x":[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"y":[51,51,54,50,62,50,54,35,60,55,41,55,40,49,40,30,67,40,41,40,69,47,68,62,61,40,22,53,50,27,62,36,55,36,51,53,66,52,25,45,60,60,23,32,40,64,38,58,45,53,62,61,62,41,60,50,41,53,63,49,56,50,44,41,26,31,35,55,66,61,55,62,63,61,46,60,53,33,23,43,42,28,65,62,64,62,50,28,30,45,28,59,39,38,65,49,61,59,50,62,43,61,61,55,40,30,53,38,38,40,48,27,55,32,22,54,42,30,50,66,66,24,48,65,46,22,63,63,32,36,51,52,44,60,62,32,24,40,50,51,30,51,47,52,52,52,47,34,50,58,44,37,51,63,35,36,39,49,29,26,27,60,64,47,26,52,42,40,20,39,28,50,60,42,50,52,40,61,54,27,34,42,65,66,22,68,54,51,45,28,63,42,47,54,33,56,29,40,57,62,32,51,42,42,25,32,52,38,59,62,65,28,34,46,63,42,38,52,49,51,68,52,42,39,45,35,34,61,49,52,27,49,43,63,39,26,25,54,50,48,48,58,50,45,58,59,63,34,32,62,24,53,41,39,30,57,61,38,48,60,41,55,27,25,52,35,52,28,59,64,60,38,27,34,60,35,31,33,49,45,46,45,41,39,37,68,28,49,50,38,41,66,49,32,46,66,58,50,41,59,33,44,21,56,28,37,42,52,43,39,58,62,25,20,38,44,55,55,42,48,42,59,23,24,52,40,37,35,41,23,44,66,58,25,28,69,63,40,48,23,64,51,37,56,29,68,26,23,35,60,29,47,68,54,30,34,23,51,42,38,50,43,32,23,46,28,40,53,52,47,50,61,32,40,64,58,26,41,31,29,42,60,34,31,25,40,33,37,22,54,61,50,43,49,57,43,39,48,45,45,60,35,55,30,49,65,30,54,50,50,51,52,24,30,39,56,32,62,33,30,54,36,42,42,23,28,26,28,27,28,68,61,26,62,60,58,47,38,45,39,50,38,23,25,59,37,30,33,31,45,26,41,46,51,55,65,38,29,26,29,27,24,45,25,24,48,40,47,60,23,24,25,31,23,23,29,26,50,62,23,48,31,29,55,23,47,32,23,32,27,29,45,36,61,54,37,55,21,39,45,35,28,24,20,55,60,50,20,65,32,30,46,63,20,60,66,27,63,27,56,64,59,54,34,39,37,43,32,54,29,60,37,40,52,23,39,44,27,44,27,53,57,20,23,56,39,47,42,21,34,54,45,48,64,52,54,35],"hoverinfo":"y","type":"box","fillcolor":"rgba(255,255,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"},"size":5.66929133858268},"line":{"color":"rgba(51,51,51,1)","width":1.88976377952756},"showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"y":[24,30,41,52,65,64,48,51,24,65,55,67,44,64,23,35,52,42,43,61,52,40,51,60,50,62,28,27,65,34,32,65,60,48,46,51,63,28,34,41,25,52,47,64,57,36,42,63,40,49,44,65,37,63,68,69,52,20,59,25,52,44,47,62,47,60,44,54,60,43,50,68,63,46,41,50,29,41,38,63,63,60,32,23,40,35,31,61,30,51,60,53,41,50,49,44,40,36,50,64,44,39,26,60,25,26,25,51,62,38,47,51,50,38,42,40,37,51,30,60,62,23,58,59,62,52,61,57,47,54,46,29,29,63,60,43,64,54,43,59,62,44,61,25,47,60,40,49,63,29,41,34,30,26,63,44,64,27,50,59,52,54,31,62,52,29,51,36,61,43,40,33,49,29,29,52,24,62,50,29,53,61,43,58,44,47,41,23,46,40,59,37,43,57,38,55,47,30,40,39,23,60,65,36,50,49,37,52,60,41,44,63,52,52,61,26,59,32,31,46,51,65,50,37,51,52,59,40,64,34,60,46,48,44,29,35,27,29,47,53,40,24,42,43,59,40,50,51,60,45,36,63,39,24,53,55,55,59,56,48,63,63,58,33,49,27,64,54,25,53,22,59,63,51,68,40,36,41,29,39,63,58,20,42,33,44,43,59,42,62,52,41,50,30,33,28,54,38,21,56,47,35,53,41,24,24,48,32,65,47,31,43,46,29,41,61,29,23,31,37,23,29,42,52,31,20,51,28,61,44,33,56,24,69,32,49,61,37,60,30,43,50,41,50,53,35,42,61,29,57,51,45,43,40,26,26,26,41,50,29,29,43,54,62,64,40,37,59,38,42,50,39,45,32,68,32,40,25,54,42,68,55,38,30,34,26,50,64,25,41,45,41,37,27,42,62,50,61,47,53,27,61,55,40,30,29,58,54,28,54,45,52,32,65,35,38,43,50,57,51,45,30,27,31,37,30,44,28,35,32,29,38,46,39,27,29,20,28,36,29,28,61,64,36,34,58,28,57,52,60,28,55,65,27,62,62,51,68,56,24,34,54,60,38,24,24,32,60,58,22,62,27,35,46,59,53,54,36,44,43,30,30,52,28,24,21,21,40,32,52,50,55,37,28,33,45,27,51,56,63,60,34,21,51,34,45,33,30,63,32,45,53,34,28,24,35,54,50,33,55,69,61,31,24,34,38,61,65,50,43,29,25,33],"hoverinfo":"y","type":"box","fillcolor":"rgba(255,255,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"},"size":5.66929133858268},"line":{"color":"rgba(51,51,51,1)","width":1.88976377952756},"showlegend":false,"xaxis":"x2","yaxis":"y","frame":null}],"layout":{"margin":{"t":37.9178082191781,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,0.495923026744945],"automargin":true,"type":"linear","autorange":false,"range":[0.4,2.6],"tickmode":"array","ticktext":["No","Yes"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["No","Yes"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"annotations":[{"text":"keeping social distancing more than 6 months","x":0.5,"y":-0.0176940639269406,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis"},{"text":"age","x":-0.0126386170906719,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis"},{"text":"men","x":0.247961513372472,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"women","x":0.752038486627528,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[17.55,71.45],"tickmode":"array","ticktext":["20","30","40","50","60","70"],"tickvals":[20,30,40,50,60,70],"categoryorder":"array","categoryarray":["20","30","40","50","60","70"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.495923026744945,"y0":0,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.495923026744945,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.504076973255055,"x1":1,"y0":0,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.504076973255055,"x1":1,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[0.4,2.6],"tickmode":"array","ticktext":["No","Yes"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["No","Yes"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.504076973255055,1],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"43f3221168891":{"x":{},"y":{},"type":"box"}},"cur_data":"43f3221168891","visdat":{"43f3221168891":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="scatter-plot" class="section level3" number="8.2.4">
<h3><span class="header-section-number">8.2.4</span> scatter plot</h3>
<p>Scatter plot display association two variables. Now I want display association between age and “How long do you think you will be able to maintain your current level of social distancing?” Add <code>geom_point()</code> make scatter plot in ggplot2.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="basic-plot-with-r.html#cb38-1" aria-hidden="true" tabindex="-1"></a>covid2 <span class="sc">%&gt;%</span></span>
<span id="cb38-2"><a href="basic-plot-with-r.html#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>age, <span class="at">y =</span> Q6)) <span class="sc">+</span></span>
<span id="cb38-3"><a href="basic-plot-with-r.html#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="testbook_files/figure-html/basic%20scatter%201-1.png" width="672" /></p>
<p>The scatter plot is below.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="basic-plot-with-r.html#cb39-1" aria-hidden="true" tabindex="-1"></a>covid2 <span class="sc">%&gt;%</span></span>
<span id="cb39-2"><a href="basic-plot-with-r.html#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>age, <span class="at">y =</span> keep_sdist)) <span class="sc">+</span></span>
<span id="cb39-3"><a href="basic-plot-with-r.html#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="testbook_files/figure-html/basic%20scatter2-1.png" width="672" />
However, it is not easy to overview the relationships between age and perceive response of keeping social distancing. Now we added regression line using <code>geom_smooth()</code></p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="basic-plot-with-r.html#cb40-1" aria-hidden="true" tabindex="-1"></a>covid2 <span class="sc">%&gt;%</span></span>
<span id="cb40-2"><a href="basic-plot-with-r.html#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>age, <span class="at">y =</span> keep_sdist)) <span class="sc">+</span></span>
<span id="cb40-3"><a href="basic-plot-with-r.html#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb40-4"><a href="basic-plot-with-r.html#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span></code></pre></div>
<p><img src="testbook_files/figure-html/basic%20scatter3-1.png" width="672" />
That graphs show that older age responded that they could keep more months of social distancing.</p>
<div id="add-regression-line" class="section level4" number="8.2.4.1">
<h4><span class="header-section-number">8.2.4.1</span> add regression line</h4>
<p>How about added linear regression lines? or user defined model?
For linear model, we can use <code>method ='lm'</code></p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="basic-plot-with-r.html#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="do">## linear regression line</span></span>
<span id="cb41-2"><a href="basic-plot-with-r.html#cb41-2" aria-hidden="true" tabindex="-1"></a>covid2 <span class="sc">%&gt;%</span></span>
<span id="cb41-3"><a href="basic-plot-with-r.html#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>age, <span class="at">y =</span> keep_sdist)) <span class="sc">+</span></span>
<span id="cb41-4"><a href="basic-plot-with-r.html#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb41-5"><a href="basic-plot-with-r.html#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span><span class="st">&#39;lm&#39;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="testbook_files/figure-html/basic%20scatter4-1.png" width="672" /></p>
<p>for user define model, we can plot <code>predicted</code> value or <code>fitted.values</code> value as manually.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="basic-plot-with-r.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="do">## regression model</span></span>
<span id="cb42-2"><a href="basic-plot-with-r.html#cb42-2" aria-hidden="true" tabindex="-1"></a>lm_fit<span class="ot">&lt;-</span><span class="fu">lm</span>(<span class="at">data=</span>covid2,</span>
<span id="cb42-3"><a href="basic-plot-with-r.html#cb42-3" aria-hidden="true" tabindex="-1"></a>           keep_sdist <span class="sc">~</span> age)</span>
<span id="cb42-4"><a href="basic-plot-with-r.html#cb42-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-5"><a href="basic-plot-with-r.html#cb42-5" aria-hidden="true" tabindex="-1"></a>covid2 <span class="sc">%&gt;%</span></span>
<span id="cb42-6"><a href="basic-plot-with-r.html#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>age, <span class="at">y =</span> keep_sdist)) <span class="sc">+</span></span>
<span id="cb42-7"><a href="basic-plot-with-r.html#cb42-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb42-8"><a href="basic-plot-with-r.html#cb42-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x=</span>age, <span class="at">y =</span> <span class="fu">predict</span>(lm_fit)), <span class="at">color =</span><span class="st">&#39;red&#39;</span>)</span></code></pre></div>
<p><img src="testbook_files/figure-html/basic%20scatter5-1.png" width="672" /></p>
</div>
</div>
<div id="scatter-plot-of-summary-stat" class="section level3" number="8.2.5">
<h3><span class="header-section-number">8.2.5</span> scatter plot of summary stat</h3>
<pre><code>Now I want measure the percent of &#39;6 month or more&#39; response according to age</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="basic-plot-with-r.html#cb44-1" aria-hidden="true" tabindex="-1"></a>covid <span class="sc">%&gt;%</span></span>
<span id="cb44-2"><a href="basic-plot-with-r.html#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(age) <span class="sc">%&gt;%</span></span>
<span id="cb44-3"><a href="basic-plot-with-r.html#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Q6<span class="sc">==</span><span class="dv">10</span>)     <span class="co"># What dose `TRUE` means</span></span></code></pre></div>
<pre><code>## # A tibble: 99 × 3
## # Groups:   age [50]
##      age `Q6 == 10`     n
##    &lt;dbl&gt; &lt;lgl&gt;      &lt;int&gt;
##  1    20 FALSE          6
##  2    20 TRUE           4
##  3    21 FALSE          5
##  4    21 TRUE           2
##  5    22 FALSE          2
##  6    22 TRUE           5
##  7    23 FALSE         13
##  8    23 TRUE          12
##  9    24 FALSE         12
## 10    24 TRUE          11
## # … with 89 more rows</code></pre>
<p><code>TRUE</code> in column of <code>Q6==10</code> means that participant responded as ‘6 month or more,’ and the <code>n</code> means number of count. I want estimate proportion <code>prob</code> as n/sum(n)</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="basic-plot-with-r.html#cb46-1" aria-hidden="true" tabindex="-1"></a>covid <span class="sc">%&gt;%</span></span>
<span id="cb46-2"><a href="basic-plot-with-r.html#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(age) <span class="sc">%&gt;%</span></span>
<span id="cb46-3"><a href="basic-plot-with-r.html#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Q6<span class="sc">==</span><span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb46-4"><a href="basic-plot-with-r.html#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> n<span class="sc">/</span><span class="fu">sum</span>(n)<span class="sc">*</span><span class="dv">100</span>) </span></code></pre></div>
<pre><code>## # A tibble: 99 × 4
## # Groups:   age [50]
##      age `Q6 == 10`     n  prob
##    &lt;dbl&gt; &lt;lgl&gt;      &lt;int&gt; &lt;dbl&gt;
##  1    20 FALSE          6  60  
##  2    20 TRUE           4  40  
##  3    21 FALSE          5  71.4
##  4    21 TRUE           2  28.6
##  5    22 FALSE          2  28.6
##  6    22 TRUE           5  71.4
##  7    23 FALSE         13  52  
##  8    23 TRUE          12  48  
##  9    24 FALSE         12  52.2
## 10    24 TRUE          11  47.8
## # … with 89 more rows</code></pre>
<p>Can you find what I exact want in above output? for bar_plot?. Yes, the row of ’TRUE in <code>Q6 == 10</code> column is what we want to know. So, I remain only <code>TRUE</code> raw.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="basic-plot-with-r.html#cb48-1" aria-hidden="true" tabindex="-1"></a>covid <span class="sc">%&gt;%</span></span>
<span id="cb48-2"><a href="basic-plot-with-r.html#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(age) <span class="sc">%&gt;%</span></span>
<span id="cb48-3"><a href="basic-plot-with-r.html#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Q6<span class="sc">==</span><span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb48-4"><a href="basic-plot-with-r.html#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> n<span class="sc">/</span><span class="fu">sum</span>(n)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb48-5"><a href="basic-plot-with-r.html#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Q6 == 10</span><span class="st">`</span> <span class="sc">==</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb48-6"><a href="basic-plot-with-r.html#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> age, <span class="at">y =</span> prob)) <span class="sc">+</span></span>
<span id="cb48-7"><a href="basic-plot-with-r.html#cb48-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="testbook_files/figure-html/basic%20scatter7-1.png" width="672" /></p>
<p>Again, we can plot regression line.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="basic-plot-with-r.html#cb49-1" aria-hidden="true" tabindex="-1"></a>covid <span class="sc">%&gt;%</span></span>
<span id="cb49-2"><a href="basic-plot-with-r.html#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(age) <span class="sc">%&gt;%</span></span>
<span id="cb49-3"><a href="basic-plot-with-r.html#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Q6<span class="sc">==</span><span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb49-4"><a href="basic-plot-with-r.html#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> n<span class="sc">/</span><span class="fu">sum</span>(n)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb49-5"><a href="basic-plot-with-r.html#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Q6 == 10</span><span class="st">`</span> <span class="sc">==</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb49-6"><a href="basic-plot-with-r.html#cb49-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> age, <span class="at">y =</span> prob)) <span class="sc">+</span></span>
<span id="cb49-7"><a href="basic-plot-with-r.html#cb49-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb49-8"><a href="basic-plot-with-r.html#cb49-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se=</span><span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">&#39;grey&#39;</span>)<span class="sc">+</span></span>
<span id="cb49-9"><a href="basic-plot-with-r.html#cb49-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&#39;lm&#39;</span>, <span class="at">color =</span><span class="st">&#39;red&#39;</span>, <span class="at">se=</span><span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="testbook_files/figure-html/basic%20scatter8-1.png" width="672" /></p>
<p>How about gender stratified graphs? We can use
<code>group_by(gender, age)</code> and <code>facet_wrap(gender ~.)</code></p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="basic-plot-with-r.html#cb50-1" aria-hidden="true" tabindex="-1"></a>covid <span class="sc">%&gt;%</span></span>
<span id="cb50-2"><a href="basic-plot-with-r.html#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(gender, age) <span class="sc">%&gt;%</span></span>
<span id="cb50-3"><a href="basic-plot-with-r.html#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Q6<span class="sc">==</span><span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb50-4"><a href="basic-plot-with-r.html#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> n<span class="sc">/</span><span class="fu">sum</span>(n)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb50-5"><a href="basic-plot-with-r.html#cb50-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Q6 == 10</span><span class="st">`</span> <span class="sc">==</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb50-6"><a href="basic-plot-with-r.html#cb50-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> age, <span class="at">y =</span> prob)) <span class="sc">+</span></span>
<span id="cb50-7"><a href="basic-plot-with-r.html#cb50-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb50-8"><a href="basic-plot-with-r.html#cb50-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se=</span><span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">&#39;grey&#39;</span>)<span class="sc">+</span></span>
<span id="cb50-9"><a href="basic-plot-with-r.html#cb50-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&#39;lm&#39;</span>, <span class="at">color =</span><span class="st">&#39;red&#39;</span>, <span class="at">se=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb50-10"><a href="basic-plot-with-r.html#cb50-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(gender <span class="sc">~</span>.)</span></code></pre></div>
<p><img src="testbook_files/figure-html/basic%20scatter9-1.png" width="672" /></p>
<p>When I review above data, I want compare the gender difference according to age</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="basic-plot-with-r.html#cb51-1" aria-hidden="true" tabindex="-1"></a>covid <span class="sc">%&gt;%</span></span>
<span id="cb51-2"><a href="basic-plot-with-r.html#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(gender, age) <span class="sc">%&gt;%</span></span>
<span id="cb51-3"><a href="basic-plot-with-r.html#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Q6<span class="sc">==</span><span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb51-4"><a href="basic-plot-with-r.html#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> n<span class="sc">/</span><span class="fu">sum</span>(n)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb51-5"><a href="basic-plot-with-r.html#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Q6 == 10</span><span class="st">`</span> <span class="sc">==</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb51-6"><a href="basic-plot-with-r.html#cb51-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> age, <span class="at">y =</span> prob, <span class="at">group =</span> gender)) <span class="sc">+</span></span>
<span id="cb51-7"><a href="basic-plot-with-r.html#cb51-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> gender, <span class="at">size =</span> n), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb51-8"><a href="basic-plot-with-r.html#cb51-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span><span class="st">&#39;loess&#39;</span>,</span>
<span id="cb51-9"><a href="basic-plot-with-r.html#cb51-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">formula =</span> y <span class="sc">~</span> x,</span>
<span id="cb51-10"><a href="basic-plot-with-r.html#cb51-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">se=</span><span class="cn">FALSE</span>, <span class="fu">aes</span>(<span class="at">color =</span> gender))<span class="sc">+</span></span>
<span id="cb51-11"><a href="basic-plot-with-r.html#cb51-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb51-12"><a href="basic-plot-with-r.html#cb51-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&#39;Age&#39;</span>) <span class="sc">+</span><span class="fu">ylab</span>(<span class="st">&#39;Keeping Social Distance&#39;</span>)</span></code></pre></div>
<p><img src="testbook_files/figure-html/basic%20scatter%2010-1.png" width="672" />
There were gender difference, women show different two groups of around 30 years old and 50 years old.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="basic-plot-with-r.html#cb52-1" aria-hidden="true" tabindex="-1"></a>covid <span class="sc">%&gt;%</span></span>
<span id="cb52-2"><a href="basic-plot-with-r.html#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(gender, age) <span class="sc">%&gt;%</span></span>
<span id="cb52-3"><a href="basic-plot-with-r.html#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Q6<span class="sc">==</span><span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb52-4"><a href="basic-plot-with-r.html#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> n<span class="sc">/</span><span class="fu">sum</span>(n)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb52-5"><a href="basic-plot-with-r.html#cb52-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Q6 == 10</span><span class="st">`</span> <span class="sc">==</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb52-6"><a href="basic-plot-with-r.html#cb52-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> age, <span class="at">y =</span> prob, <span class="at">group =</span> gender)) <span class="sc">+</span></span>
<span id="cb52-7"><a href="basic-plot-with-r.html#cb52-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> gender, <span class="at">size =</span> n), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb52-8"><a href="basic-plot-with-r.html#cb52-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span><span class="st">&#39;loess&#39;</span>,</span>
<span id="cb52-9"><a href="basic-plot-with-r.html#cb52-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">formula =</span> y <span class="sc">~</span> x,</span>
<span id="cb52-10"><a href="basic-plot-with-r.html#cb52-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">se=</span><span class="cn">FALSE</span>, <span class="fu">aes</span>(<span class="at">color =</span> gender))<span class="sc">+</span></span>
<span id="cb52-11"><a href="basic-plot-with-r.html#cb52-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb52-12"><a href="basic-plot-with-r.html#cb52-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&#39;Age&#39;</span>) <span class="sc">+</span><span class="fu">ylab</span>(<span class="st">&#39;Keeping Social Distance&#39;</span>)<span class="sc">+</span></span>
<span id="cb52-13"><a href="basic-plot-with-r.html#cb52-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(gender<span class="sc">~</span>.)<span class="sc">+</span></span>
<span id="cb52-14"><a href="basic-plot-with-r.html#cb52-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_density2d</span>()</span></code></pre></div>
<p><img src="testbook_files/figure-html/2d%20density%20in%2020201024-1.png" width="672" /></p>
</div>
<div id="line-chart" class="section level3" number="8.2.6">
<h3><span class="header-section-number">8.2.6</span> line chart</h3>
<p>The chis-quare test is sometimes displayed via line chart. Particularly, the proportion of True and it trend can be highlighted by line chart. let’s compare the line chart and bar chart.</p>
<p><img src="testbook_files/figure-html/line%20chart%201-1.png" width="672" /></p>
<p><img src="testbook_files/figure-html/line%20chart%202-1.png" width="672" /></p>
<pre><code>## &lt;ScaleContinuousPosition&gt;
##  Range:  
##  Limits:    0 --    1</code></pre>
<p>If there are multiple plot, the line chart can highlight the trends of value change.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="basic-plot-with-r.html#cb54-1" aria-hidden="true" tabindex="-1"></a>emotion <span class="ot">&lt;-</span> covid2 <span class="sc">%&gt;%</span></span>
<span id="cb54-2"><a href="basic-plot-with-r.html#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(gender, keep_sdist_ft, <span class="fu">contains</span>(<span class="st">&#39;Q18&#39;</span>), </span>
<span id="cb54-3"><a href="basic-plot-with-r.html#cb54-3" aria-hidden="true" tabindex="-1"></a>     ) </span>
<span id="cb54-4"><a href="basic-plot-with-r.html#cb54-4" aria-hidden="true" tabindex="-1"></a>lifepattern <span class="ot">&lt;-</span> covid2 <span class="sc">%&gt;%</span></span>
<span id="cb54-5"><a href="basic-plot-with-r.html#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(gender, keep_sdist_ft, <span class="fu">contains</span>(<span class="st">&#39;Q19&#39;</span>), </span>
<span id="cb54-6"><a href="basic-plot-with-r.html#cb54-6" aria-hidden="true" tabindex="-1"></a>     ) </span>
<span id="cb54-7"><a href="basic-plot-with-r.html#cb54-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-8"><a href="basic-plot-with-r.html#cb54-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(emotion)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 9
##   gender keep_sdist_ft Q18_1 Q18_2 Q18_3 Q18_4 Q18_5 Q18_6 Q18_7
##   &lt;chr&gt;  &lt;chr&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 women  Yes               3     3     3     2     1     2     2
## 2 women  No                2     2     2     2     2     2     2
## 3 men    Yes               2     2     2     2     2     2     2
## 4 women  No                2     2     2     3     1     1     2
## 5 women  Yes               3     2     3     2     2     1     2
## 6 men    Yes               2     2     2     2     2     2     2</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="basic-plot-with-r.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(lifepattern)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 20
##   gender keep_sdist_ft Q19_1 Q19_2 Q19_3 Q19_4 Q19_5 Q19_6 Q19_7 Q19_8 Q19_9
##   &lt;chr&gt;  &lt;chr&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 women  Yes               3     2     1     2     1     3     2     2     3
## 2 women  No                2     2     1     2     2     2     2     2     2
## 3 men    Yes               2     2     2     2     2     2     2     2     2
## 4 women  No                2     2     2     1     2     3     2     2     2
## 5 women  Yes               1     2     2     2     2     3     1     2     3
## 6 men    Yes               2     2     2     1     2     2     2     2     2
## # … with 9 more variables: Q19_10 &lt;dbl&gt;, Q19_11 &lt;dbl&gt;, Q19_12 &lt;dbl&gt;,
## #   Q19_13 &lt;dbl&gt;, Q19_14 &lt;dbl&gt;, Q19_15 &lt;dbl&gt;, Q19_16 &lt;dbl&gt;, Q19_17 &lt;dbl&gt;,
## #   Q19_18 &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="basic-plot-with-r.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(emotion) <span class="ot">&lt;-</span><span class="fu">c</span>(</span>
<span id="cb58-2"><a href="basic-plot-with-r.html#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;Gender&#39;</span>,</span>
<span id="cb58-3"><a href="basic-plot-with-r.html#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;keep social distancing&#39;</span>,</span>
<span id="cb58-4"><a href="basic-plot-with-r.html#cb58-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;lonely&#39;</span>, </span>
<span id="cb58-5"><a href="basic-plot-with-r.html#cb58-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;depressive&#39;</span>,</span>
<span id="cb58-6"><a href="basic-plot-with-r.html#cb58-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;anxious&#39;</span>,</span>
<span id="cb58-7"><a href="basic-plot-with-r.html#cb58-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;angry&#39;</span>, </span>
<span id="cb58-8"><a href="basic-plot-with-r.html#cb58-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;Happy&#39;</span>,</span>
<span id="cb58-9"><a href="basic-plot-with-r.html#cb58-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;Relaxed&#39;</span>,</span>
<span id="cb58-10"><a href="basic-plot-with-r.html#cb58-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;Focused&#39;</span>)</span>
<span id="cb58-11"><a href="basic-plot-with-r.html#cb58-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-12"><a href="basic-plot-with-r.html#cb58-12" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(lifepattern)<span class="ot">&lt;-</span><span class="fu">c</span>(</span>
<span id="cb58-13"><a href="basic-plot-with-r.html#cb58-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;Gender&#39;</span>,</span>
<span id="cb58-14"><a href="basic-plot-with-r.html#cb58-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;keep social distancing&#39;</span>,</span>
<span id="cb58-15"><a href="basic-plot-with-r.html#cb58-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;Exercising&#39;</span>,</span>
<span id="cb58-16"><a href="basic-plot-with-r.html#cb58-16" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Engaging in creative activities&#39;</span>,</span>
<span id="cb58-17"><a href="basic-plot-with-r.html#cb58-17" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Sleeping&#39;</span>,</span>
<span id="cb58-18"><a href="basic-plot-with-r.html#cb58-18" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Avoiding the news&#39;</span>,</span>
<span id="cb58-19"><a href="basic-plot-with-r.html#cb58-19" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Helping others&#39;</span>,</span>
<span id="cb58-20"><a href="basic-plot-with-r.html#cb58-20" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Reading</span><span class="sc">\n</span><span class="st">listening to the news&#39;</span>,</span>
<span id="cb58-21"><a href="basic-plot-with-r.html#cb58-21" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Using alcohol or other drugs&#39;</span>,</span>
<span id="cb58-22"><a href="basic-plot-with-r.html#cb58-22" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Seeking emotional </span><span class="sc">\n</span><span class="st">support from others&#39;</span>,</span>
<span id="cb58-23"><a href="basic-plot-with-r.html#cb58-23" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Spending time on social media&#39;</span>,</span>
<span id="cb58-24"><a href="basic-plot-with-r.html#cb58-24" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Playing games&#39;</span>,</span>
<span id="cb58-25"><a href="basic-plot-with-r.html#cb58-25" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Sharing funny memes</span><span class="sc">\n</span><span class="st"> and videos&#39;</span>,</span>
<span id="cb58-26"><a href="basic-plot-with-r.html#cb58-26" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Eating due to stress or boredom&#39;</span>,</span>
<span id="cb58-27"><a href="basic-plot-with-r.html#cb58-27" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Connecting with family</span><span class="sc">\n</span><span class="st">friends&#39;</span>,</span>
<span id="cb58-28"><a href="basic-plot-with-r.html#cb58-28" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Watching movies</span><span class="sc">\n</span><span class="st">TV&#39;</span>,</span>
<span id="cb58-29"><a href="basic-plot-with-r.html#cb58-29" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Praying or meditating&#39;</span>,</span>
<span id="cb58-30"><a href="basic-plot-with-r.html#cb58-30" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Feeling grateful&#39;</span>,</span>
<span id="cb58-31"><a href="basic-plot-with-r.html#cb58-31" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Journaling&#39;</span>,</span>
<span id="cb58-32"><a href="basic-plot-with-r.html#cb58-32" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Working</span><span class="sc">\n</span><span class="st">doing schoolwork&#39;</span></span>
<span id="cb58-33"><a href="basic-plot-with-r.html#cb58-33" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>transfome the data from wide to long</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="basic-plot-with-r.html#cb59-1" aria-hidden="true" tabindex="-1"></a>em.long <span class="ot">&lt;-</span> emotion <span class="sc">%&gt;%</span></span>
<span id="cb59-2"><a href="basic-plot-with-r.html#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(<span class="sc">-</span><span class="st">`</span><span class="at">keep social distancing</span><span class="st">`</span>,<span class="sc">-</span>Gender, <span class="at">key =</span><span class="st">&#39;emotion&#39;</span>, <span class="at">value =</span><span class="st">&#39;trend&#39;</span>)</span>
<span id="cb59-3"><a href="basic-plot-with-r.html#cb59-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4"><a href="basic-plot-with-r.html#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="do">## wide to long transform will be introduced in common data model part</span></span>
<span id="cb59-5"><a href="basic-plot-with-r.html#cb59-5" aria-hidden="true" tabindex="-1"></a>em.long <span class="sc">%&gt;%</span></span>
<span id="cb59-6"><a href="basic-plot-with-r.html#cb59-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Gender <span class="sc">==</span><span class="st">&#39;men&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-7"><a href="basic-plot-with-r.html#cb59-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(emotion, trend) <span class="sc">%&gt;%</span></span>
<span id="cb59-8"><a href="basic-plot-with-r.html#cb59-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(<span class="st">`</span><span class="at">keep social distancing</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-9"><a href="basic-plot-with-r.html#cb59-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> n<span class="sc">/</span><span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb59-10"><a href="basic-plot-with-r.html#cb59-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">keep social distancing</span><span class="st">`</span> <span class="sc">==</span> <span class="st">&#39;Yes&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-11"><a href="basic-plot-with-r.html#cb59-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>trend, <span class="at">y =</span> prob)) <span class="sc">+</span></span>
<span id="cb59-12"><a href="basic-plot-with-r.html#cb59-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()<span class="sc">+</span></span>
<span id="cb59-13"><a href="basic-plot-with-r.html#cb59-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(emotion<span class="sc">~</span>., <span class="at">scales =</span> <span class="st">&#39;free&#39;</span>) <span class="sc">+</span></span>
<span id="cb59-14"><a href="basic-plot-with-r.html#cb59-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb59-15"><a href="basic-plot-with-r.html#cb59-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&#39;Men, Expecting of keeping social distance and emotional change&#39;</span>)</span></code></pre></div>
<p><img src="testbook_files/figure-html/line%20chart%20emotion%20men%2020201024-1.png" width="672" /></p>
</div>
<div id="home-work" class="section level3" number="8.2.7">
<h3><span class="header-section-number">8.2.7</span> home work</h3>
<p>draw below three graphs (x scale, x lab, y lab, and title changes.) and insert your name in title.</p>
<div id="first-home-work" class="section level4" number="8.2.7.1">
<h4><span class="header-section-number">8.2.7.1</span> first home work</h4>
<p><img src="testbook_files/figure-html/line%20chart%20emotion%20female%2020201024-1.png" width="672" /></p>
</div>
<div id="second-home-work" class="section level4" number="8.2.7.2">
<h4><span class="header-section-number">8.2.7.2</span> second home work</h4>
<p><img src="testbook_files/figure-html/line%20chart%20life%20second%20homework%20male%2020201024,%20-1.png" width="672" /></p>
</div>
<div id="third-home-work" class="section level4" number="8.2.7.3">
<h4><span class="header-section-number">8.2.7.3</span> third home work</h4>
<p><img src="testbook_files/figure-html/line%20chart%20life%20third%20home%20work%20women%2020201024-1.png" width="672" /></p>
</div>
</div>
</div>
<div id="diagram" class="section level2" number="8.3">
<h2><span class="header-section-number">8.3</span> Diagram</h2>
<table>
<thead>
<tr class="header">
<th>동영상</th>
<th>link</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>jinhaslab</td>
<td><a href="https://youtu.be/VU6z2sc9WEY" class="uri">https://youtu.be/VU6z2sc9WEY</a></td>
</tr>
</tbody>
</table>
<iframe width="560" height="315" src="https://www.youtube.com/embed/VU6z2sc9WEY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>순서도를 그리는 것을 간략 정리하겠습니다. <code>A -&gt; B 로 순서도를 그립니다.</code></p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="basic-plot-with-r.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DiagrammeR)</span>
<span id="cb60-2"><a href="basic-plot-with-r.html#cb60-2" aria-hidden="true" tabindex="-1"></a>DiagrammeR<span class="sc">::</span><span class="fu">grViz</span>(</span>
<span id="cb60-3"><a href="basic-plot-with-r.html#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;digraph rmarkdown {</span></span>
<span id="cb60-4"><a href="basic-plot-with-r.html#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="st">  A -&gt; B</span></span>
<span id="cb60-5"><a href="basic-plot-with-r.html#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="st">  }&quot;</span>, <span class="at">height =</span> <span class="dv">400</span></span>
<span id="cb60-6"><a href="basic-plot-with-r.html#cb60-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div id="htmlwidget-b148241b7e0371e61053" style="width:672px;height:400px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-b148241b7e0371e61053">{"x":{"diagram":"digraph rmarkdown {\n  A -> B\n  }","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<p>여기에 박스 모양등 여러가지 옵션을 정할 수 있습니다.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="basic-plot-with-r.html#cb61-1" aria-hidden="true" tabindex="-1"></a>DiagrammeR<span class="sc">::</span><span class="fu">grViz</span>(<span class="st">&quot;</span></span>
<span id="cb61-2"><a href="basic-plot-with-r.html#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="st">digraph boxes_and_circles {</span></span>
<span id="cb61-3"><a href="basic-plot-with-r.html#cb61-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-4"><a href="basic-plot-with-r.html#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="st">  # 노드를 어떻게 할지 설정</span></span>
<span id="cb61-5"><a href="basic-plot-with-r.html#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="st">  node [shape = box]</span></span>
<span id="cb61-6"><a href="basic-plot-with-r.html#cb61-6" aria-hidden="true" tabindex="-1"></a><span class="st">  A; B; C</span></span>
<span id="cb61-7"><a href="basic-plot-with-r.html#cb61-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-8"><a href="basic-plot-with-r.html#cb61-8" aria-hidden="true" tabindex="-1"></a><span class="st">  node [shape = circle] </span></span>
<span id="cb61-9"><a href="basic-plot-with-r.html#cb61-9" aria-hidden="true" tabindex="-1"></a><span class="st">  1; 2; 3;4</span></span>
<span id="cb61-10"><a href="basic-plot-with-r.html#cb61-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-11"><a href="basic-plot-with-r.html#cb61-11" aria-hidden="true" tabindex="-1"></a><span class="st">  # 연결을 어떻게 할지 설정</span></span>
<span id="cb61-12"><a href="basic-plot-with-r.html#cb61-12" aria-hidden="true" tabindex="-1"></a><span class="st">  A-&gt;1 B-&gt;2 C -&gt;3</span></span>
<span id="cb61-13"><a href="basic-plot-with-r.html#cb61-13" aria-hidden="true" tabindex="-1"></a><span class="st">  A-&gt;4</span></span>
<span id="cb61-14"><a href="basic-plot-with-r.html#cb61-14" aria-hidden="true" tabindex="-1"></a><span class="st">  }</span></span>
<span id="cb61-15"><a href="basic-plot-with-r.html#cb61-15" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-802c820a50647b09de1a" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-802c820a50647b09de1a">{"x":{"diagram":"\ndigraph boxes_and_circles {\n\n  # 노드를 어떻게 할지 설정\n  node [shape = box]\n  A; B; C\n\n  node [shape = circle] \n  1; 2; 3;4\n\n  # 연결을 어떻게 할지 설정\n  A->1 B->2 C ->3\n  A->4\n  }\n","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<p>순서와 위치, 그리고 색</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="basic-plot-with-r.html#cb62-1" aria-hidden="true" tabindex="-1"></a>DiagrammeR<span class="sc">::</span><span class="fu">grViz</span>(<span class="st">&quot;</span></span>
<span id="cb62-2"><a href="basic-plot-with-r.html#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="st">digraph boxes_and_circles {</span></span>
<span id="cb62-3"><a href="basic-plot-with-r.html#cb62-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-4"><a href="basic-plot-with-r.html#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="st">  # 박스 모양 할것 정하기</span></span>
<span id="cb62-5"><a href="basic-plot-with-r.html#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="st">  node [shape = box]</span></span>
<span id="cb62-6"><a href="basic-plot-with-r.html#cb62-6" aria-hidden="true" tabindex="-1"></a><span class="st">  A; B; C</span></span>
<span id="cb62-7"><a href="basic-plot-with-r.html#cb62-7" aria-hidden="true" tabindex="-1"></a><span class="st">  # 원 모양 할 것 정하기</span></span>
<span id="cb62-8"><a href="basic-plot-with-r.html#cb62-8" aria-hidden="true" tabindex="-1"></a><span class="st">  node [shape = circle] </span></span>
<span id="cb62-9"><a href="basic-plot-with-r.html#cb62-9" aria-hidden="true" tabindex="-1"></a><span class="st">  1; 2; 4</span></span>
<span id="cb62-10"><a href="basic-plot-with-r.html#cb62-10" aria-hidden="true" tabindex="-1"></a><span class="st">  #색</span></span>
<span id="cb62-11"><a href="basic-plot-with-r.html#cb62-11" aria-hidden="true" tabindex="-1"></a><span class="st">  abc[style = filled, fillcolor = Yellow]</span></span>
<span id="cb62-12"><a href="basic-plot-with-r.html#cb62-12" aria-hidden="true" tabindex="-1"></a><span class="st">  # 연결 부분 </span></span>
<span id="cb62-13"><a href="basic-plot-with-r.html#cb62-13" aria-hidden="true" tabindex="-1"></a><span class="st">  A-&gt;1 C-&gt;2 B -&gt;C</span></span>
<span id="cb62-14"><a href="basic-plot-with-r.html#cb62-14" aria-hidden="true" tabindex="-1"></a><span class="st">  A-&gt;4 C-&gt; 4</span></span>
<span id="cb62-15"><a href="basic-plot-with-r.html#cb62-15" aria-hidden="true" tabindex="-1"></a><span class="st">  abc -&gt; 3 </span></span>
<span id="cb62-16"><a href="basic-plot-with-r.html#cb62-16" aria-hidden="true" tabindex="-1"></a><span class="st">  </span></span>
<span id="cb62-17"><a href="basic-plot-with-r.html#cb62-17" aria-hidden="true" tabindex="-1"></a><span class="st">  </span></span>
<span id="cb62-18"><a href="basic-plot-with-r.html#cb62-18" aria-hidden="true" tabindex="-1"></a><span class="st">  # 위치</span></span>
<span id="cb62-19"><a href="basic-plot-with-r.html#cb62-19" aria-hidden="true" tabindex="-1"></a><span class="st">  subgraph{</span></span>
<span id="cb62-20"><a href="basic-plot-with-r.html#cb62-20" aria-hidden="true" tabindex="-1"></a><span class="st">  rank = same; A;B;C</span></span>
<span id="cb62-21"><a href="basic-plot-with-r.html#cb62-21" aria-hidden="true" tabindex="-1"></a><span class="st">  }</span></span>
<span id="cb62-22"><a href="basic-plot-with-r.html#cb62-22" aria-hidden="true" tabindex="-1"></a><span class="st">  }</span></span>
<span id="cb62-23"><a href="basic-plot-with-r.html#cb62-23" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-b6605540325b0fd3041d" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-b6605540325b0fd3041d">{"x":{"diagram":"\ndigraph boxes_and_circles {\n\n  # 박스 모양 할것 정하기\n  node [shape = box]\n  A; B; C\n  # 원 모양 할 것 정하기\n  node [shape = circle] \n  1; 2; 4\n  #색\n  abc[style = filled, fillcolor = Yellow]\n  # 연결 부분 \n  A->1 C->2 B ->C\n  A->4 C-> 4\n  abc -> 3 \n  \n  \n  # 위치\n  subgraph{\n  rank = same; A;B;C\n  }\n  }\n","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<p>위아래 TB (top buttom), 왼쪽 오른쪽 (LR)에 대해 지정해 줄 수 있습니다.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="basic-plot-with-r.html#cb63-1" aria-hidden="true" tabindex="-1"></a>DiagrammeR<span class="sc">::</span><span class="fu">grViz</span>(<span class="st">&quot;digraph {</span></span>
<span id="cb63-2"><a href="basic-plot-with-r.html#cb63-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-3"><a href="basic-plot-with-r.html#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="st">graph [layout = dot, rankdir = LR] # 왼쪽 오른쪽 방향</span></span>
<span id="cb63-4"><a href="basic-plot-with-r.html#cb63-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-5"><a href="basic-plot-with-r.html#cb63-5" aria-hidden="true" tabindex="-1"></a><span class="st"># 일반거 스타이 미리 지정</span></span>
<span id="cb63-6"><a href="basic-plot-with-r.html#cb63-6" aria-hidden="true" tabindex="-1"></a><span class="st">node [shape = rectangle, style = filled, fillcolor = grey]</span></span>
<span id="cb63-7"><a href="basic-plot-with-r.html#cb63-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-8"><a href="basic-plot-with-r.html#cb63-8" aria-hidden="true" tabindex="-1"></a><span class="st">dat1 [label = &#39;A 사업장 검진&#39;, shape = folder, fillcolor = Yellow]</span></span>
<span id="cb63-9"><a href="basic-plot-with-r.html#cb63-9" aria-hidden="true" tabindex="-1"></a><span class="st">dat2 [label = &#39;B 사업장 검진&#39;, shape = folder, fillcolor = Yellow]</span></span>
<span id="cb63-10"><a href="basic-plot-with-r.html#cb63-10" aria-hidden="true" tabindex="-1"></a><span class="st">dat3 [label = &#39;C 사업장 검진&#39;, shape = folder, fillcolor = Yellow]</span></span>
<span id="cb63-11"><a href="basic-plot-with-r.html#cb63-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-12"><a href="basic-plot-with-r.html#cb63-12" aria-hidden="true" tabindex="-1"></a><span class="st">cdm1 [label = &#39;표준화1&#39;, shape = circle, fillcolor = Beige] </span></span>
<span id="cb63-13"><a href="basic-plot-with-r.html#cb63-13" aria-hidden="true" tabindex="-1"></a><span class="st">cdm2 [label = &#39;표준화2&#39;, shape = circle, fillcolor = Beige] </span></span>
<span id="cb63-14"><a href="basic-plot-with-r.html#cb63-14" aria-hidden="true" tabindex="-1"></a><span class="st">cdm3 [label = &#39;표준화3&#39;, shape = circle, fillcolor = Beige] </span></span>
<span id="cb63-15"><a href="basic-plot-with-r.html#cb63-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-16"><a href="basic-plot-with-r.html#cb63-16" aria-hidden="true" tabindex="-1"></a><span class="st">process [label =  &#39;공통 변수/값&#39;]</span></span>
<span id="cb63-17"><a href="basic-plot-with-r.html#cb63-17" aria-hidden="true" tabindex="-1"></a><span class="st">statistical [label = &#39;분산형 계산&#39;]</span></span>
<span id="cb63-18"><a href="basic-plot-with-r.html#cb63-18" aria-hidden="true" tabindex="-1"></a><span class="st">results [label= &#39;결과&#39;]</span></span>
<span id="cb63-19"><a href="basic-plot-with-r.html#cb63-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-20"><a href="basic-plot-with-r.html#cb63-20" aria-hidden="true" tabindex="-1"></a><span class="st"># edge definitions with the node IDs</span></span>
<span id="cb63-21"><a href="basic-plot-with-r.html#cb63-21" aria-hidden="true" tabindex="-1"></a><span class="st">dat1 -&gt; cdm1 dat2 -&gt; cdm2 dat3 -&gt; cdm3</span></span>
<span id="cb63-22"><a href="basic-plot-with-r.html#cb63-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-23"><a href="basic-plot-with-r.html#cb63-23" aria-hidden="true" tabindex="-1"></a><span class="st">{cdm1 cdm2 cdm3} -&gt; process -&gt; statistical -&gt; results</span></span>
<span id="cb63-24"><a href="basic-plot-with-r.html#cb63-24" aria-hidden="true" tabindex="-1"></a><span class="st">}&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-523fb9b1b9152368cfbb" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-523fb9b1b9152368cfbb">{"x":{"diagram":"digraph {\n\ngraph [layout = dot, rankdir = LR] # 왼쪽 오른쪽 방향\n\n# 일반거 스타이 미리 지정\nnode [shape = rectangle, style = filled, fillcolor = grey]\n\ndat1 [label = \"A 사업장 검진\", shape = folder, fillcolor = Yellow]\ndat2 [label = \"B 사업장 검진\", shape = folder, fillcolor = Yellow]\ndat3 [label = \"C 사업장 검진\", shape = folder, fillcolor = Yellow]\n\ncdm1 [label = \"표준화1\", shape = circle, fillcolor = Beige] \ncdm2 [label = \"표준화2\", shape = circle, fillcolor = Beige] \ncdm3 [label = \"표준화3\", shape = circle, fillcolor = Beige] \n\nprocess [label =  \"공통 변수/값\"]\nstatistical [label = \"분산형 계산\"]\nresults [label= \"결과\"]\n\n# edge definitions with the node IDs\ndat1 -> cdm1 dat2 -> cdm2 dat3 -> cdm3\n\n{cdm1 cdm2 cdm3} -> process -> statistical -> results\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<p>기존의 데이터의 값을 불러와서 사용할 수 있습니다. 보건학 표 만들기에서 가장 많이 사용될 만한 코드입니다. 예를 들어
1000명의 inclusion에서 100명씩 exclusion되어 800명이 남는 상황을 표현해 보겠습니다.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="basic-plot-with-r.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define some sample data</span></span>
<span id="cb64-2"><a href="basic-plot-with-r.html#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb64-3"><a href="basic-plot-with-r.html#cb64-3" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">inc1=</span><span class="dv">1000</span>, </span>
<span id="cb64-4"><a href="basic-plot-with-r.html#cb64-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">exc1=</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb64-5"><a href="basic-plot-with-r.html#cb64-5" aria-hidden="true" tabindex="-1"></a>          <span class="fu">mutate</span>(<span class="at">inc2 =</span> inc1 <span class="sc">-</span> exc1)</span>
<span id="cb64-6"><a href="basic-plot-with-r.html#cb64-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb64-7"><a href="basic-plot-with-r.html#cb64-7" aria-hidden="true" tabindex="-1"></a>DiagrammeR<span class="sc">::</span><span class="fu">grViz</span>(<span class="st">&quot;</span></span>
<span id="cb64-8"><a href="basic-plot-with-r.html#cb64-8" aria-hidden="true" tabindex="-1"></a><span class="st">digraph graph2 {</span></span>
<span id="cb64-9"><a href="basic-plot-with-r.html#cb64-9" aria-hidden="true" tabindex="-1"></a><span class="st">node [shape=box, fontsize = 12];</span></span>
<span id="cb64-10"><a href="basic-plot-with-r.html#cb64-10" aria-hidden="true" tabindex="-1"></a><span class="st">    inc1;inc2;exc1</span></span>
<span id="cb64-11"><a href="basic-plot-with-r.html#cb64-11" aria-hidden="true" tabindex="-1"></a><span class="st">node [shape = point, width = 0, height = 0]</span></span>
<span id="cb64-12"><a href="basic-plot-with-r.html#cb64-12" aria-hidden="true" tabindex="-1"></a><span class="st">    &#39;&#39;</span></span>
<span id="cb64-13"><a href="basic-plot-with-r.html#cb64-13" aria-hidden="true" tabindex="-1"></a><span class="st">graph [layout = dot]</span></span>
<span id="cb64-14"><a href="basic-plot-with-r.html#cb64-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-15"><a href="basic-plot-with-r.html#cb64-15" aria-hidden="true" tabindex="-1"></a><span class="st">inc1 [label = &#39;@@1&#39;]</span></span>
<span id="cb64-16"><a href="basic-plot-with-r.html#cb64-16" aria-hidden="true" tabindex="-1"></a><span class="st">inc2 [label = &#39;@@2&#39;]</span></span>
<span id="cb64-17"><a href="basic-plot-with-r.html#cb64-17" aria-hidden="true" tabindex="-1"></a><span class="st">exc1 [label = &#39;@@3&#39;]</span></span>
<span id="cb64-18"><a href="basic-plot-with-r.html#cb64-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-19"><a href="basic-plot-with-r.html#cb64-19" aria-hidden="true" tabindex="-1"></a><span class="st">inc1 -&gt; &#39;&#39; [arrowhead = none]</span></span>
<span id="cb64-20"><a href="basic-plot-with-r.html#cb64-20" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;&#39;   -&gt; exc1</span></span>
<span id="cb64-21"><a href="basic-plot-with-r.html#cb64-21" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;&#39;   -&gt; inc2</span></span>
<span id="cb64-22"><a href="basic-plot-with-r.html#cb64-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-23"><a href="basic-plot-with-r.html#cb64-23" aria-hidden="true" tabindex="-1"></a><span class="st">subgraph {</span></span>
<span id="cb64-24"><a href="basic-plot-with-r.html#cb64-24" aria-hidden="true" tabindex="-1"></a><span class="st">      rank = same; &#39;&#39;; exc1;</span></span>
<span id="cb64-25"><a href="basic-plot-with-r.html#cb64-25" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="cb64-26"><a href="basic-plot-with-r.html#cb64-26" aria-hidden="true" tabindex="-1"></a><span class="st">}</span></span>
<span id="cb64-27"><a href="basic-plot-with-r.html#cb64-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-28"><a href="basic-plot-with-r.html#cb64-28" aria-hidden="true" tabindex="-1"></a><span class="st">[1]: paste0(&#39;Total population (n = &#39;, data$inc1, &#39;)&#39;)</span></span>
<span id="cb64-29"><a href="basic-plot-with-r.html#cb64-29" aria-hidden="true" tabindex="-1"></a><span class="st">[2]: paste0(&#39;Economic activity (n = &#39;, data$inc2, &#39;)&#39;)</span></span>
<span id="cb64-30"><a href="basic-plot-with-r.html#cb64-30" aria-hidden="true" tabindex="-1"></a><span class="st">[3]: paste0(&#39;No economic activity (n = &#39;, data$exc1, &#39;)&#39;)</span></span>
<span id="cb64-31"><a href="basic-plot-with-r.html#cb64-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-32"><a href="basic-plot-with-r.html#cb64-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-33"><a href="basic-plot-with-r.html#cb64-33" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-77e39a442b2e93630680" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-77e39a442b2e93630680">{"x":{"diagram":"\ndigraph graph2 {\nnode [shape=box, fontsize = 12];\n    inc1;inc2;exc1\nnode [shape = point, width = 0, height = 0]\n    \"\"\ngraph [layout = dot]\n\ninc1 [label = \"Total population (n = 1000)\"]\ninc2 [label = \"Economic activity (n = 900)\"]\nexc1 [label = \"No economic activity (n = 100)\"]\n\ninc1 -> \"\" [arrowhead = none]\n\"\"   -> exc1\n\"\"   -> inc2\n\nsubgraph {\n      rank = same; \"\"; exc1;\n    }\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="과제-3" class="section level2" number="8.4">
<h2><span class="header-section-number">8.4</span> 과제</h2>
<p>위 digram 에서 남녀를 나누어 보세요. 아래의 그래프가 나오도록 코드를 작성하십시오. 코드를 올려주세요</p>
<div id="htmlwidget-3daf49b52a5341d54ba5" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-3daf49b52a5341d54ba5">{"x":{"diagram":"\ndigraph graph2 {\nnode [shape=box, fontsize = 12];\n    inc1;inc2;exc1;men;women\nnode [shape = point, width = 0, height = 0]\n    \"\"\ngraph [layout = dot]\n\n# 사전 폭 고정\ninc1 [label = \"Total population (n = 1000)\"]\ninc2 [label = \"Economic activity (n = 900)\"]\nexc1 [label = \"No economic activity (n = 100)\"]\nmen  [label = \"men (n = 450)\"]\nwomen[label = \"women (n = 450)\"]\n\n\n\n\n\ninc1 -> \"\" [arrowhead = none]\n\"\"   -> exc1\n\"\"   -> inc2\ninc2 -> men\ninc2 -> women\n\nsubgraph {\n      rank = same; \"\"; exc1;\n    }\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tables-for-public-health.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="graphs-for-public-health-i.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["testbook.pdf", "testbook.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
