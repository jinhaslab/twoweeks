<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Tables for public health | DsPubs with R tutor book</title>
  <meta name="description" content="Chapter 5 Tables for public health | DsPubs with R tutor book" />
  <meta name="generator" content="bookdown 0.27 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Tables for public health | DsPubs with R tutor book" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Tables for public health | DsPubs with R tutor book" />
  
  
  

<meta name="author" content="jinha" />


<meta name="date" content="2022-09-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-program-basic.html"/>
<link rel="next" href="tables-for-public-health-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="libs/primer-tooltips-1.4.0/build.css" rel="stylesheet" />
<link href="libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet" />
<script src="libs/klippy-0.0.0.9500/js/klippy.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://dspubs.org/webapps">DsPubs</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="lets-start-with-r-and-r-studio.html"><a href="lets-start-with-r-and-r-studio.html"><i class="fa fa-check"></i><b>2</b> Let’s Start with R and R studio</a>
<ul>
<li class="chapter" data-level="2.1" data-path="lets-start-with-r-and-r-studio.html"><a href="lets-start-with-r-and-r-studio.html#rstudio-cloud-and-colab"><i class="fa fa-check"></i><b>2.1</b> Rstudio Cloud, and colab</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="lets-start-with-r-and-r-studio.html"><a href="lets-start-with-r-and-r-studio.html#rstudio-cloud"><i class="fa fa-check"></i><b>2.1.1</b> Rstudio Cloud</a></li>
<li class="chapter" data-level="2.1.2" data-path="lets-start-with-r-and-r-studio.html"><a href="lets-start-with-r-and-r-studio.html#colab"><i class="fa fa-check"></i><b>2.1.2</b> Colab</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="lets-start-with-r-and-r-studio.html"><a href="lets-start-with-r-and-r-studio.html#r-and-r-studio-on-window-system"><i class="fa fa-check"></i><b>2.2</b> R and R studio on Window system</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="lets-start-with-r-and-r-studio.html"><a href="lets-start-with-r-and-r-studio.html#r-studio-install"><i class="fa fa-check"></i><b>2.2.1</b> R studio install</a></li>
<li class="chapter" data-level="2.2.2" data-path="lets-start-with-r-and-r-studio.html"><a href="lets-start-with-r-and-r-studio.html#r-studio-project"><i class="fa fa-check"></i><b>2.2.2</b> R studio project</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="lets-start-with-r-and-r-studio.html"><a href="lets-start-with-r-and-r-studio.html#r-and-r-studio-on-ubuntus"><i class="fa fa-check"></i><b>2.3</b> R and R studio on Ubuntus</a></li>
</ul></li>
<li class="part"><span><b>I R</b></span></li>
<li class="chapter" data-level="3" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>3</b> R basics</a>
<ul>
<li class="chapter" data-level="3.1" data-path="r-basics.html"><a href="r-basics.html#vector-matirx-list"><i class="fa fa-check"></i><b>3.1</b> vector matirx list</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="r-basics.html"><a href="r-basics.html#오브젝트-objects"><i class="fa fa-check"></i><b>3.1.1</b> 오브젝트 (objects)</a></li>
<li class="chapter" data-level="3.1.2" data-path="r-basics.html"><a href="r-basics.html#백터-vectors-팩터-factors"><i class="fa fa-check"></i><b>3.1.2</b> 백터 (Vectors), 팩터 (factors)</a></li>
<li class="chapter" data-level="3.1.3" data-path="r-basics.html"><a href="r-basics.html#매트릭스-matrix-데이터프래임-data-frame-리스트-list"><i class="fa fa-check"></i><b>3.1.3</b> 매트릭스 (Matrix), 데이터프래임 (data frame), 리스트 (list)</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="r-basics.html"><a href="r-basics.html#데이터-생성-저장"><i class="fa fa-check"></i><b>3.2</b> 데이터 생성 저장</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="r-basics.html"><a href="r-basics.html#built-in-data-sets"><i class="fa fa-check"></i><b>3.2.1</b> built-in data sets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="r-program-basic.html"><a href="r-program-basic.html"><i class="fa fa-check"></i><b>4</b> R program basic</a>
<ul>
<li class="chapter" data-level="4.1" data-path="r-program-basic.html"><a href="r-program-basic.html#기초-연산"><i class="fa fa-check"></i><b>4.1</b> 기초 연산</a></li>
<li class="chapter" data-level="4.2" data-path="r-program-basic.html"><a href="r-program-basic.html#조건부-연산"><i class="fa fa-check"></i><b>4.2</b> 조건부 연산</a></li>
<li class="chapter" data-level="4.3" data-path="r-program-basic.html"><a href="r-program-basic.html#함수-만들기"><i class="fa fa-check"></i><b>4.3</b> 함수 만들기</a></li>
<li class="chapter" data-level="4.4" data-path="r-program-basic.html"><a href="r-program-basic.html#반복문-vectorization-functionals"><i class="fa fa-check"></i><b>4.4</b> 반복문, vectorization, functionals</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="r-program-basic.html"><a href="r-program-basic.html#for-loop"><i class="fa fa-check"></i><b>4.4.1</b> for loop</a></li>
<li class="chapter" data-level="4.4.2" data-path="r-program-basic.html"><a href="r-program-basic.html#vectorization-과-apply-구문"><i class="fa fa-check"></i><b>4.4.2</b> vectorization 과 apply 구문</a></li>
<li class="chapter" data-level="4.4.3" data-path="r-program-basic.html"><a href="r-program-basic.html#home-work-and-summary-function"><i class="fa fa-check"></i><b>4.4.3</b> home work and summary function</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Visualization</b></span></li>
<li class="chapter" data-level="5" data-path="tables-for-public-health.html"><a href="tables-for-public-health.html"><i class="fa fa-check"></i><b>5</b> Tables for public health</a>
<ul>
<li class="chapter" data-level="5.1" data-path="tables-for-public-health.html"><a href="tables-for-public-health.html#데이터표-준비"><i class="fa fa-check"></i><b>5.1</b> 데이터표 준비</a></li>
<li class="chapter" data-level="5.2" data-path="tables-for-public-health.html"><a href="tables-for-public-health.html#central-tendency-mean-median-mode"><i class="fa fa-check"></i><b>5.2</b> Central Tendency (mean, median, mode)</a></li>
</ul></li>
<li class="part"><span><b>II Visualization</b></span></li>
<li class="chapter" data-level="6" data-path="tables-for-public-health-1.html"><a href="tables-for-public-health-1.html"><i class="fa fa-check"></i><b>6</b> Tables for public health</a>
<ul>
<li class="chapter" data-level="6.1" data-path="tables-for-public-health-1.html"><a href="tables-for-public-health-1.html#데이터표-준비-1"><i class="fa fa-check"></i><b>6.1</b> 데이터표 준비</a></li>
<li class="chapter" data-level="6.2" data-path="tables-for-public-health-1.html"><a href="tables-for-public-health-1.html#보건학에서-주로-사용하는-표"><i class="fa fa-check"></i><b>6.2</b> 보건학에서 주로 사용하는 표</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="tables-for-public-health-1.html"><a href="tables-for-public-health-1.html#표1-또는-기초-그래프"><i class="fa fa-check"></i><b>6.2.1</b> 표1, 또는 기초 그래프</a></li>
<li class="chapter" data-level="6.2.2" data-path="tables-for-public-health-1.html"><a href="tables-for-public-health-1.html#종속변수를-중심으로한-표-1-만들기"><i class="fa fa-check"></i><b>6.2.2</b> 종속변수를 중심으로한 표 1 만들기</a></li>
<li class="chapter" data-level="6.2.3" data-path="tables-for-public-health-1.html"><a href="tables-for-public-health-1.html#관심변수를-중심으로-한-표-2-만들기"><i class="fa fa-check"></i><b>6.2.3</b> 관심변수를 중심으로 한 표 2 만들기</a></li>
<li class="chapter" data-level="6.2.4" data-path="tables-for-public-health-1.html"><a href="tables-for-public-health-1.html#상관관계를-위한-표-3-만들기"><i class="fa fa-check"></i><b>6.2.4</b> 상관관계를 위한 표 3 만들기</a></li>
<li class="chapter" data-level="6.2.5" data-path="tables-for-public-health-1.html"><a href="tables-for-public-health-1.html#daniel-lüdeckes-work"><i class="fa fa-check"></i><b>6.2.5</b> Daniel Lüdecke’s work</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="tables-for-public-health-1.html"><a href="tables-for-public-health-1.html#과제"><i class="fa fa-check"></i><b>6.3</b> 과제</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html"><i class="fa fa-check"></i><b>7</b> Basic plot with R</a>
<ul>
<li class="chapter" data-level="7.1" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#ggplot-basic"><i class="fa fa-check"></i><b>7.1</b> ggplot basic</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#그래프-틀"><i class="fa fa-check"></i><b>7.1.1</b> 그래프 틀</a></li>
<li class="chapter" data-level="7.1.2" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#레이어"><i class="fa fa-check"></i><b>7.1.2</b> 레이어</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#visualization-example-with-covid19-data-group_by-and-mutate"><i class="fa fa-check"></i><b>7.2</b> visualization example with COVID19 data (group_by and mutate)</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#create-basic-variables"><i class="fa fa-check"></i><b>7.2.1</b> create basic variables</a></li>
<li class="chapter" data-level="7.2.2" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#bar-and-histograph"><i class="fa fa-check"></i><b>7.2.2</b> bar and histograph</a></li>
<li class="chapter" data-level="7.2.3" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#boxplot"><i class="fa fa-check"></i><b>7.2.3</b> Boxplot</a></li>
<li class="chapter" data-level="7.2.4" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#scatter-plot"><i class="fa fa-check"></i><b>7.2.4</b> scatter plot</a></li>
<li class="chapter" data-level="7.2.5" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#scatter-plot-of-summary-stat"><i class="fa fa-check"></i><b>7.2.5</b> scatter plot of summary stat</a></li>
<li class="chapter" data-level="7.2.6" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#line-chart"><i class="fa fa-check"></i><b>7.2.6</b> line chart</a></li>
<li class="chapter" data-level="7.2.7" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#home-work"><i class="fa fa-check"></i><b>7.2.7</b> home work</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#diagram"><i class="fa fa-check"></i><b>7.3</b> Diagram</a></li>
<li class="chapter" data-level="7.4" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#과제-1"><i class="fa fa-check"></i><b>7.4</b> 과제</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html"><i class="fa fa-check"></i><b>8</b> graphs for public health I</a>
<ul>
<li class="chapter" data-level="8.1" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#데이터-그림-준비"><i class="fa fa-check"></i><b>8.1</b> 데이터 그림 준비</a></li>
<li class="chapter" data-level="8.2" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#실습-자료-시각화"><i class="fa fa-check"></i><b>8.2</b> 실습 자료 시각화</a></li>
<li class="chapter" data-level="8.3" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#시각화-과제-1"><i class="fa fa-check"></i><b>8.3</b> 시각화 과제 1</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#과제-1-그림-완성하기"><i class="fa fa-check"></i><b>8.3.1</b> 과제 1 그림 완성하기</a></li>
<li class="chapter" data-level="8.3.2" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#과제-2-동료의-지지가-미치는-영향을-그리시오"><i class="fa fa-check"></i><b>8.3.2</b> 과제 2 동료의 지지가 미치는 영향을 그리시오</a></li>
<li class="chapter" data-level="8.3.3" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#과제-3-자신의-데이터-실습"><i class="fa fa-check"></i><b>8.3.3</b> 과제 3 자신의 데이터 실습</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#상호-작용-영향-표현"><i class="fa fa-check"></i><b>8.4</b> 상호 작용 영향 표현</a></li>
<li class="chapter" data-level="8.5" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#라벨-자료"><i class="fa fa-check"></i><b>8.5</b> 라벨 자료</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#라벨자료-그래프-실습"><i class="fa fa-check"></i><b>8.5.1</b> 라벨자료 그래프 실습</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#wave-form-data-visualization-example-for-public-health"><i class="fa fa-check"></i><b>8.6</b> wave form data visualization example for public health</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#data-visualization-example-eeg-data"><i class="fa fa-check"></i><b>8.6.1</b> Data Visualization example (EEG data)</a></li>
<li class="chapter" data-level="8.6.2" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#introduction-1"><i class="fa fa-check"></i><b>8.6.2</b> Introduction</a></li>
<li class="chapter" data-level="8.6.3" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#dataset-and-data-step"><i class="fa fa-check"></i><b>8.6.3</b> Dataset and Data step</a></li>
<li class="chapter" data-level="8.6.4" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#data-analysis"><i class="fa fa-check"></i><b>8.6.4</b> Data analysis</a></li>
<li class="chapter" data-level="8.6.5" data-path="graphs-for-public-health-i.html"><a href="graphs-for-public-health-i.html#decision-tree-simple"><i class="fa fa-check"></i><b>8.6.5</b> Decision Tree simple</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Wrangle</b></span></li>
<li class="chapter" data-level="9" data-path="data-transforms.html"><a href="data-transforms.html"><i class="fa fa-check"></i><b>9</b> data transforms</a>
<ul>
<li class="chapter" data-level="9.1" data-path="data-transforms.html"><a href="data-transforms.html#준비-사항"><i class="fa fa-check"></i><b>9.1</b> 준비 사항</a></li>
<li class="chapter" data-level="9.2" data-path="data-transforms.html"><a href="data-transforms.html#필터-filter-and-select"><i class="fa fa-check"></i><b>9.2</b> 필터 (filter and select)</a></li>
<li class="chapter" data-level="9.3" data-path="data-transforms.html"><a href="data-transforms.html#변수-생성-mutate"><i class="fa fa-check"></i><b>9.3</b> 변수 생성 (mutate)</a></li>
<li class="chapter" data-level="9.4" data-path="data-transforms.html"><a href="data-transforms.html#실습-과제"><i class="fa fa-check"></i><b>9.4</b> 실습 과제</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="data-wrangling--reshaping.html"><a href="data-wrangling--reshaping.html"><i class="fa fa-check"></i><b>10</b> Data Wrangling- Reshaping</a>
<ul>
<li class="chapter" data-level="10.1" data-path="data-wrangling--reshaping.html"><a href="data-wrangling--reshaping.html#동영상"><i class="fa fa-check"></i><b>10.1</b> 동영상</a></li>
<li class="chapter" data-level="10.2" data-path="data-wrangling--reshaping.html"><a href="data-wrangling--reshaping.html#문제-제기"><i class="fa fa-check"></i><b>10.2</b> 문제 제기</a></li>
<li class="chapter" data-level="10.3" data-path="data-wrangling--reshaping.html"><a href="data-wrangling--reshaping.html#split"><i class="fa fa-check"></i><b>10.3</b> split</a></li>
<li class="chapter" data-level="10.4" data-path="data-wrangling--reshaping.html"><a href="data-wrangling--reshaping.html#gather-pivot_longer"><i class="fa fa-check"></i><b>10.4</b> gather (pivot_longer)</a></li>
<li class="chapter" data-level="10.5" data-path="data-wrangling--reshaping.html"><a href="data-wrangling--reshaping.html#spread-pivot_wider"><i class="fa fa-check"></i><b>10.5</b> spread (pivot_wider)</a></li>
<li class="chapter" data-level="10.6" data-path="data-wrangling--reshaping.html"><a href="data-wrangling--reshaping.html#stringr"><i class="fa fa-check"></i><b>10.6</b> stringr</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="data-wrangling--reshaping.html"><a href="data-wrangling--reshaping.html#분진-노출자-찾기"><i class="fa fa-check"></i><b>10.6.1</b> 분진 노출자 찾기</a></li>
<li class="chapter" data-level="10.6.2" data-path="data-wrangling--reshaping.html"><a href="data-wrangling--reshaping.html#특정-문자-변환"><i class="fa fa-check"></i><b>10.6.2</b> 특정 문자 변환</a></li>
<li class="chapter" data-level="10.6.3" data-path="data-wrangling--reshaping.html"><a href="data-wrangling--reshaping.html#과제-2"><i class="fa fa-check"></i><b>10.6.3</b> 과제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="web-scraping.html"><a href="web-scraping.html"><i class="fa fa-check"></i><b>11</b> Web Scraping</a>
<ul>
<li class="chapter" data-level="11.1" data-path="web-scraping.html"><a href="web-scraping.html#issue-of-covid19-in-korea"><i class="fa fa-check"></i><b>11.1</b> issue of COVID19 in Korea</a></li>
<li class="chapter" data-level="11.2" data-path="web-scraping.html"><a href="web-scraping.html#homework"><i class="fa fa-check"></i><b>11.2</b> homework</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="web-scraping.html"><a href="web-scraping.html#download-cumulative-covid19-death"><i class="fa fa-check"></i><b>11.2.1</b> download Cumulative covid19 death</a></li>
<li class="chapter" data-level="11.2.2" data-path="web-scraping.html"><a href="web-scraping.html#uk-italy-france-spain-usa-canada"><i class="fa fa-check"></i><b>11.2.2</b> UK, Italy, France, Spain, USA, Canada</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="web-scraping.html"><a href="web-scraping.html#review-of-title-from-google-scholar"><i class="fa fa-check"></i><b>11.3</b> Review of title from google scholar</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="web-scraping.html"><a href="web-scraping.html#googl-scholar"><i class="fa fa-check"></i><b>11.3.1</b> googl scholar</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="web-scraping.html"><a href="web-scraping.html#home-work-2"><i class="fa fa-check"></i><b>11.4</b> home work 2</a></li>
<li class="chapter" data-level="11.5" data-path="web-scraping.html"><a href="web-scraping.html#black-report-2"><i class="fa fa-check"></i><b>11.5</b> Black Report 2</a></li>
<li class="chapter" data-level="11.6" data-path="web-scraping.html"><a href="web-scraping.html#home-work-2-1"><i class="fa fa-check"></i><b>11.6</b> home work 2</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="webscraping-example-3-pubmed-and-r-with-endnote.html"><a href="webscraping-example-3-pubmed-and-r-with-endnote.html"><i class="fa fa-check"></i><b>12</b> WebScraping Example 3: PubMed and R with EndNote</a>
<ul>
<li class="chapter" data-level="12.1" data-path="webscraping-example-3-pubmed-and-r-with-endnote.html"><a href="webscraping-example-3-pubmed-and-r-with-endnote.html#pubmed-검색-방법"><i class="fa fa-check"></i><b>12.1</b> PubMed 검색 방법</a></li>
<li class="chapter" data-level="12.2" data-path="webscraping-example-3-pubmed-and-r-with-endnote.html"><a href="webscraping-example-3-pubmed-and-r-with-endnote.html#r-에서-pubmed-query-사용"><i class="fa fa-check"></i><b>12.2</b> R 에서 PubMed Query 사용</a></li>
<li class="chapter" data-level="12.3" data-path="webscraping-example-3-pubmed-and-r-with-endnote.html"><a href="webscraping-example-3-pubmed-and-r-with-endnote.html#pdf-자동-보고서"><i class="fa fa-check"></i><b>12.3</b> PDF 자동 보고서</a></li>
<li class="chapter" data-level="12.4" data-path="webscraping-example-3-pubmed-and-r-with-endnote.html"><a href="webscraping-example-3-pubmed-and-r-with-endnote.html#원문-pdf-찾기"><i class="fa fa-check"></i><b>12.4</b> 원문 PDF 찾기</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="date-and-time-series.html"><a href="date-and-time-series.html"><i class="fa fa-check"></i><b>13</b> Date and time series</a>
<ul>
<li class="chapter" data-level="13.1" data-path="date-and-time-series.html"><a href="date-and-time-series.html#date-create"><i class="fa fa-check"></i><b>13.1</b> Date create</a></li>
<li class="chapter" data-level="13.2" data-path="date-and-time-series.html"><a href="date-and-time-series.html#tutor-heat-wave-and-death"><i class="fa fa-check"></i><b>13.2</b> Tutor: heat wave and death</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="date-and-time-series.html"><a href="date-and-time-series.html#date-create-1"><i class="fa fa-check"></i><b>13.2.1</b> date create</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="date-and-time-series.html"><a href="date-and-time-series.html#home-work-1"><i class="fa fa-check"></i><b>13.3</b> home work</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="date-and-time-series.html"><a href="date-and-time-series.html#home0"><i class="fa fa-check"></i><b>13.3.1</b> home0</a></li>
<li class="chapter" data-level="13.3.2" data-path="date-and-time-series.html"><a href="date-and-time-series.html#home-work1"><i class="fa fa-check"></i><b>13.3.2</b> home work1</a></li>
<li class="chapter" data-level="13.3.3" data-path="date-and-time-series.html"><a href="date-and-time-series.html#home-work2"><i class="fa fa-check"></i><b>13.3.3</b> home work2</a></li>
<li class="chapter" data-level="13.3.4" data-path="date-and-time-series.html"><a href="date-and-time-series.html#home-work3"><i class="fa fa-check"></i><b>13.3.4</b> home work3</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="date-and-time-series.html"><a href="date-and-time-series.html#time-series-data-analysis"><i class="fa fa-check"></i><b>13.4</b> Time series data analysis</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="date-and-time-series.html"><a href="date-and-time-series.html#outside-사망에-대해서"><i class="fa fa-check"></i><b>13.4.1</b> outside 사망에 대해서</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="date-and-time-series.html"><a href="date-and-time-series.html#time-series-data-analysis-regression"><i class="fa fa-check"></i><b>13.5</b> Time series data analysis, regression</a></li>
<li class="chapter" data-level="13.6" data-path="date-and-time-series.html"><a href="date-and-time-series.html#introduction-2"><i class="fa fa-check"></i><b>13.6</b> introduction</a></li>
<li class="chapter" data-level="13.7" data-path="date-and-time-series.html"><a href="date-and-time-series.html#미세먼지와-심혈관사망"><i class="fa fa-check"></i><b>13.7</b> 미세먼지와 심혈관사망</a></li>
<li class="chapter" data-level="13.8" data-path="date-and-time-series.html"><a href="date-and-time-series.html#방법-tutor"><i class="fa fa-check"></i><b>13.8</b> 방법 tutor</a></li>
</ul></li>
<li class="part"><span><b>IV Repeat and Reproducibility</b></span></li>
<li class="chapter" data-level="14" data-path="repeated-analysis.html"><a href="repeated-analysis.html"><i class="fa fa-check"></i><b>14</b> Repeated analysis</a>
<ul>
<li class="chapter" data-level="14.1" data-path="repeated-analysis.html"><a href="repeated-analysis.html#추출"><i class="fa fa-check"></i><b>14.1</b> 추출</a></li>
<li class="chapter" data-level="14.2" data-path="repeated-analysis.html"><a href="repeated-analysis.html#파일-불러오기"><i class="fa fa-check"></i><b>14.2</b> 파일 불러오기</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="repeated-analysis.html"><a href="repeated-analysis.html#과제-3"><i class="fa fa-check"></i><b>14.2.1</b> 과제</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="repeated-analysis.html"><a href="repeated-analysis.html#분석-반복하기-change-point-찾기"><i class="fa fa-check"></i><b>14.3</b> 분석 반복하기 (change point 찾기)</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="repeated-analysis.html"><a href="repeated-analysis.html#자료-생성"><i class="fa fa-check"></i><b>14.3.1</b> 자료 생성</a></li>
<li class="chapter" data-level="14.3.2" data-path="repeated-analysis.html"><a href="repeated-analysis.html#가상의-threshold-값-수행해보기"><i class="fa fa-check"></i><b>14.3.2</b> 가상의 threshold 값 수행해보기</a></li>
<li class="chapter" data-level="14.3.3" data-path="repeated-analysis.html"><a href="repeated-analysis.html#과제-4"><i class="fa fa-check"></i><b>14.3.3</b> 과제</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="repeated-analysis.html"><a href="repeated-analysis.html#repeated-analysis-big-data"><i class="fa fa-check"></i><b>14.4</b> Repeated analysis (big data)</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="repeated-analysis.html"><a href="repeated-analysis.html#data-profile"><i class="fa fa-check"></i><b>14.4.1</b> Data profile</a></li>
<li class="chapter" data-level="14.4.2" data-path="repeated-analysis.html"><a href="repeated-analysis.html#data-handling-start"><i class="fa fa-check"></i><b>14.4.2</b> data handling start</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V Communication</b></span></li>
<li class="chapter" data-level="15" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>15</b> R markdown</a>
<ul>
<li class="chapter" data-level="15.1" data-path="r-markdown.html"><a href="r-markdown.html#설치"><i class="fa fa-check"></i><b>15.1</b> 설치</a></li>
<li class="chapter" data-level="15.2" data-path="r-markdown.html"><a href="r-markdown.html#components"><i class="fa fa-check"></i><b>15.2</b> 3 components</a></li>
<li class="chapter" data-level="15.3" data-path="r-markdown.html"><a href="r-markdown.html#simple-tutor"><i class="fa fa-check"></i><b>15.3</b> simple tutor</a></li>
<li class="chapter" data-level="15.4" data-path="r-markdown.html"><a href="r-markdown.html#chunck-option"><i class="fa fa-check"></i><b>15.4</b> chunck option</a></li>
<li class="chapter" data-level="15.5" data-path="r-markdown.html"><a href="r-markdown.html#table-만들기"><i class="fa fa-check"></i><b>15.5</b> Table 만들기</a></li>
<li class="chapter" data-level="15.6" data-path="r-markdown.html"><a href="r-markdown.html#필독"><i class="fa fa-check"></i><b>15.6</b> 필독!</a></li>
<li class="chapter" data-level="15.7" data-path="r-markdown.html"><a href="r-markdown.html#동영상-1"><i class="fa fa-check"></i><b>15.7</b> 동영상</a></li>
<li class="chapter" data-level="15.8" data-path="r-markdown.html"><a href="r-markdown.html#과제-5"><i class="fa fa-check"></i><b>15.8</b> 과제</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="rmarkdown-and-reporting.html"><a href="rmarkdown-and-reporting.html"><i class="fa fa-check"></i><b>16</b> Rmarkdown and reporting</a>
<ul>
<li class="chapter" data-level="16.1" data-path="rmarkdown-and-reporting.html"><a href="rmarkdown-and-reporting.html#rmarkdown-and-word-office-down"><i class="fa fa-check"></i><b>16.1</b> Rmarkdown and Word (office down)</a></li>
<li class="chapter" data-level="16.2" data-path="rmarkdown-and-reporting.html"><a href="rmarkdown-and-reporting.html#rmarkdown-and-pdf"><i class="fa fa-check"></i><b>16.2</b> Rmarkdown and PDF</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="google-maps-platform.html"><a href="google-maps-platform.html"><i class="fa fa-check"></i><b>17</b> Google Maps Platform</a>
<ul>
<li class="chapter" data-level="17.1" data-path="google-maps-platform.html"><a href="google-maps-platform.html#google-tackeout"><i class="fa fa-check"></i><b>17.1</b> Google Tackeout</a></li>
<li class="chapter" data-level="17.2" data-path="google-maps-platform.html"><a href="google-maps-platform.html#data-visualization"><i class="fa fa-check"></i><b>17.2</b> Data visualization</a></li>
<li class="chapter" data-level="17.3" data-path="google-maps-platform.html"><a href="google-maps-platform.html#google-api"><i class="fa fa-check"></i><b>17.3</b> google API</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="leaflet.html"><a href="leaflet.html"><i class="fa fa-check"></i><b>18</b> Map using leaflet</a>
<ul>
<li class="chapter" data-level="18.1" data-path="leaflet.html"><a href="leaflet.html#leaflet-1"><i class="fa fa-check"></i><b>18.1</b> leaflet</a></li>
<li class="chapter" data-level="18.2" data-path="leaflet.html"><a href="leaflet.html#위치와-시간표시"><i class="fa fa-check"></i><b>18.2</b> 위치와 시간표시</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="shinyapps.html"><a href="shinyapps.html"><i class="fa fa-check"></i><b>19</b> shinyapps</a>
<ul>
<li class="chapter" data-level="19.1" data-path="shinyapps.html"><a href="shinyapps.html#설치-1"><i class="fa fa-check"></i><b>19.1</b> 설치</a></li>
<li class="chapter" data-level="19.2" data-path="shinyapps.html"><a href="shinyapps.html#예제"><i class="fa fa-check"></i><b>19.2</b> 예제</a></li>
<li class="chapter" data-level="19.3" data-path="shinyapps.html"><a href="shinyapps.html#예제-1-만들기"><i class="fa fa-check"></i><b>19.3</b> 예제 1 만들기</a>
<ul>
<li class="chapter" data-level="19.3.1" data-path="shinyapps.html"><a href="shinyapps.html#구조"><i class="fa fa-check"></i><b>19.3.1</b> 구조</a></li>
<li class="chapter" data-level="19.3.2" data-path="shinyapps.html"><a href="shinyapps.html#input-output"><i class="fa fa-check"></i><b>19.3.2</b> input, output</a></li>
<li class="chapter" data-level="19.3.3" data-path="shinyapps.html"><a href="shinyapps.html#과제-6"><i class="fa fa-check"></i><b>19.3.3</b> 과제</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="shinyapps.html"><a href="shinyapps.html#deploy-shiny-app-local-server"><i class="fa fa-check"></i><b>19.4</b> deploy shiny app (local server)</a>
<ul>
<li class="chapter" data-level="19.4.1" data-path="shinyapps.html"><a href="shinyapps.html#과제-7"><i class="fa fa-check"></i><b>19.4.1</b> 과제</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">DsPubs with R tutor book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tables-for-public-health" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Chapter 5</span> Tables for public health<a href="tables-for-public-health.html#tables-for-public-health" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="데이터표-준비" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> 데이터표 준비<a href="tables-for-public-health.html#데이터표-준비" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>데이터 표를 만드는 실습은 6차 근로환경조사 자료를 통해 실습할 것입니다.. 자료는 안전보건공단, 근로환경조사 원시자료 사이트 (<a href="http://kosha.or.kr/kosha/data/primitiveData.do" class="uri">http://kosha.or.kr/kosha/data/primitiveData.do</a>) 에서 신청할 수 있습니다..
시각화는 표와 그래프 둘을 다룰 것이고, 표는 보건학에서 주로 사용하는 표1,2,3과 그래프는 막대 그래프부터 시계열 자료까지 나타내도록 하겠습니다.
실습에 필요한 라이브러리를 불러오겠습니다.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="tables-for-public-health.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(<span class="st">&quot;tidyverse&quot;</span>)) <span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</span>
<span id="cb1-2"><a href="tables-for-public-health.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(<span class="st">&quot;htmlTable&quot;</span>)) <span class="fu">install.packages</span>(<span class="st">&quot;htmlTable&quot;</span>)</span>
<span id="cb1-3"><a href="tables-for-public-health.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(<span class="st">&quot;haven&quot;</span>)) <span class="fu">install.packages</span>(<span class="st">&quot;haven&quot;</span>)</span></code></pre></div>
<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('right', 'top', 'auto', '1', 'Click to copy', 'Done');
</script>
<p>데이터를 불러오겠습니다. 안전보건공단 홈페이에서 자료를 다운 받는게 원칙입니다. 다만 실습을 빠르게 진행하기 위해서, dspubs.org 페이지에 있는 파일을 이용하겠습니다. <br>
<a href="https://dspubs.org/webapps/forum/open_data/"> dspubs.org open_data </a>
<br></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="tables-for-public-health.html#cb2-1" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://dspubs.org/webapps/forum/open_data/kwcs6th.sav&quot;</span></span>
<span id="cb2-2"><a href="tables-for-public-health.html#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(url, <span class="st">&quot;data/kwcs6th.sav&quot;</span>)</span>
<span id="cb2-3"><a href="tables-for-public-health.html#cb2-3" aria-hidden="true" tabindex="-1"></a>kwcs <span class="ot">&lt;-</span> <span class="fu">read_sav</span>(<span class="st">&quot;data/kwcs6th.sav&quot;</span>)</span></code></pre></div>
<blockquote>
<p>unicode chart</p>
</blockquote>
<p>표를 만들다 보면 크다, 작다, 같다 등은 표시가 쉬운 반면, 크거나 같다, 작거나 같다 등은 표시가 어렵습니다. 이 때 사용해야할 것이 <strong>unicode</strong> 입니다. 보건학에서 필요한 대표적 유니코드는 사실 2개입니다. 크거나 같다, 작거나 같다. 나머지는 키보드에 이미 있으니 이것을 사용하면 됩니다. 추가적인 unicode는 아래의 항목을 통해 살펴 볼수 있습니다. <br>
<a href="https://unicode.org/charts/PDF/U2200.pdf"> Unicode Chart </a></p>
<table style="width:100%">
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="tables-for-public-health.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb3-2"><a href="tables-for-public-health.html#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;symbole    &quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;\u2264&quot;</span>, <span class="st">&quot;\u2265&quot;</span>, <span class="st">&quot;\u00b1&quot;</span>), </span>
<span id="cb3-3"><a href="tables-for-public-health.html#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;unicode    &quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;u2264&quot;</span>, <span class="st">&quot;u2265&quot;</span>, <span class="st">&quot;u00b1&quot;</span>)</span>
<span id="cb3-4"><a href="tables-for-public-health.html#cb3-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb3-5"><a href="tables-for-public-health.html#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addHtmlTableStyle</span>(<span class="at">css.cell =</span> <span class="fu">c</span>(<span class="st">&quot;width: 100;&quot;</span>,<span class="st">&quot;width: 100;&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-6"><a href="tables-for-public-health.html#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">htmlTable</span>(<span class="at">caption =</span><span class="st">&quot;Simple unicode and symbols&quot;</span>)</span></code></pre></div>
<table class="gmisc_table" style="border-collapse: collapse; margin-top: 1em; margin-bottom: 1em;">
<thead>
<tr>
<td colspan="3" style="text-align: left;">
Simple unicode and symbols
</td>
</tr>
<tr>
<th style="border-bottom: 1px solid grey; border-top: 2px solid grey;">
</th>
<th style="font-weight: 900; border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
symbole
</th>
<th style="font-weight: 900; border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
unicode
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">
1
</td>
<td style="width: 100; text-align: center;">
≤
</td>
<td style="width: 100; text-align: center;">
u2264
</td>
</tr>
<tr>
<td style="text-align: left;">
2
</td>
<td style="width: 100; text-align: center;">
≥
</td>
<td style="width: 100; text-align: center;">
u2265
</td>
</tr>
<tr>
<td style="border-bottom: 2px solid grey; text-align: left;">
3
</td>
<td style="width: 100; border-bottom: 2px solid grey; text-align: center;">
±
</td>
<td style="width: 100; border-bottom: 2px solid grey; text-align: center;">
u00b1
</td>
</tr>
</tbody>
</table>
<p>다음과 같이 사용할 수 있습니다. 여기사 <code>\</code>는 “escape character”로 뒤에 오는 것이 문자가 아니라 약솓된 결과를 나타내 달라는 뜻입니다.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="tables-for-public-health.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;x \u2264 10&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;x ≤ 10&quot;</code></pre>
<p>그럼 어떻게 문자를 사용할까요? print 명령을 위와 같이 사용하는 것도 좋지만, 변수를 생성하기에는 좋은 방법이 따로 있습니다. 좋은 방법이란 처음에는 어렵지만, 알고나면 엄청난 것들을 말합니다. paste와 sprintf 입니다. 어떤 것이 좋은가요?. 우리의 목표가 데이터 표현을 자동화 하는 것인데, 자동화를 위해서는 구조를 만들고 거기에 값을 대입 시키는 것이 기본입니다. 그러니, sprintf 를 더 자주 사용하게 됩니다. paste는 모두 붙여 주는 것이니, 쉽게 이해될 것이고, sprintf는 <code>%s</code> 마다 무언가를 넣어 붙여 주는 방식입니다. paste와 sprintf는 정말 자주 사용되는 함수이니 꼭 익숙해 지시기 바랍니다.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="tables-for-public-health.html#cb6-1" aria-hidden="true" tabindex="-1"></a>xp1 <span class="ot">=</span> <span class="fu">paste</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;\u2264&quot;</span>, <span class="st">&quot;10&quot;</span>)</span>
<span id="cb6-2"><a href="tables-for-public-health.html#cb6-2" aria-hidden="true" tabindex="-1"></a>xp2 <span class="ot">=</span> <span class="fu">sprintf</span>(<span class="st">&quot;x %s 10&quot;</span>, <span class="st">&quot;\u2264&quot;</span>)</span>
<span id="cb6-3"><a href="tables-for-public-health.html#cb6-3" aria-hidden="true" tabindex="-1"></a>xp1</span></code></pre></div>
<pre><code>## [1] &quot;x ≤ 10&quot;</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="tables-for-public-health.html#cb8-1" aria-hidden="true" tabindex="-1"></a>xp2</span></code></pre></div>
<pre><code>## [1] &quot;x ≤ 10&quot;</code></pre>
<blockquote>
<p>데이터 확인</p>
</blockquote>
<p>데이터의 변수를 확인하는 방법은 <code>colnames()</code> , <code>names()</code> 또는 <code>head()</code>를 하용하는 것입니다. 약 400개의 변수가 있으므로, 처음부터 10번째까지 <code>[1:10]</code> 변수를 찾아 보겠습니다.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="tables-for-public-health.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(kwcs)[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>##  [1] &quot;id&quot;           &quot;wt&quot;           &quot;area&quot;         &quot;hh_num&quot;       &quot;hm_01_gender&quot;
##  [6] &quot;hm_01_year&quot;   &quot;hm_01_estat&quot;  &quot;hm_01_rel_t&quot;  &quot;hm_02_gender&quot; &quot;hm_02_year&quot;</code></pre>
<p>그럼 45번째 변수 부터 50번째 변수까지 찾아 보겠습니다. <code>[]</code>안을 채워보세요.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="tables-for-public-health.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(kwcs)[     ]</span></code></pre></div>
<pre><code>## [1] &quot;target&quot;      &quot;YEAR&quot;        &quot;ESTAT&quot;       &quot;AGE&quot;         &quot;country&quot;    
## [6] &quot;country_etc&quot;</code></pre>
<p>연령인 <code>AGE</code>가 있네요, 성별에 대한 <code>AGE</code>도 있습니다. 그럼 이것을 이용해서 실습을 해보겠습니다.
변수를 하나 선택하는 것은 데이터에 $ 표시를 하고 이후에 변수를 넣는 방식입니다. “데이터<span class="math inline">\(변수&quot; 입니다. 10개만 보겠습니다. 숫자 처럼 보이네요, 확인하겠습니다. `class(kwcs\)</span>AGE)`를 이용해봅니다. numberic 으로 숫자입니다. 숫자여야 평균 표준편차 등의 계산이 가능합니다.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="tables-for-public-health.html#cb14-1" aria-hidden="true" tabindex="-1"></a>kwcs<span class="sc">$</span>AGE[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>##  [1] 74 54 64 78 78 65 61 57 38 47</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="tables-for-public-health.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(kwcs<span class="sc">$</span>AGE)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p>이번에는 <code>SEX</code> 변수(variable)의 변수값(value)를 살펴 보겠습니다. class 가 무엇일까요? double 또는 interger 라고 나올 텐데요, R에서는 numberic 값에 interger와 double 속성을 사용한다고 생각하시면 됩니다. 다만 label을 붙여 놓아서 알기 쉽게 되어 있네요.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="tables-for-public-health.html#cb18-1" aria-hidden="true" tabindex="-1"></a>kwcs<span class="sc">$</span>TSEX[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>## &lt;labelled&lt;double&gt;[10]&gt;: ▣ 분석 데모변수 : 응답자 성별
##  [1] 2 2 2 1 1 2 1 2 1 2
## 
## Labels:
##  value label
##      1  남성
##      2  여성</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="tables-for-public-health.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(kwcs<span class="sc">$</span>TSEX)</span></code></pre></div>
<pre><code>## [1] &quot;haven_labelled&quot; &quot;vctrs_vctr&quot;     &quot;double&quot;</code></pre>
<p>국적에 대해서도 알아보겠습니다. character 이네요. 한국에서 시행한 조사라, 한국 국적은 빈칸으로, 이외에는 국적을 적었습니다. <code>kwcs$country_etc</code>를 해보면, 대부분 빈칸입니다. 빈칸인 경 <code>==""</code>, 빈칸이 아닌 경우 <code>!=""</code>을 이용해서 어떤 국적이 있는지 살펴 보겠습니다.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="tables-for-public-health.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(kwcs<span class="sc">$</span>country_etc)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="tables-for-public-health.html#cb24-1" aria-hidden="true" tabindex="-1"></a>kwcs<span class="sc">$</span>country_etc[kwcs<span class="sc">$</span>country_etc <span class="sc">!=</span> <span class="st">&quot;&quot;</span>][<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>##  [1] &quot;베트남&quot;   &quot;중국&quot;     &quot;캐나다&quot;   &quot;중국&quot;     &quot;중국&quot;     &quot;중국&quot;    
##  [7] &quot;중국&quot;     &quot;중국&quot;     &quot;파키스탄&quot; &quot;중국&quot;</code></pre>
<p>근로자의 지위를 알아 보겠습니다. 근로자 지위는 emp_stat 입니다. 1은 상용근로자, 2는 임시근로자, 3은 일용근로자 입니다.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="tables-for-public-health.html#cb26-1" aria-hidden="true" tabindex="-1"></a>kwcs<span class="sc">$</span>emp_stat </span></code></pre></div>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="tables-for-public-health.html#cb27-1" aria-hidden="true" tabindex="-1"></a>kwcs<span class="sc">$</span>emp_stat <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## &lt;labelled&lt;double&gt;[6]&gt;: Q6.임금근로자_고용형태
## [1] NA  1  3 NA NA  1
## 
## Labels:
##  value      label
##      1 상용근로자
##      2 임시근로자
##      3 일용근로자</code></pre>
<p>매우 중요한 개념이 나옵니다. 빈칸과 NA 입니다. 모두 값에 대한 정보가 없다는 것입니다. 값에 대한 정보가 없으면 어떻게 해야 할지는 매우 중요한 개념입니다. 우선 여기서는 값에 대한 정보가 없는 것을 제외하고 분석해 보겠습니다.
값에 대한 정보가 없는 데이터는 제거하여, 새로운 데이터를 만들겠습니다. 이때 filter 라는 것을 이용합니다. is.na라는 것은 <code>NA</code>라는 것을 의미하고, 앞에 <code>!</code>는 그 반대를 말합니다.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="tables-for-public-health.html#cb29-1" aria-hidden="true" tabindex="-1"></a>kwcs <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="tables-for-public-health.html#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(emp_stat))</span></code></pre></div>
<pre><code>## # A tibble: 33,063 × 438
##       id    wt      area hh_num hm_01_gender hm_01_year  hm_01_estat hm_01_rel_t
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl+lbl&gt;  &lt;dbl&gt;    &lt;dbl+lbl&gt;      &lt;dbl&gt;    &lt;dbl+lbl&gt;   &lt;dbl+lbl&gt;
##  1     2 0.137  3 [대구]      1     2 [여성]       1966 1 [임금 근… 0 [응답자 …
##  2     3 0.350  3 [대구]      1     2 [여성]       1956 1 [임금 근… 0 [응답자 …
##  3     6 0.156  7 [울산]      1     2 [여성]       1955 2 [일이 있… 0 [응답자 …
##  4     7 0.344  7 [울산]      1     1 [남성]       1959 1 [임금 근… 0 [응답자 …
##  5     9 0.168  7 [울산]      1     1 [남성]       1982 1 [임금 근… 0 [응답자 …
##  6    10 0.675  6 [대전]      4     2 [여성]       1973 1 [임금 근… 0 [응답자 …
##  7    18 2.71   6 [대전]      4     1 [남성]       1972 1 [임금 근… 0 [응답자 …
##  8    19 3.83   3 [대구]      5     1 [남성]       1969 1 [임금 근… 3 [부모]  …
##  9    20 2.90   3 [대구]      4     1 [남성]       1960 1 [임금 근… 3 [부모]  …
## 10    21 2.09   3 [대구]      3     2 [여성]       1940 1 [임금 근… 0 [응답자 …
## # … with 33,053 more rows, and 430 more variables: hm_02_gender &lt;dbl+lbl&gt;,
## #   hm_02_year &lt;dbl&gt;, hm_02_estat &lt;dbl+lbl&gt;, hm_02_rel_t &lt;dbl+lbl&gt;,
## #   hm_03_gender &lt;dbl+lbl&gt;, hm_03_year &lt;dbl&gt;, hm_03_estat &lt;dbl+lbl&gt;,
## #   hm_03_rel_t &lt;dbl+lbl&gt;, hm_04_gender &lt;dbl+lbl&gt;, hm_04_year &lt;dbl&gt;,
## #   hm_04_estat &lt;dbl+lbl&gt;, hm_04_rel_t &lt;dbl+lbl&gt;, hm_05_gender &lt;dbl+lbl&gt;,
## #   hm_05_year &lt;dbl&gt;, hm_05_estat &lt;dbl+lbl&gt;, hm_05_rel_t &lt;dbl+lbl&gt;,
## #   hm_06_gender &lt;dbl+lbl&gt;, hm_06_year &lt;dbl&gt;, hm_06_estat &lt;dbl+lbl&gt;, …</code></pre>
<p>요통에 대한 변수는 heal_prob1 입니다. 이 변수를 확인해 보겠습니다. 1번은 있다, 2번은 업다, 8번은 무응답, 9번은 거절입니다. 이제 빈칸과 NA가 아니더라도 필요없는 정보가 있습니다. 모르거나/무응답했거나, 거절한 사람입니다. 이를 제거해 보겠습니다.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="tables-for-public-health.html#cb31-1" aria-hidden="true" tabindex="-1"></a>kwcs <span class="sc">%&gt;%</span> </span>
<span id="cb31-2"><a href="tables-for-public-health.html#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(emp_stat)) <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="tables-for-public-health.html#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(heal_prob1)) <span class="sc">%&gt;%</span></span>
<span id="cb31-4"><a href="tables-for-public-health.html#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(heal_prob1 <span class="sc">!=</span><span class="dv">8</span>) <span class="sc">%&gt;%</span></span>
<span id="cb31-5"><a href="tables-for-public-health.html#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(heal_prob1 <span class="sc">!=</span><span class="dv">9</span>)</span></code></pre></div>
<p>이번에는 heal_prob1 에 1, 2 인 사람만 포함시켜 보겠습니다. 어떤 것이 더 편한가요?</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="tables-for-public-health.html#cb32-1" aria-hidden="true" tabindex="-1"></a>kwcs <span class="sc">%&gt;%</span> </span>
<span id="cb32-2"><a href="tables-for-public-health.html#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(emp_stat)) <span class="sc">%&gt;%</span></span>
<span id="cb32-3"><a href="tables-for-public-health.html#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(heal_prob1)) <span class="sc">%&gt;%</span></span>
<span id="cb32-4"><a href="tables-for-public-health.html#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(heal_prob1 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span></code></pre></div>
<p>이번에는 sleep1이라는 변수를 살펴 보겠습니다. sleep1이라는 변수는 잠들기 어려운 것이 매일(1), 한주에 여러번 (2), 한달에 여러번(3), 드물게(5), 전혀 없음(5) 의 5점 척도 입니다. 이데 모름과 거절, 그리고 NA 값을 제거해 보겠습니다.</p>
<p>그리고 dat라는 새로운 data를 만들고 kwcs를 제거 하겠습니다.
dat를 이용해서 분석을 해보겠습니다. 지금까지 사용했던, TSEX, AGE, emp_stat, heal_prob1, sleep1 의 변수를 사용하겠습니다.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="tables-for-public-health.html#cb33-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> kwcs <span class="sc">%&gt;%</span> </span>
<span id="cb33-2"><a href="tables-for-public-health.html#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(emp_stat)) <span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="tables-for-public-health.html#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(heal_prob1)) <span class="sc">%&gt;%</span></span>
<span id="cb33-4"><a href="tables-for-public-health.html#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(heal_prob1 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb33-5"><a href="tables-for-public-health.html#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sleep1 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb33-6"><a href="tables-for-public-health.html#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(TSEX, AGE, emp_stat, heal_prob1, sleep1, sleep2, sleep3)</span></code></pre></div>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="tables-for-public-health.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(kwcs)</span></code></pre></div>
<p>dat를 살펴보겠습니다.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="tables-for-public-health.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dat)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 7
##        TSEX   AGE       emp_stat heal_prob1              sleep1   sleep2  sleep3
##   &lt;dbl+lbl&gt; &lt;dbl&gt;      &lt;dbl+lbl&gt;  &lt;dbl+lbl&gt;           &lt;dbl+lbl&gt; &lt;dbl+lb&gt; &lt;dbl+l&gt;
## 1  2 [여성]    54 1 [상용근로자]   2 [없다] 5 [전혀없음]        5 [전혀… 5 [전…
## 2  2 [여성]    64 3 [일용근로자]   2 [없다] 2 [한 주에 여러 번] 2 [한 … 2 [한 …
## 3  2 [여성]    65 1 [상용근로자]   2 [없다] 5 [전혀없음]        5 [전혀… 5 [전…
## 4  1 [남성]    61 3 [일용근로자]   1 [있다] 4 [드물게]          4 [드물… 4 [드…
## 5  1 [남성]    38 1 [상용근로자]   2 [없다] 5 [전혀없음]        5 [전혀… 5 [전…
## 6  2 [여성]    47 1 [상용근로자]   2 [없다] 5 [전혀없음]        4 [드물… 5 [전…</code></pre>
</div>
<div id="central-tendency-mean-median-mode" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Central Tendency (mean, median, mode)<a href="tables-for-public-health.html#central-tendency-mean-median-mode" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>대표값중 가장 많이 사용하는 것은 mean 과 median 입니다. 이것을 나타내는 표를 만들어 봅시다.
이것의 평균과 표준 편차를 을 구해 보겠습니다.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="tables-for-public-health.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(dat<span class="sc">$</span>AGE)</span></code></pre></div>
<pre><code>## [1] 46.564</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="tables-for-public-health.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(dat<span class="sc">$</span>AGE)</span></code></pre></div>
<pre><code>## [1] 14.45298</code></pre>
<p>이번에는 “tidyverse”를 통해 pipe 코드를 짜 보겠습니다. 데이터를 변형하는 것은 다른 시간에 수행하겠지만, 여기서는 select와 filter, mutate, group_by를 사용하겠습니다. kwcs$TSEX 는 kwcs에서 TSEX를 select하라는 것으로 다름과 같이 사용할 수 있습니다.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="tables-for-public-health.html#cb41-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span> <span class="fu">select</span>(AGE) </span></code></pre></div>
<pre><code>## # A tibble: 33,007 × 1
##      AGE
##    &lt;dbl&gt;
##  1    54
##  2    64
##  3    65
##  4    61
##  5    38
##  6    47
##  7    48
##  8    23
##  9    28
## 10    80
## # … with 32,997 more rows</code></pre>
<p>이후 이것을 가지고 나와서 (pull), 이어 받고 (.) 평균을 구해보겠습니다. 이후 이것을 mean 과 sd 라는 변수에 assign 하겠습니다.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="tables-for-public-health.html#cb43-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span> <span class="fu">select</span>(AGE) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(.) <span class="sc">%&gt;%</span> <span class="fu">mean</span>(.)</span></code></pre></div>
<pre><code>## [1] 46.564</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="tables-for-public-health.html#cb45-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span> <span class="fu">select</span>(AGE) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(.) <span class="sc">%&gt;%</span> <span class="fu">sd</span>(.)</span></code></pre></div>
<pre><code>## [1] 14.45298</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="tables-for-public-health.html#cb47-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span> <span class="fu">select</span>(AGE) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(.) <span class="sc">%&gt;%</span> <span class="fu">mean</span>(.) <span class="ot">-&gt;</span> mean</span>
<span id="cb47-2"><a href="tables-for-public-health.html#cb47-2" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span> <span class="fu">select</span>(AGE) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(.) <span class="sc">%&gt;%</span> <span class="fu">sd</span>(.)   <span class="ot">-&gt;</span> sd</span></code></pre></div>
<p>그럼 표현해 볼까요?</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="tables-for-public-health.html#cb48-1" aria-hidden="true" tabindex="-1"></a>mean</span></code></pre></div>
<pre><code>## [1] 46.564</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="tables-for-public-health.html#cb50-1" aria-hidden="true" tabindex="-1"></a>sd</span></code></pre></div>
<pre><code>## [1] 14.45298</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="tables-for-public-health.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">&quot;평균은 &quot;</span>, mean, <span class="st">&quot;표준편차는 &quot;</span>, sd)</span></code></pre></div>
<pre><code>## [1] &quot;평균은  46.5640015754234 표준편차는  14.4529846074525&quot;</code></pre>
<p>보기 불편하네요, 소숫점 2째 자리까지 표현하겠습니다. round를 이용합니다. 더 자세한것은 구글에게 물어 보세요.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="tables-for-public-health.html#cb54-1" aria-hidden="true" tabindex="-1"></a>mean <span class="ot">&lt;-</span> dat <span class="sc">%&gt;%</span> <span class="fu">select</span>(AGE) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(.) <span class="sc">%&gt;%</span> <span class="fu">mean</span>(.) <span class="sc">%&gt;%</span> <span class="fu">round</span>(., <span class="dv">2</span>) </span>
<span id="cb54-2"><a href="tables-for-public-health.html#cb54-2" aria-hidden="true" tabindex="-1"></a>sd   <span class="ot">&lt;-</span> dat <span class="sc">%&gt;%</span> <span class="fu">select</span>(AGE) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(.) <span class="sc">%&gt;%</span> <span class="fu">sd</span>(.)   <span class="sc">%&gt;%</span> <span class="fu">round</span>(., <span class="dv">2</span>)</span>
<span id="cb54-3"><a href="tables-for-public-health.html#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">&quot;평균은&quot;</span>, mean, <span class="st">&quot;, 표준편차는&quot;</span>, sd)</span></code></pre></div>
<pre><code>## [1] &quot;평균은 46.56 , 표준편차는 14.45&quot;</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="tables-for-public-health.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">&quot;평균은 %s, 표준편차는 %s&quot;</span>, mean, sd)</span></code></pre></div>
<pre><code>## [1] &quot;평균은 46.56, 표준편차는 14.45&quot;</code></pre>
<p>unicode를 이용해서 약속된 표현을 사용해 보겠습니다.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="tables-for-public-health.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(mean, <span class="st">&quot;\u00b1&quot;</span>, sd)</span></code></pre></div>
<pre><code>## [1] &quot;46.56 ± 14.45&quot;</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="tables-for-public-health.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">&quot;%s \u00b1 %s&quot;</span>, mean, sd)</span></code></pre></div>
<pre><code>## [1] &quot;46.56 ± 14.45&quot;</code></pre>
<p>sprintf 에서 %s 대신에 %.2f 를 사용할 텐데요, 어떤지 살펴 봅시다. 네 %2.f 라는 것은 소수 2째 자리까지 살려서 표현하는 방식입니다. %.2f 는 어떨까요? 공부하는 방법입니다. 무언가를 더 해보는 것!</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="tables-for-public-health.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">&quot;%.2f \u00b1 %.2f&quot;</span>, mean, sd)</span></code></pre></div>
<pre><code>## [1] &quot;46.56 ± 14.45&quot;</code></pre>
<p>그럼 median 을 구해볼까요? 해보세요. 무언가를 해보는 것!</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="tables-for-public-health.html#cb64-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span> <span class="fu">pull</span>(AGE) <span class="sc">%&gt;%</span> <span class="fu">median</span>(.)</span></code></pre></div>
<pre><code>## [1] 46</code></pre>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="tables-for-public-health.html#cb66-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span> <span class="fu">pull</span>(AGE) <span class="sc">%&gt;%</span> <span class="fu">quantile</span>(., <span class="fu">c</span>(<span class="fl">0.5</span>))</span></code></pre></div>
<pre><code>## 50% 
##  46</code></pre>
<p>그럼 quantile을 구해볼까요?</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="tables-for-public-health.html#cb68-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span> <span class="fu">pull</span>(AGE) <span class="sc">%&gt;%</span> <span class="fu">quantile</span>(., <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>)) </span></code></pre></div>
<pre><code>## 25% 50% 75% 
##  35  46  57</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="tables-for-public-health.html#cb70-1" aria-hidden="true" tabindex="-1"></a>p50 <span class="ot">=</span> dat <span class="sc">%&gt;%</span> <span class="fu">pull</span>(AGE) <span class="sc">%&gt;%</span> <span class="fu">quantile</span>(., <span class="fu">c</span>(<span class="fl">0.50</span>))</span>
<span id="cb70-2"><a href="tables-for-public-health.html#cb70-2" aria-hidden="true" tabindex="-1"></a>p25 <span class="ot">=</span> dat <span class="sc">%&gt;%</span> <span class="fu">pull</span>(AGE) <span class="sc">%&gt;%</span> <span class="fu">quantile</span>(., <span class="fu">c</span>(<span class="fl">0.25</span>)) </span>
<span id="cb70-3"><a href="tables-for-public-health.html#cb70-3" aria-hidden="true" tabindex="-1"></a>p75 <span class="ot">=</span> dat <span class="sc">%&gt;%</span> <span class="fu">pull</span>(AGE) <span class="sc">%&gt;%</span> <span class="fu">quantile</span>(., <span class="fu">c</span>(<span class="fl">0.75</span>)) </span>
<span id="cb70-4"><a href="tables-for-public-health.html#cb70-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">&quot;%.0f (%.0f-%.0f)&quot;</span>, p50, p25, p75)</span></code></pre></div>
<pre><code>## [1] &quot;46 (35-57)&quot;</code></pre>
<p>이것을 남녀를 나누어서 해보겠습니다. filter 명령문을 써보겠습니다. <code>filter(TSEX==1)</code>이라는 것은 TSEX==1 인 남자만을 고르라는 것입니다. 평균은 아래와 같이 구합니다. sd도 구해봅시다.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="tables-for-public-health.html#cb72-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span> <span class="fu">filter</span>(TSEX<span class="sc">==</span><span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(AGE) <span class="sc">%&gt;%</span> <span class="fu">mean</span>(.)</span></code></pre></div>
<pre><code>## [1] 45.30149</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="tables-for-public-health.html#cb74-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span> <span class="fu">filter</span>(TSEX<span class="sc">==</span><span class="dv">2</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(AGE) <span class="sc">%&gt;%</span> <span class="fu">mean</span>(.)</span></code></pre></div>
<pre><code>## [1] 47.67811</code></pre>
<blockquote>
<p>Group_by</p>
</blockquote>
<p>남녀를 나누어서 평균을 구하는 다른 방법을 사용해 봅니다.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="tables-for-public-health.html#cb76-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span></span>
<span id="cb76-2"><a href="tables-for-public-health.html#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(TSEX) <span class="sc">%&gt;%</span></span>
<span id="cb76-3"><a href="tables-for-public-health.html#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">avg =</span> <span class="fu">mean</span>(AGE), </span>
<span id="cb76-4"><a href="tables-for-public-health.html#cb76-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">std =</span> <span class="fu">sd</span>(AGE))</span></code></pre></div>
<pre><code>## # A tibble: 2 × 3
##        TSEX   avg   std
##   &lt;dbl+lbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  1 [남성]  45.3  13.9
## 2  2 [여성]  47.7  14.8</code></pre>
<p>동일한 결과가 나오나요. 네 굉장합니다. 남녀를 나누어서 계산했네요. 지금은 2개의 집단을 나누지만, 만약 100개의 집단이라면 filter를 반복하면 어떻게 해야하나요ㅠㅠ. group_by 는 정말 대단한 명령어 입니다. group_by로 코드 파이프 안에서 다음과 같은 결과를 얻었습니다.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="tables-for-public-health.html#cb78-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span></span>
<span id="cb78-2"><a href="tables-for-public-health.html#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(TSEX) <span class="sc">%&gt;%</span></span>
<span id="cb78-3"><a href="tables-for-public-health.html#cb78-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">avg =</span> <span class="fu">mean</span>(AGE), </span>
<span id="cb78-4"><a href="tables-for-public-health.html#cb78-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">std =</span> <span class="fu">sd</span>(AGE)) <span class="sc">%&gt;%</span></span>
<span id="cb78-5"><a href="tables-for-public-health.html#cb78-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">smry =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%.2f \u00b1 %.2f&quot;</span>, avg, std))</span></code></pre></div>
<pre><code>## # A tibble: 2 × 4
##        TSEX   avg   std smry         
##   &lt;dbl+lbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;        
## 1  1 [남성]  45.3  13.9 45.30 ± 13.94
## 2  2 [여성]  47.7  14.8 47.68 ± 14.80</code></pre>
<p>그럼 중간값과 p25-p75를 표현해 봅시다.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="tables-for-public-health.html#cb80-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span></span>
<span id="cb80-2"><a href="tables-for-public-health.html#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(TSEX) <span class="sc">%&gt;%</span></span>
<span id="cb80-3"><a href="tables-for-public-health.html#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">avg =</span> <span class="fu">mean</span>(AGE), </span>
<span id="cb80-4"><a href="tables-for-public-health.html#cb80-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">std =</span> <span class="fu">sd</span>(AGE), </span>
<span id="cb80-5"><a href="tables-for-public-health.html#cb80-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">p25 =</span> <span class="fu">quantile</span>(AGE, <span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.25</span>)), </span>
<span id="cb80-6"><a href="tables-for-public-health.html#cb80-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">p50 =</span> <span class="fu">quantile</span>(AGE, <span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.50</span>)), </span>
<span id="cb80-7"><a href="tables-for-public-health.html#cb80-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">p75 =</span> <span class="fu">quantile</span>(AGE, <span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.75</span>)), </span>
<span id="cb80-8"><a href="tables-for-public-health.html#cb80-8" aria-hidden="true" tabindex="-1"></a>            ) <span class="sc">%&gt;%</span></span>
<span id="cb80-9"><a href="tables-for-public-health.html#cb80-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">smry1 =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%.1f \u00b1 %.1f&quot;</span>, avg, std)) <span class="sc">%&gt;%</span></span>
<span id="cb80-10"><a href="tables-for-public-health.html#cb80-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">smry2 =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%.0f (%.0f-%.0f)&quot;</span>, p50, p25, p75)) </span></code></pre></div>
<pre><code>## # A tibble: 2 × 8
##        TSEX   avg   std   p25   p50   p75 smry1       smry2     
##   &lt;dbl+lbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;     
## 1  1 [남성]  45.3  13.9    34    44    55 45.3 ± 13.9 44 (34-55)
## 2  2 [여성]  47.7  14.8    36    48    57 47.7 ± 14.8 48 (36-57)</code></pre>
<p>이제 필요한 것만 남겨 보겠습니다.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="tables-for-public-health.html#cb82-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span></span>
<span id="cb82-2"><a href="tables-for-public-health.html#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(TSEX) <span class="sc">%&gt;%</span></span>
<span id="cb82-3"><a href="tables-for-public-health.html#cb82-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">avg =</span> <span class="fu">mean</span>(AGE), </span>
<span id="cb82-4"><a href="tables-for-public-health.html#cb82-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">std =</span> <span class="fu">sd</span>(AGE), </span>
<span id="cb82-5"><a href="tables-for-public-health.html#cb82-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">p25 =</span> <span class="fu">quantile</span>(AGE, <span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.25</span>)), </span>
<span id="cb82-6"><a href="tables-for-public-health.html#cb82-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">p50 =</span> <span class="fu">quantile</span>(AGE, <span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.50</span>)), </span>
<span id="cb82-7"><a href="tables-for-public-health.html#cb82-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">p75 =</span> <span class="fu">quantile</span>(AGE, <span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.75</span>)), </span>
<span id="cb82-8"><a href="tables-for-public-health.html#cb82-8" aria-hidden="true" tabindex="-1"></a>            ) <span class="sc">%&gt;%</span></span>
<span id="cb82-9"><a href="tables-for-public-health.html#cb82-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">smry1 =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%.1f \u00b1 %.1f&quot;</span>, avg, std)) <span class="sc">%&gt;%</span></span>
<span id="cb82-10"><a href="tables-for-public-health.html#cb82-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">smry2 =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%.0f (%.0f-%.0f)&quot;</span>, p50, p25, p75)) <span class="sc">%&gt;%</span></span>
<span id="cb82-11"><a href="tables-for-public-health.html#cb82-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(TSEX, smry1, smry2)</span></code></pre></div>
<pre><code>## # A tibble: 2 × 3
##        TSEX smry1       smry2     
##   &lt;dbl+lbl&gt; &lt;chr&gt;       &lt;chr&gt;     
## 1  1 [남성] 45.3 ± 13.9 44 (34-55)
## 2  2 [여성] 47.7 ± 14.8 48 (36-57)</code></pre>
<p>이번에는 같은 내용을 수면에 대해서 해보겠습니다. 수면 점수가 높다믄 것은 잠들기 어렵다는 것이 전혀 없음(5점)에 가깝다는 것입니다. 그러니 역의 점수를 만들겠습니다. 1, 2, 3, 4, 5로 기록된 것을 5, 4, 3, 2, 1로 바꾸고 싶은 것입니다. 아래를 이용할 것입니다.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="tables-for-public-health.html#cb84-1" aria-hidden="true" tabindex="-1"></a>x<span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb84-2"><a href="tables-for-public-health.html#cb84-2" aria-hidden="true" tabindex="-1"></a>y<span class="ot">=</span> <span class="dv">6</span><span class="sc">-</span>x</span>
<span id="cb84-3"><a href="tables-for-public-health.html#cb84-3" aria-hidden="true" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>## [1] 5 4 3 2 1</code></pre>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="tables-for-public-health.html#cb86-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span></span>
<span id="cb86-2"><a href="tables-for-public-health.html#cb86-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sleep1in =</span> <span class="dv">6</span><span class="sc">-</span>sleep1)</span></code></pre></div>
<pre><code>## # A tibble: 33,007 × 8
##         TSEX   AGE       emp_stat heal_prob1     sleep1  sleep2  sleep3 sleep1in
##    &lt;dbl+lbl&gt; &lt;dbl&gt;      &lt;dbl+lbl&gt;  &lt;dbl+lbl&gt;  &lt;dbl+lbl&gt; &lt;dbl+l&gt; &lt;dbl+l&gt;    &lt;dbl&gt;
##  1  2 [여성]    54 1 [상용근로자]   2 [없다] 5 [전혀없… 5 [전… 5 [전…        1
##  2  2 [여성]    64 3 [일용근로자]   2 [없다] 2 [한 주… 2 [한 … 2 [한 …        4
##  3  2 [여성]    65 1 [상용근로자]   2 [없다] 5 [전혀없… 5 [전… 5 [전…        1
##  4  1 [남성]    61 3 [일용근로자]   1 [있다] 4 [드물게… 4 [드… 4 [드…        2
##  5  1 [남성]    38 1 [상용근로자]   2 [없다] 5 [전혀없… 5 [전… 5 [전…        1
##  6  2 [여성]    47 1 [상용근로자]   2 [없다] 5 [전혀없… 4 [드… 5 [전…        1
##  7  1 [남성]    48 1 [상용근로자]   1 [있다] 5 [전혀없… 5 [전… 5 [전…        1
##  8  1 [남성]    23 2 [임시근로자]   2 [없다] 4 [드물게… 4 [드… 4 [드…        2
##  9  2 [여성]    28 1 [상용근로자]   2 [없다] 4 [드물게… 4 [드… 4 [드…        2
## 10  2 [여성]    80 3 [일용근로자]   1 [있다] 4 [드물게… 4 [드… 4 [드…        2
## # … with 32,997 more rows</code></pre>
<p>이번에는 mutate을 이용해 새로운 변수를 생성해 보겠습니다. 변형된 dat는 dat1에 할당합니다.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="tables-for-public-health.html#cb88-1" aria-hidden="true" tabindex="-1"></a>dat1<span class="ot">&lt;-</span>dat <span class="sc">%&gt;%</span></span>
<span id="cb88-2"><a href="tables-for-public-health.html#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sleep1in =</span> <span class="dv">6</span><span class="sc">-</span>sleep1, </span>
<span id="cb88-3"><a href="tables-for-public-health.html#cb88-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">sleep2in =</span> <span class="dv">6</span><span class="sc">-</span>sleep2, </span>
<span id="cb88-4"><a href="tables-for-public-health.html#cb88-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">sleep3in =</span> <span class="dv">6</span><span class="sc">-</span>sleep3 </span>
<span id="cb88-5"><a href="tables-for-public-health.html#cb88-5" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">%&gt;%</span></span>
<span id="cb88-6"><a href="tables-for-public-health.html#cb88-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sexgp =</span> <span class="fu">case_when</span>(</span>
<span id="cb88-7"><a href="tables-for-public-health.html#cb88-7" aria-hidden="true" tabindex="-1"></a>    TSEX <span class="sc">==</span><span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;Men&quot;</span>, </span>
<span id="cb88-8"><a href="tables-for-public-health.html#cb88-8" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;Women&quot;</span></span>
<span id="cb88-9"><a href="tables-for-public-health.html#cb88-9" aria-hidden="true" tabindex="-1"></a>  ))</span></code></pre></div>
<p>이번에는 sexgp를 group으로 하여 성별, 연령의 대표값을 나나타내 봅시다. 방법은 같은데, function() 을 이용해서 무언가를 했습니다. 함수를 만드는 것은 저번 시간에 했으니, 이제 자세히 살펴보면서 어떻게 진행되는지 보겠습니다.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="tables-for-public-health.html#cb89-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span></span>
<span id="cb89-2"><a href="tables-for-public-health.html#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(TSEX) <span class="sc">%&gt;%</span></span>
<span id="cb89-3"><a href="tables-for-public-health.html#cb89-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb89-4"><a href="tables-for-public-health.html#cb89-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">avg =</span> <span class="fu">mean</span>(AGE), </span>
<span id="cb89-5"><a href="tables-for-public-health.html#cb89-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">std =</span> <span class="fu">sd</span>(AGE), </span>
<span id="cb89-6"><a href="tables-for-public-health.html#cb89-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">p50 =</span> <span class="fu">quantile</span>(AGE, <span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.50</span>)), </span>
<span id="cb89-7"><a href="tables-for-public-health.html#cb89-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">p25 =</span> <span class="fu">quantile</span>(AGE, <span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.25</span>)), </span>
<span id="cb89-8"><a href="tables-for-public-health.html#cb89-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">p75 =</span> <span class="fu">quantile</span>(AGE, <span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.75</span>))</span>
<span id="cb89-9"><a href="tables-for-public-health.html#cb89-9" aria-hidden="true" tabindex="-1"></a>            ) <span class="sc">%&gt;%</span></span>
<span id="cb89-10"><a href="tables-for-public-health.html#cb89-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">smry1=</span> <span class="fu">sprintf</span>(<span class="st">&quot;%.1f \u00b1 %.1f&quot;</span>, avg, std),</span>
<span id="cb89-11"><a href="tables-for-public-health.html#cb89-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">smry2=</span> <span class="fu">sprintf</span>(<span class="st">&quot;%.0f (%.0f-%.0f)&quot;</span>, p50, p25, p75)</span>
<span id="cb89-12"><a href="tables-for-public-health.html#cb89-12" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">%&gt;%</span></span>
<span id="cb89-13"><a href="tables-for-public-health.html#cb89-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(TSEX,smry1, smry2)</span></code></pre></div>
<pre><code>## # A tibble: 2 × 3
##        TSEX smry1       smry2     
##   &lt;dbl+lbl&gt; &lt;chr&gt;       &lt;chr&gt;     
## 1  1 [남성] 45.3 ± 13.9 44 (34-55)
## 2  2 [여성] 47.7 ± 14.8 48 (36-57)</code></pre>
<p>html Table로 만들면 복사해서 붙여 넣기 매우 편리합니다.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="tables-for-public-health.html#cb91-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span></span>
<span id="cb91-2"><a href="tables-for-public-health.html#cb91-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(TSEX) <span class="sc">%&gt;%</span></span>
<span id="cb91-3"><a href="tables-for-public-health.html#cb91-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb91-4"><a href="tables-for-public-health.html#cb91-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">avg =</span> <span class="fu">mean</span>(AGE), </span>
<span id="cb91-5"><a href="tables-for-public-health.html#cb91-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">std =</span> <span class="fu">sd</span>(AGE), </span>
<span id="cb91-6"><a href="tables-for-public-health.html#cb91-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">p50 =</span> <span class="fu">quantile</span>(AGE, <span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.50</span>)), </span>
<span id="cb91-7"><a href="tables-for-public-health.html#cb91-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">p25 =</span> <span class="fu">quantile</span>(AGE, <span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.25</span>)), </span>
<span id="cb91-8"><a href="tables-for-public-health.html#cb91-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">p75 =</span> <span class="fu">quantile</span>(AGE, <span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.75</span>))</span>
<span id="cb91-9"><a href="tables-for-public-health.html#cb91-9" aria-hidden="true" tabindex="-1"></a>            ) <span class="sc">%&gt;%</span></span>
<span id="cb91-10"><a href="tables-for-public-health.html#cb91-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">smry1=</span> <span class="fu">sprintf</span>(<span class="st">&quot;%.1f \u00b1 %.1f&quot;</span>, avg, std),</span>
<span id="cb91-11"><a href="tables-for-public-health.html#cb91-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">smry2=</span> <span class="fu">sprintf</span>(<span class="st">&quot;%.0f (%.0f-%.0f)&quot;</span>, p50, p25, p75)</span>
<span id="cb91-12"><a href="tables-for-public-health.html#cb91-12" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">%&gt;%</span></span>
<span id="cb91-13"><a href="tables-for-public-health.html#cb91-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(TSEX,smry1, smry2) <span class="sc">%&gt;%</span></span>
<span id="cb91-14"><a href="tables-for-public-health.html#cb91-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">htmlTable</span>(<span class="at">caption =</span><span class="st">&quot;descritive statistics of study population&quot;</span>)</span></code></pre></div>
<table class="gmisc_table" style="border-collapse: collapse; margin-top: 1em; margin-bottom: 1em;">
<thead>
<tr>
<td colspan="4" style="text-align: left;">
descritive statistics of study population
</td>
</tr>
<tr>
<th style="border-bottom: 1px solid grey; border-top: 2px solid grey;">
</th>
<th style="font-weight: 900; border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
TSEX
</th>
<th style="font-weight: 900; border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
smry1
</th>
<th style="font-weight: 900; border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
smry2
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">
1
</td>
<td style="text-align: center;">
1
</td>
<td style="text-align: center;">
45.3 ± 13.9
</td>
<td style="text-align: center;">
44 (34-55)
</td>
</tr>
<tr>
<td style="border-bottom: 2px solid grey; text-align: left;">
2
</td>
<td style="border-bottom: 2px solid grey; text-align: center;">
2
</td>
<td style="border-bottom: 2px solid grey; text-align: center;">
47.7 ± 14.8
</td>
<td style="border-bottom: 2px solid grey; text-align: center;">
48 (36-57)
</td>
</tr>
</tbody>
</table>
<p>그렇다면, sleep1 에 대해서도 만들어 보십시오.</p>
<p>연령과 sleep1 에 대한 대표값을 함께 볼 수 있을까요? 지금까지 배운 방법으로 해보도록 하겠습니다.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="tables-for-public-health.html#cb92-1" aria-hidden="true" tabindex="-1"></a>tab1 <span class="ot">=</span> dat1 <span class="sc">%&gt;%</span></span>
<span id="cb92-2"><a href="tables-for-public-health.html#cb92-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(TSEX) <span class="sc">%&gt;%</span></span>
<span id="cb92-3"><a href="tables-for-public-health.html#cb92-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb92-4"><a href="tables-for-public-health.html#cb92-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">avg =</span> <span class="fu">mean</span>(AGE), </span>
<span id="cb92-5"><a href="tables-for-public-health.html#cb92-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">std =</span> <span class="fu">sd</span>(AGE), </span>
<span id="cb92-6"><a href="tables-for-public-health.html#cb92-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">p50 =</span> <span class="fu">quantile</span>(AGE, <span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.50</span>)), </span>
<span id="cb92-7"><a href="tables-for-public-health.html#cb92-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">p25 =</span> <span class="fu">quantile</span>(AGE, <span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.25</span>)), </span>
<span id="cb92-8"><a href="tables-for-public-health.html#cb92-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">p75 =</span> <span class="fu">quantile</span>(AGE, <span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.75</span>))</span>
<span id="cb92-9"><a href="tables-for-public-health.html#cb92-9" aria-hidden="true" tabindex="-1"></a>            ) <span class="sc">%&gt;%</span></span>
<span id="cb92-10"><a href="tables-for-public-health.html#cb92-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">smry1=</span> <span class="fu">sprintf</span>(<span class="st">&quot;%.1f \u00b1 %.1f&quot;</span>, avg, std),</span>
<span id="cb92-11"><a href="tables-for-public-health.html#cb92-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">smry2=</span> <span class="fu">sprintf</span>(<span class="st">&quot;%.0f (%.0f-%.0f)&quot;</span>, p50, p25, p75)</span>
<span id="cb92-12"><a href="tables-for-public-health.html#cb92-12" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">%&gt;%</span></span>
<span id="cb92-13"><a href="tables-for-public-health.html#cb92-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(TSEX,smry1, smry2) <span class="sc">%&gt;%</span></span>
<span id="cb92-14"><a href="tables-for-public-health.html#cb92-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="st">&quot;AGE&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="tables-for-public-health.html#cb93-1" aria-hidden="true" tabindex="-1"></a>tab2 <span class="ot">=</span> dat1 <span class="sc">%&gt;%</span></span>
<span id="cb93-2"><a href="tables-for-public-health.html#cb93-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(TSEX) <span class="sc">%&gt;%</span></span>
<span id="cb93-3"><a href="tables-for-public-health.html#cb93-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb93-4"><a href="tables-for-public-health.html#cb93-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">avg =</span> <span class="fu">mean</span>(sleep1), </span>
<span id="cb93-5"><a href="tables-for-public-health.html#cb93-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">std =</span> <span class="fu">sd</span>(sleep1), </span>
<span id="cb93-6"><a href="tables-for-public-health.html#cb93-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">p50 =</span> <span class="fu">quantile</span>(sleep1, <span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.50</span>)), </span>
<span id="cb93-7"><a href="tables-for-public-health.html#cb93-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">p25 =</span> <span class="fu">quantile</span>(sleep1, <span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.25</span>)), </span>
<span id="cb93-8"><a href="tables-for-public-health.html#cb93-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">p75 =</span> <span class="fu">quantile</span>(sleep1, <span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.75</span>))</span>
<span id="cb93-9"><a href="tables-for-public-health.html#cb93-9" aria-hidden="true" tabindex="-1"></a>            ) <span class="sc">%&gt;%</span></span>
<span id="cb93-10"><a href="tables-for-public-health.html#cb93-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">smry1=</span> <span class="fu">sprintf</span>(<span class="st">&quot;%.1f \u00b1 %.1f&quot;</span>, avg, std),</span>
<span id="cb93-11"><a href="tables-for-public-health.html#cb93-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">smry2=</span> <span class="fu">sprintf</span>(<span class="st">&quot;%.0f (%.0f-%.0f)&quot;</span>, p50, p25, p75)</span>
<span id="cb93-12"><a href="tables-for-public-health.html#cb93-12" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">%&gt;%</span></span>
<span id="cb93-13"><a href="tables-for-public-health.html#cb93-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(TSEX,smry1, smry2) <span class="sc">%&gt;%</span></span>
<span id="cb93-14"><a href="tables-for-public-health.html#cb93-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="st">&quot;sleep1&quot;</span>)</span></code></pre></div>
<p>이 둘을 합쳐 보겠습니다.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="tables-for-public-health.html#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rbind</span>(tab1, tab2)</span></code></pre></div>
<pre><code>## # A tibble: 4 × 4
##        TSEX smry1       smry2      variable
##   &lt;dbl+lbl&gt; &lt;chr&gt;       &lt;chr&gt;      &lt;chr&gt;   
## 1  1 [남성] 45.3 ± 13.9 44 (34-55) AGE     
## 2  2 [여성] 47.7 ± 14.8 48 (36-57) AGE     
## 3  1 [남성] 4.5 ± 0.8   5 (4-5)    sleep1  
## 4  2 [여성] 4.3 ± 0.8   5 (4-5)    sleep1</code></pre>
<p>sleep1까지 했는데요, sleep2, sleep3 까지 하려면 어떻게 해야 하나요? 이것을 2번더 반복해야 합니다. 만약에 변수가 100개라면 어떻게 해야할까요, 네 1000번 하면됩니다. 좀 익숙한 표를 만들기 위해서 반복하는 것이 가장 기본이 됩니다. 그래도 이제는 이 방법을 응용해서, 컴퓨터가 쉽게 작동하는 방식으로 생각해 보겠습니다.</p>
<blockquote>
<p>long file</p>
</blockquote>
<p>이제 group 대신에 group이 될 파일을 선택해서 long file로 만들어 보겠습니다. 원하는 파일만 골라 봅니다. 성에 따른 연령, sleep1, 2, 3를 정리해 보겠습니다.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="tables-for-public-health.html#cb96-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span> <span class="fu">select</span>(sexgp, AGE, sleep1in, sleep2in, sleep3in)</span></code></pre></div>
<pre><code>## # A tibble: 33,007 × 5
##    sexgp   AGE sleep1in sleep2in sleep3in
##    &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
##  1 Women    54        1        1        1
##  2 Women    64        4        4        4
##  3 Women    65        1        1        1
##  4 Men      61        2        2        2
##  5 Men      38        1        1        1
##  6 Women    47        1        2        1
##  7 Men      48        1        1        1
##  8 Men      23        2        2        2
##  9 Women    28        2        2        2
## 10 Women    80        2        2        2
## # … with 32,997 more rows</code></pre>
<p>이러한 파일을 wide라고 부릅니다. 이제 우리는 TSEX별, AGE와 Sleep1의 값을 얻고자 합니다. 그러면 TSEX와 AGE, TSEX와 Sleep이 하나의 group이 됩니다. group을 반복한것과 같습니다. 즉 group의 기본은 -로 제외하고, 이와 상관되는 변수는 모두 포함하여 variables라는 이름으로 만들고, 값은 values라는 변수로 변환시키는 것입니다.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="tables-for-public-health.html#cb98-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span> <span class="fu">select</span>(sexgp, AGE, sleep1in, sleep2in, sleep3in) <span class="sc">%&gt;%</span></span>
<span id="cb98-2"><a href="tables-for-public-health.html#cb98-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span><span class="fu">c</span>(sexgp), <span class="at">names_to =</span><span class="st">&quot;variables&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;values&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 132,028 × 3
##    sexgp variables values
##    &lt;chr&gt; &lt;chr&gt;      &lt;dbl&gt;
##  1 Women AGE           54
##  2 Women sleep1in       1
##  3 Women sleep2in       1
##  4 Women sleep3in       1
##  5 Women AGE           64
##  6 Women sleep1in       4
##  7 Women sleep2in       4
##  8 Women sleep3in       4
##  9 Women AGE           65
## 10 Women sleep1in       1
## # … with 132,018 more rows</code></pre>
<p>평균에 대해서만 먼저 해보겠습니다.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="tables-for-public-health.html#cb100-1" aria-hidden="true" tabindex="-1"></a>dat1<span class="sc">%&gt;%</span> <span class="fu">select</span>(sexgp, AGE, sleep1, sleep2, sleep3) <span class="sc">%&gt;%</span></span>
<span id="cb100-2"><a href="tables-for-public-health.html#cb100-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span><span class="fu">c</span>(sexgp), <span class="at">names_to =</span><span class="st">&quot;variables&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;values&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb100-3"><a href="tables-for-public-health.html#cb100-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sexgp, variables) <span class="sc">%&gt;%</span></span>
<span id="cb100-4"><a href="tables-for-public-health.html#cb100-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">avg =</span> <span class="fu">mean</span>(values, <span class="at">na.rm =</span><span class="cn">TRUE</span>), </span>
<span id="cb100-5"><a href="tables-for-public-health.html#cb100-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">std =</span> <span class="fu">sd</span>(values, <span class="at">na.rm =</span><span class="cn">TRUE</span>), </span>
<span id="cb100-6"><a href="tables-for-public-health.html#cb100-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">p50 =</span> <span class="fu">quantile</span>(values, <span class="at">prob =</span> <span class="fl">0.50</span>, <span class="at">na.rm =</span><span class="cn">TRUE</span>),</span>
<span id="cb100-7"><a href="tables-for-public-health.html#cb100-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">p25 =</span> <span class="fu">quantile</span>(values, <span class="at">prob =</span> <span class="fl">0.25</span>, <span class="at">na.rm =</span><span class="cn">TRUE</span>), </span>
<span id="cb100-8"><a href="tables-for-public-health.html#cb100-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">p75 =</span> <span class="fu">quantile</span>(values, <span class="at">prob =</span> <span class="fl">0.75</span>, <span class="at">na.rm =</span><span class="cn">TRUE</span>) </span>
<span id="cb100-9"><a href="tables-for-public-health.html#cb100-9" aria-hidden="true" tabindex="-1"></a>            ) <span class="sc">%&gt;%</span></span>
<span id="cb100-10"><a href="tables-for-public-health.html#cb100-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mean_std  =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%.1f\u00b1%.1f&quot;</span>, avg, std), </span>
<span id="cb100-11"><a href="tables-for-public-health.html#cb100-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">median_IQR=</span> <span class="fu">sprintf</span>(<span class="st">&quot;%.0f (%.0f-%.0f)&quot;</span>, p50, p25, p75)) <span class="sc">%&gt;%</span></span>
<span id="cb100-12"><a href="tables-for-public-health.html#cb100-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(sexgp, variables, mean_std)</span></code></pre></div>
<pre><code>## # A tibble: 8 × 3
## # Groups:   sexgp [2]
##   sexgp variables mean_std 
##   &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;    
## 1 Men   AGE       45.3±13.9
## 2 Men   sleep1    4.5±0.8  
## 3 Men   sleep2    4.4±0.8  
## 4 Men   sleep3    4.2±0.9  
## 5 Women AGE       47.7±14.8
## 6 Women sleep1    4.3±0.8  
## 7 Women sleep2    4.3±0.9  
## 8 Women sleep3    4.2±1.0</code></pre>
<p>무언가 복잡하지만 쉬워졌죠? 이말에 고개를 끄덕이셨다면 여러분은 이제 R coding에 빠져 들고 있는 것입니다. <br></p>
<p>이제 이것을 사람이 보기 편한 상태인 wide로 바꾸겠습니다. pivot_wider를 사용하고 우리가 원하는 가로로 필요한 정보를 names로 하고 원하는 값을 values로 하겠습니다. 이것을 tab1으로 정의하겠습니다.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="tables-for-public-health.html#cb102-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">%&gt;%</span> <span class="fu">select</span>(sexgp, AGE, sleep1, sleep2, sleep3) <span class="sc">%&gt;%</span></span>
<span id="cb102-2"><a href="tables-for-public-health.html#cb102-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span><span class="fu">c</span>(sexgp), <span class="at">names_to =</span><span class="st">&quot;variables&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;values&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb102-3"><a href="tables-for-public-health.html#cb102-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sexgp, variables) <span class="sc">%&gt;%</span></span>
<span id="cb102-4"><a href="tables-for-public-health.html#cb102-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">avg =</span> <span class="fu">mean</span>(values, <span class="at">na.rm =</span><span class="cn">TRUE</span>), </span>
<span id="cb102-5"><a href="tables-for-public-health.html#cb102-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">std =</span> <span class="fu">sd</span>(values, <span class="at">na.rm =</span><span class="cn">TRUE</span>)</span>
<span id="cb102-6"><a href="tables-for-public-health.html#cb102-6" aria-hidden="true" tabindex="-1"></a>            ) <span class="sc">%&gt;%</span></span>
<span id="cb102-7"><a href="tables-for-public-health.html#cb102-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mean_std  =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%.1f\u00b1%.1f&quot;</span>, avg, std), </span>
<span id="cb102-8"><a href="tables-for-public-health.html#cb102-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">median_IQR=</span> <span class="fu">sprintf</span>(<span class="st">&quot;%.0f (%.0f-%.0f)&quot;</span>, p50, p25, p75)) <span class="sc">%&gt;%</span></span>
<span id="cb102-9"><a href="tables-for-public-health.html#cb102-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(sexgp, variables, mean_std) <span class="sc">%&gt;%</span></span>
<span id="cb102-10"><a href="tables-for-public-health.html#cb102-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> sexgp, <span class="at">values_from =</span> <span class="fu">c</span>(mean_std)) <span class="ot">-&gt;</span> tab1</span>
<span id="cb102-11"><a href="tables-for-public-health.html#cb102-11" aria-hidden="true" tabindex="-1"></a>tab1 <span class="sc">%&gt;%</span> <span class="fu">htmlTable</span>(<span class="at">caption =</span> <span class="st">&quot;Table 1. Basic Characteristics of study population&quot;</span>)</span></code></pre></div>
<table class="gmisc_table" style="border-collapse: collapse; margin-top: 1em; margin-bottom: 1em;">
<thead>
<tr>
<td colspan="4" style="text-align: left;">
Table 1. Basic Characteristics of study population
</td>
</tr>
<tr>
<th style="border-bottom: 1px solid grey; border-top: 2px solid grey;">
</th>
<th style="font-weight: 900; border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
variables
</th>
<th style="font-weight: 900; border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
Men
</th>
<th style="font-weight: 900; border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
Women
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">
1
</td>
<td style="text-align: center;">
AGE
</td>
<td style="text-align: center;">
45.3±13.9
</td>
<td style="text-align: center;">
47.7±14.8
</td>
</tr>
<tr>
<td style="text-align: left;">
2
</td>
<td style="text-align: center;">
sleep1
</td>
<td style="text-align: center;">
4.5±0.8
</td>
<td style="text-align: center;">
4.3±0.8
</td>
</tr>
<tr>
<td style="text-align: left;">
3
</td>
<td style="text-align: center;">
sleep2
</td>
<td style="text-align: center;">
4.4±0.8
</td>
<td style="text-align: center;">
4.3±0.9
</td>
</tr>
<tr>
<td style="border-bottom: 2px solid grey; text-align: left;">
4
</td>
<td style="border-bottom: 2px solid grey; text-align: center;">
sleep3
</td>
<td style="border-bottom: 2px solid grey; text-align: center;">
4.2±0.9
</td>
<td style="border-bottom: 2px solid grey; text-align: center;">
4.2±1.0
</td>
</tr>
</tbody>
</table>

</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="r-program-basic.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tables-for-public-health-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["testbook.pdf", "testbook.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
