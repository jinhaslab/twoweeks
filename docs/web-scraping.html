<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 14 Web Scraping | DsPubs with R tutor book</title>
  <meta name="description" content="Chapter 14 Web Scraping | DsPubs with R tutor book" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 14 Web Scraping | DsPubs with R tutor book" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 14 Web Scraping | DsPubs with R tutor book" />
  
  
  

<meta name="author" content="jinha" />


<meta name="date" content="2022-11-30" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-wrangling--text-value-handling.html"/>
<link rel="next" href="webscraping-example-3-pubmed-and-r-with-endnote.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.17/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://dspubs.org/webapps">DsPubs</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="lets-start-with-r-and-r-studio.html"><a href="lets-start-with-r-and-r-studio.html"><i class="fa fa-check"></i><b>2</b> Let’s Start with R and R studio</a>
<ul>
<li class="chapter" data-level="2.1" data-path="lets-start-with-r-and-r-studio.html"><a href="lets-start-with-r-and-r-studio.html#rstudio-cloud-and-colab"><i class="fa fa-check"></i><b>2.1</b> Rstudio Cloud, and colab</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="lets-start-with-r-and-r-studio.html"><a href="lets-start-with-r-and-r-studio.html#rstudio-cloud"><i class="fa fa-check"></i><b>2.1.1</b> Rstudio Cloud</a></li>
<li class="chapter" data-level="2.1.2" data-path="lets-start-with-r-and-r-studio.html"><a href="lets-start-with-r-and-r-studio.html#colab"><i class="fa fa-check"></i><b>2.1.2</b> Colab</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="lets-start-with-r-and-r-studio.html"><a href="lets-start-with-r-and-r-studio.html#r-and-r-studio-on-window-system"><i class="fa fa-check"></i><b>2.2</b> R and R studio on Window system</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="lets-start-with-r-and-r-studio.html"><a href="lets-start-with-r-and-r-studio.html#r-studio-install"><i class="fa fa-check"></i><b>2.2.1</b> R studio install</a></li>
<li class="chapter" data-level="2.2.2" data-path="lets-start-with-r-and-r-studio.html"><a href="lets-start-with-r-and-r-studio.html#r-studio-project"><i class="fa fa-check"></i><b>2.2.2</b> R studio project</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="lets-start-with-r-and-r-studio.html"><a href="lets-start-with-r-and-r-studio.html#r-and-r-studio-on-ubuntus"><i class="fa fa-check"></i><b>2.3</b> R and R studio on Ubuntus</a></li>
</ul></li>
<li class="part"><span><b>I R</b></span></li>
<li class="chapter" data-level="3" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>3</b> R basics</a>
<ul>
<li class="chapter" data-level="3.1" data-path="r-basics.html"><a href="r-basics.html#vector-matirx-list"><i class="fa fa-check"></i><b>3.1</b> vector matirx list</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="r-basics.html"><a href="r-basics.html#오브젝트-objects"><i class="fa fa-check"></i><b>3.1.1</b> 오브젝트 (objects)</a></li>
<li class="chapter" data-level="3.1.2" data-path="r-basics.html"><a href="r-basics.html#백터-vectors-팩터-factors"><i class="fa fa-check"></i><b>3.1.2</b> 백터 (Vectors), 팩터 (factors)</a></li>
<li class="chapter" data-level="3.1.3" data-path="r-basics.html"><a href="r-basics.html#매트릭스-matrix-데이터프래임-data-frame-리스트-list"><i class="fa fa-check"></i><b>3.1.3</b> 매트릭스 (Matrix), 데이터프래임 (data frame), 리스트 (list)</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="r-basics.html"><a href="r-basics.html#데이터-생성-저장"><i class="fa fa-check"></i><b>3.2</b> 데이터 생성 저장</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="r-basics.html"><a href="r-basics.html#built-in-data-sets"><i class="fa fa-check"></i><b>3.2.1</b> built-in data sets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="r-program-basic.html"><a href="r-program-basic.html"><i class="fa fa-check"></i><b>4</b> R program basic</a>
<ul>
<li class="chapter" data-level="4.1" data-path="r-program-basic.html"><a href="r-program-basic.html#기초-연산"><i class="fa fa-check"></i><b>4.1</b> 기초 연산</a></li>
<li class="chapter" data-level="4.2" data-path="r-program-basic.html"><a href="r-program-basic.html#조건부-연산"><i class="fa fa-check"></i><b>4.2</b> 조건부 연산</a></li>
<li class="chapter" data-level="4.3" data-path="r-program-basic.html"><a href="r-program-basic.html#함수-만들기"><i class="fa fa-check"></i><b>4.3</b> 함수 만들기</a></li>
<li class="chapter" data-level="4.4" data-path="r-program-basic.html"><a href="r-program-basic.html#반복문-vectorization-functionals"><i class="fa fa-check"></i><b>4.4</b> 반복문, vectorization, functionals</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="r-program-basic.html"><a href="r-program-basic.html#for-loop"><i class="fa fa-check"></i><b>4.4.1</b> for loop</a></li>
<li class="chapter" data-level="4.4.2" data-path="r-program-basic.html"><a href="r-program-basic.html#vectorization-과-apply-구문"><i class="fa fa-check"></i><b>4.4.2</b> vectorization 과 apply 구문</a></li>
<li class="chapter" data-level="4.4.3" data-path="r-program-basic.html"><a href="r-program-basic.html#home-work-and-summary-function"><i class="fa fa-check"></i><b>4.4.3</b> home work and summary function</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-manipulation.html"><a href="data-manipulation.html"><i class="fa fa-check"></i><b>5</b> Data Manipulation</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-manipulation.html"><a href="data-manipulation.html#dplyr-tidyverse"><i class="fa fa-check"></i><b>5.1</b> dplyr (tidyverse)</a></li>
<li class="chapter" data-level="5.2" data-path="data-manipulation.html"><a href="data-manipulation.html#실습-데이터-준비"><i class="fa fa-check"></i><b>5.2</b> 실습 데이터 준비</a></li>
<li class="chapter" data-level="5.3" data-path="data-manipulation.html"><a href="data-manipulation.html#select"><i class="fa fa-check"></i><b>5.3</b> select</a></li>
<li class="chapter" data-level="5.4" data-path="data-manipulation.html"><a href="data-manipulation.html#filter"><i class="fa fa-check"></i><b>5.4</b> filter</a></li>
<li class="chapter" data-level="5.5" data-path="data-manipulation.html"><a href="data-manipulation.html#arrange"><i class="fa fa-check"></i><b>5.5</b> arrange</a></li>
<li class="chapter" data-level="5.6" data-path="data-manipulation.html"><a href="data-manipulation.html#mutate"><i class="fa fa-check"></i><b>5.6</b> mutate</a></li>
<li class="chapter" data-level="5.7" data-path="data-manipulation.html"><a href="data-manipulation.html#group_by"><i class="fa fa-check"></i><b>5.7</b> group_by</a></li>
<li class="chapter" data-level="5.8" data-path="data-manipulation.html"><a href="data-manipulation.html#merge-join"><i class="fa fa-check"></i><b>5.8</b> merge, join</a></li>
</ul></li>
<li class="part"><span><b>II Visualization</b></span></li>
<li class="chapter" data-level="6" data-path="tables-for-public-health-1.html"><a href="tables-for-public-health-1.html"><i class="fa fa-check"></i><b>6</b> Tables for public health 1</a>
<ul>
<li class="chapter" data-level="6.1" data-path="tables-for-public-health-1.html"><a href="tables-for-public-health-1.html#데이터표-준비"><i class="fa fa-check"></i><b>6.1</b> 데이터표 준비</a></li>
<li class="chapter" data-level="6.2" data-path="tables-for-public-health-1.html"><a href="tables-for-public-health-1.html#central-tendency-mean-median-mode"><i class="fa fa-check"></i><b>6.2</b> Central Tendency (mean, median, mode)</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="tables-for-public-health-1.html"><a href="tables-for-public-health-1.html#하나씩-반복"><i class="fa fa-check"></i><b>6.2.1</b> 하나씩 반복</a></li>
<li class="chapter" data-level="6.2.2" data-path="tables-for-public-health-1.html"><a href="tables-for-public-health-1.html#group_by-summary-and-table-1"><i class="fa fa-check"></i><b>6.2.2</b> Group_by summary and Table 1</a></li>
<li class="chapter" data-level="6.2.3" data-path="tables-for-public-health-1.html"><a href="tables-for-public-health-1.html#long-file-and-table-1"><i class="fa fa-check"></i><b>6.2.3</b> Long File and Table 1</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="tables-for-public-health-1.html"><a href="tables-for-public-health-1.html#count-and-distribution"><i class="fa fa-check"></i><b>6.3</b> Count and Distribution</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="tables-for-public-health-1.html"><a href="tables-for-public-health-1.html#하나씩-반복-1"><i class="fa fa-check"></i><b>6.3.1</b> 하나씩 반복</a></li>
<li class="chapter" data-level="6.3.2" data-path="tables-for-public-health-1.html"><a href="tables-for-public-health-1.html#group_by-summary-and-table-1-1"><i class="fa fa-check"></i><b>6.3.2</b> Group_by summary and Table 1</a></li>
<li class="chapter" data-level="6.3.3" data-path="tables-for-public-health-1.html"><a href="tables-for-public-health-1.html#long-file-and-table-1-1"><i class="fa fa-check"></i><b>6.3.3</b> Long File and Table 1</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="tables-for-public-health-1.html"><a href="tables-for-public-health-1.html#정리-1"><i class="fa fa-check"></i><b>6.4</b> 정리 1</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="tables-for-public-health-1.html"><a href="tables-for-public-health-1.html#과제"><i class="fa fa-check"></i><b>6.4.1</b> 과제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="Tables2.html"><a href="Tables2.html"><i class="fa fa-check"></i><b>7</b> Tables for public health 2</a>
<ul>
<li class="chapter" data-level="7.1" data-path="Tables2.html"><a href="Tables2.html#데이터-준비"><i class="fa fa-check"></i><b>7.1</b> 데이터 준비</a></li>
<li class="chapter" data-level="7.2" data-path="Tables2.html"><a href="Tables2.html#분석-주제-선정"><i class="fa fa-check"></i><b>7.2</b> 분석 주제 선정</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="Tables2.html"><a href="Tables2.html#근로환경조사와-recode-선택사항"><i class="fa fa-check"></i><b>7.2.1</b> 근로환경조사와 recode (선택사항)</a></li>
<li class="chapter" data-level="7.2.2" data-path="Tables2.html"><a href="Tables2.html#근로환경조사-기본-변수-생성"><i class="fa fa-check"></i><b>7.2.2</b> 근로환경조사 기본 변수 생성</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="Tables2.html"><a href="Tables2.html#근로환경조사-table-1-만들기"><i class="fa fa-check"></i><b>7.3</b> 근로환경조사 Table 1 만들기</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="Tables2.html"><a href="Tables2.html#변수-값-요약하기"><i class="fa fa-check"></i><b>7.3.1</b> 변수 값 요약하기</a></li>
<li class="chapter" data-level="7.3.2" data-path="Tables2.html"><a href="Tables2.html#p-value-구하기."><i class="fa fa-check"></i><b>7.3.2</b> P value 구하기.</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="Tables2.html"><a href="Tables2.html#table-1-정리하기"><i class="fa fa-check"></i><b>7.4</b> Table 1 정리하기</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="Tables2.html"><a href="Tables2.html#htmltable-visulaization"><i class="fa fa-check"></i><b>7.4.1</b> htmlTable visulaization</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="Tables2.html"><a href="Tables2.html#kwcsfunction"><i class="fa fa-check"></i><b>7.5</b> 함수만들기</a></li>
<li class="chapter" data-level="7.6" data-path="Tables2.html"><a href="Tables2.html#quiz"><i class="fa fa-check"></i><b>7.6</b> Quiz</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="Tables2.html"><a href="Tables2.html#quiz1"><i class="fa fa-check"></i><b>7.6.1</b> Quiz1</a></li>
<li class="chapter" data-level="7.6.2" data-path="Tables2.html"><a href="Tables2.html#quiz-2"><i class="fa fa-check"></i><b>7.6.2</b> Quiz 2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tables-for-public-health-3.html"><a href="tables-for-public-health-3.html"><i class="fa fa-check"></i><b>8</b> Tables for public health 3</a>
<ul>
<li class="chapter" data-level="8.1" data-path="tables-for-public-health-3.html"><a href="tables-for-public-health-3.html#데이터-준비-1"><i class="fa fa-check"></i><b>8.1</b> 데이터 준비</a></li>
<li class="chapter" data-level="8.2" data-path="tables-for-public-health-3.html"><a href="tables-for-public-health-3.html#분석-주제-선정-1"><i class="fa fa-check"></i><b>8.2</b> 분석 주제 선정</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="tables-for-public-health-3.html"><a href="tables-for-public-health-3.html#근로환경조사-기본-변수-생성-선택"><i class="fa fa-check"></i><b>8.2.1</b> 근로환경조사 기본 변수 생성 (선택)</a></li>
<li class="chapter" data-level="8.2.2" data-path="tables-for-public-health-3.html"><a href="tables-for-public-health-3.html#함수를-source-file-로-저장하기"><i class="fa fa-check"></i><b>8.2.2</b> 함수를 source file 로 저장하기</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="tables-for-public-health-3.html"><a href="tables-for-public-health-3.html#logistic-regression-table"><i class="fa fa-check"></i><b>8.3</b> Logistic Regression Table</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="tables-for-public-health-3.html"><a href="tables-for-public-health-3.html#로지스틱회귀분석-표-함수-1"><i class="fa fa-check"></i><b>8.3.1</b> 로지스틱회귀분석 표 함수 1</a></li>
<li class="chapter" data-level="8.3.2" data-path="tables-for-public-health-3.html"><a href="tables-for-public-health-3.html#로지스틱-회귀분석-표-2"><i class="fa fa-check"></i><b>8.3.2</b> 로지스틱 회귀분석 표 2</a></li>
<li class="chapter" data-level="8.3.3" data-path="tables-for-public-health-3.html"><a href="tables-for-public-health-3.html#로지스틱-회귀분석-3"><i class="fa fa-check"></i><b>8.3.3</b> 로지스틱 회귀분석 3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="tables-for-public-health-summary.html"><a href="tables-for-public-health-summary.html"><i class="fa fa-check"></i><b>9</b> Tables for public health summary</a>
<ul>
<li class="chapter" data-level="9.1" data-path="tables-for-public-health-summary.html"><a href="tables-for-public-health-summary.html#install-package-from-github"><i class="fa fa-check"></i><b>9.1</b> install package from github</a></li>
<li class="chapter" data-level="9.2" data-path="tables-for-public-health-summary.html"><a href="tables-for-public-health-summary.html#data-import-and-manipulation"><i class="fa fa-check"></i><b>9.2</b> data import and manipulation</a></li>
<li class="chapter" data-level="9.3" data-path="tables-for-public-health-summary.html"><a href="tables-for-public-health-summary.html#select-variables-and-table-1"><i class="fa fa-check"></i><b>9.3</b> select variables, and table 1</a></li>
<li class="chapter" data-level="9.4" data-path="tables-for-public-health-summary.html"><a href="tables-for-public-health-summary.html#logistic-regression-model-and-table-3"><i class="fa fa-check"></i><b>9.4</b> logistic regression model and table 3</a></li>
<li class="chapter" data-level="9.5" data-path="tables-for-public-health-summary.html"><a href="tables-for-public-health-summary.html#quiz-1"><i class="fa fa-check"></i><b>9.5</b> Quiz</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="tables-for-public-health-summary.html"><a href="tables-for-public-health-summary.html#install-and-load-library-tabf"><i class="fa fa-check"></i><b>9.5.1</b> install and load library tabf</a></li>
<li class="chapter" data-level="9.5.2" data-path="tables-for-public-health-summary.html"><a href="tables-for-public-health-summary.html#data-manipulation-1"><i class="fa fa-check"></i><b>9.5.2</b> data manipulation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html"><i class="fa fa-check"></i><b>10</b> Basic plot with R</a>
<ul>
<li class="chapter" data-level="10.1" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#ggplot-basic"><i class="fa fa-check"></i><b>10.1</b> ggplot basic</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#axis"><i class="fa fa-check"></i><b>10.1.1</b> axis</a></li>
<li class="chapter" data-level="10.1.2" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#layer-geom_x"><i class="fa fa-check"></i><b>10.1.2</b> layer, geom_x()</a></li>
<li class="chapter" data-level="10.1.3" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#geom_point"><i class="fa fa-check"></i><b>10.1.3</b> geom_point()</a></li>
<li class="chapter" data-level="10.1.4" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#geom_smooth"><i class="fa fa-check"></i><b>10.1.4</b> geom_smooth()</a></li>
<li class="chapter" data-level="10.1.5" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#faceting"><i class="fa fa-check"></i><b>10.1.5</b> faceting</a></li>
<li class="chapter" data-level="10.1.6" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#geom_bar"><i class="fa fa-check"></i><b>10.1.6</b> geom_bar()</a></li>
<li class="chapter" data-level="10.1.7" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#geom_density-geom_histogram"><i class="fa fa-check"></i><b>10.1.7</b> geom_density() , geom_histogram()</a></li>
<li class="chapter" data-level="10.1.8" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#geom_boxplot"><i class="fa fa-check"></i><b>10.1.8</b> geom_boxplot()</a></li>
<li class="chapter" data-level="10.1.9" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#d-plot"><i class="fa fa-check"></i><b>10.1.9</b> 3d plot</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#visualzation-example-1"><i class="fa fa-check"></i><b>10.2</b> Visualzation example 1</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#simple-machine-learning-decision-tree"><i class="fa fa-check"></i><b>10.2.1</b> simple machine learning decision tree</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="basic-plot-with-r.html"><a href="basic-plot-with-r.html#summary"><i class="fa fa-check"></i><b>10.3</b> summary</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="statistical-plot-with-ggplot2.html"><a href="statistical-plot-with-ggplot2.html"><i class="fa fa-check"></i><b>11</b> Statistical Plot with ggplot2</a>
<ul>
<li class="chapter" data-level="11.1" data-path="statistical-plot-with-ggplot2.html"><a href="statistical-plot-with-ggplot2.html#prerequisite"><i class="fa fa-check"></i><b>11.1</b> Prerequisite</a></li>
<li class="chapter" data-level="11.2" data-path="statistical-plot-with-ggplot2.html"><a href="statistical-plot-with-ggplot2.html#t-test-and-chisq-test-visualization"><i class="fa fa-check"></i><b>11.2</b> T-test and Chisq-test Visualization</a></li>
<li class="chapter" data-level="11.3" data-path="statistical-plot-with-ggplot2.html"><a href="statistical-plot-with-ggplot2.html#odds-ratio-and-95-confidence-interval"><i class="fa fa-check"></i><b>11.3</b> Odds ratio and 95% confidence interval</a></li>
<li class="chapter" data-level="11.4" data-path="statistical-plot-with-ggplot2.html"><a href="statistical-plot-with-ggplot2.html#Labeled"><i class="fa fa-check"></i><b>11.4</b> Multilevel and Labelled Data</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="statistical-plot-with-ggplot2.html"><a href="statistical-plot-with-ggplot2.html#introduction-1"><i class="fa fa-check"></i><b>11.4.1</b> introduction</a></li>
<li class="chapter" data-level="11.4.2" data-path="statistical-plot-with-ggplot2.html"><a href="statistical-plot-with-ggplot2.html#data-analysis-start"><i class="fa fa-check"></i><b>11.4.2</b> Data analysis start</a></li>
<li class="chapter" data-level="11.4.3" data-path="statistical-plot-with-ggplot2.html"><a href="statistical-plot-with-ggplot2.html#job-loss-psychological-aggravation-according-to-education-level"><i class="fa fa-check"></i><b>11.4.3</b> job loss, psychological aggravation according to Education level</a></li>
<li class="chapter" data-level="11.4.4" data-path="statistical-plot-with-ggplot2.html"><a href="statistical-plot-with-ggplot2.html#visulization-with-human-develop-index-stratification"><i class="fa fa-check"></i><b>11.4.4</b> Visulization with human develop index stratification</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="wave-form-data-visualization-example-for-public-health.html"><a href="wave-form-data-visualization-example-for-public-health.html"><i class="fa fa-check"></i><b>12</b> wave form data visualization example for public health</a>
<ul>
<li class="chapter" data-level="12.0.1" data-path="wave-form-data-visualization-example-for-public-health.html"><a href="wave-form-data-visualization-example-for-public-health.html#data-visualization-example-eeg-data"><i class="fa fa-check"></i><b>12.0.1</b> Data Visualization example (EEG data)</a></li>
<li class="chapter" data-level="12.0.2" data-path="wave-form-data-visualization-example-for-public-health.html"><a href="wave-form-data-visualization-example-for-public-health.html#introduction-2"><i class="fa fa-check"></i><b>12.0.2</b> Introduction</a></li>
<li class="chapter" data-level="12.0.3" data-path="wave-form-data-visualization-example-for-public-health.html"><a href="wave-form-data-visualization-example-for-public-health.html#dataset-and-data-step"><i class="fa fa-check"></i><b>12.0.3</b> Dataset and Data step</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="data-wrangling--text-value-handling.html"><a href="data-wrangling--text-value-handling.html"><i class="fa fa-check"></i><b>13</b> Data Wrangling- Text value Handling</a>
<ul>
<li class="chapter" data-level="13.1" data-path="data-wrangling--text-value-handling.html"><a href="data-wrangling--text-value-handling.html#동영상"><i class="fa fa-check"></i><b>13.1</b> 동영상</a></li>
<li class="chapter" data-level="13.2" data-path="data-wrangling--text-value-handling.html"><a href="data-wrangling--text-value-handling.html#문제-제기"><i class="fa fa-check"></i><b>13.2</b> 문제 제기</a></li>
<li class="chapter" data-level="13.3" data-path="data-wrangling--text-value-handling.html"><a href="data-wrangling--text-value-handling.html#split"><i class="fa fa-check"></i><b>13.3</b> split</a></li>
<li class="chapter" data-level="13.4" data-path="data-wrangling--text-value-handling.html"><a href="data-wrangling--text-value-handling.html#gather-pivot_longer"><i class="fa fa-check"></i><b>13.4</b> gather (pivot_longer)</a></li>
<li class="chapter" data-level="13.5" data-path="data-wrangling--text-value-handling.html"><a href="data-wrangling--text-value-handling.html#spread-pivot_wider"><i class="fa fa-check"></i><b>13.5</b> spread (pivot_wider)</a></li>
<li class="chapter" data-level="13.6" data-path="data-wrangling--text-value-handling.html"><a href="data-wrangling--text-value-handling.html#stringr"><i class="fa fa-check"></i><b>13.6</b> stringr</a>
<ul>
<li class="chapter" data-level="13.6.1" data-path="data-wrangling--text-value-handling.html"><a href="data-wrangling--text-value-handling.html#분진-노출자-찾기"><i class="fa fa-check"></i><b>13.6.1</b> 분진 노출자 찾기</a></li>
<li class="chapter" data-level="13.6.2" data-path="data-wrangling--text-value-handling.html"><a href="data-wrangling--text-value-handling.html#특정-문자-변환"><i class="fa fa-check"></i><b>13.6.2</b> 특정 문자 변환</a></li>
<li class="chapter" data-level="13.6.3" data-path="data-wrangling--text-value-handling.html"><a href="data-wrangling--text-value-handling.html#과제-1"><i class="fa fa-check"></i><b>13.6.3</b> 과제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="web-scraping.html"><a href="web-scraping.html"><i class="fa fa-check"></i><b>14</b> Web Scraping</a>
<ul>
<li class="chapter" data-level="14.1" data-path="web-scraping.html"><a href="web-scraping.html#issue-of-covid19-in-korea"><i class="fa fa-check"></i><b>14.1</b> issue of COVID19 in Korea</a></li>
<li class="chapter" data-level="14.2" data-path="web-scraping.html"><a href="web-scraping.html#homework"><i class="fa fa-check"></i><b>14.2</b> homework</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="web-scraping.html"><a href="web-scraping.html#download-cumulative-covid19-death"><i class="fa fa-check"></i><b>14.2.1</b> download Cumulative covid19 death</a></li>
<li class="chapter" data-level="14.2.2" data-path="web-scraping.html"><a href="web-scraping.html#uk-italy-france-spain-usa-canada"><i class="fa fa-check"></i><b>14.2.2</b> UK, Italy, France, Spain, USA, Canada</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="web-scraping.html"><a href="web-scraping.html#review-of-title-from-google-scholar"><i class="fa fa-check"></i><b>14.3</b> Review of title from google scholar</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="web-scraping.html"><a href="web-scraping.html#googl-scholar"><i class="fa fa-check"></i><b>14.3.1</b> googl scholar</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="web-scraping.html"><a href="web-scraping.html#home-work-2"><i class="fa fa-check"></i><b>14.4</b> home work 2</a></li>
<li class="chapter" data-level="14.5" data-path="web-scraping.html"><a href="web-scraping.html#black-report-2"><i class="fa fa-check"></i><b>14.5</b> Black Report 2</a></li>
<li class="chapter" data-level="14.6" data-path="web-scraping.html"><a href="web-scraping.html#home-work-2-1"><i class="fa fa-check"></i><b>14.6</b> home work 2</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="webscraping-example-3-pubmed-and-r-with-endnote.html"><a href="webscraping-example-3-pubmed-and-r-with-endnote.html"><i class="fa fa-check"></i><b>15</b> WebScraping Example 3: PubMed and R with EndNote</a>
<ul>
<li class="chapter" data-level="15.1" data-path="webscraping-example-3-pubmed-and-r-with-endnote.html"><a href="webscraping-example-3-pubmed-and-r-with-endnote.html#pubmed-검색-방법"><i class="fa fa-check"></i><b>15.1</b> PubMed 검색 방법</a></li>
<li class="chapter" data-level="15.2" data-path="webscraping-example-3-pubmed-and-r-with-endnote.html"><a href="webscraping-example-3-pubmed-and-r-with-endnote.html#r-에서-pubmed-query-사용"><i class="fa fa-check"></i><b>15.2</b> R 에서 PubMed Query 사용</a></li>
<li class="chapter" data-level="15.3" data-path="webscraping-example-3-pubmed-and-r-with-endnote.html"><a href="webscraping-example-3-pubmed-and-r-with-endnote.html#pdf-자동-보고서"><i class="fa fa-check"></i><b>15.3</b> PDF 자동 보고서</a></li>
<li class="chapter" data-level="15.4" data-path="webscraping-example-3-pubmed-and-r-with-endnote.html"><a href="webscraping-example-3-pubmed-and-r-with-endnote.html#원문-pdf-찾기"><i class="fa fa-check"></i><b>15.4</b> 원문 PDF 찾기</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="date-and-time-series.html"><a href="date-and-time-series.html"><i class="fa fa-check"></i><b>16</b> Date and time series</a>
<ul>
<li class="chapter" data-level="16.1" data-path="date-and-time-series.html"><a href="date-and-time-series.html#date-create"><i class="fa fa-check"></i><b>16.1</b> Date create</a></li>
<li class="chapter" data-level="16.2" data-path="date-and-time-series.html"><a href="date-and-time-series.html#tutor-heat-wave-and-death"><i class="fa fa-check"></i><b>16.2</b> Tutor: heat wave and death</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="date-and-time-series.html"><a href="date-and-time-series.html#date-create-1"><i class="fa fa-check"></i><b>16.2.1</b> date create</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="date-and-time-series.html"><a href="date-and-time-series.html#home-work"><i class="fa fa-check"></i><b>16.3</b> home work</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="date-and-time-series.html"><a href="date-and-time-series.html#home0"><i class="fa fa-check"></i><b>16.3.1</b> home0</a></li>
<li class="chapter" data-level="16.3.2" data-path="date-and-time-series.html"><a href="date-and-time-series.html#home-work1"><i class="fa fa-check"></i><b>16.3.2</b> home work1</a></li>
<li class="chapter" data-level="16.3.3" data-path="date-and-time-series.html"><a href="date-and-time-series.html#home-work2"><i class="fa fa-check"></i><b>16.3.3</b> home work2</a></li>
<li class="chapter" data-level="16.3.4" data-path="date-and-time-series.html"><a href="date-and-time-series.html#home-work3"><i class="fa fa-check"></i><b>16.3.4</b> home work3</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="date-and-time-series.html"><a href="date-and-time-series.html#time-series-data-analysis"><i class="fa fa-check"></i><b>16.4</b> Time series data analysis</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="date-and-time-series.html"><a href="date-and-time-series.html#outside-사망에-대해서"><i class="fa fa-check"></i><b>16.4.1</b> outside 사망에 대해서</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="date-and-time-series.html"><a href="date-and-time-series.html#time-series-data-analysis-regression"><i class="fa fa-check"></i><b>16.5</b> Time series data analysis, regression</a></li>
<li class="chapter" data-level="16.6" data-path="date-and-time-series.html"><a href="date-and-time-series.html#introduction-3"><i class="fa fa-check"></i><b>16.6</b> introduction</a></li>
<li class="chapter" data-level="16.7" data-path="date-and-time-series.html"><a href="date-and-time-series.html#미세먼지와-심혈관사망"><i class="fa fa-check"></i><b>16.7</b> 미세먼지와 심혈관사망</a></li>
<li class="chapter" data-level="16.8" data-path="date-and-time-series.html"><a href="date-and-time-series.html#방법-tutor"><i class="fa fa-check"></i><b>16.8</b> 방법 tutor</a></li>
</ul></li>
<li class="part"><span><b>IV Repeat and Reproducibility</b></span></li>
<li class="chapter" data-level="17" data-path="repeated-analysis.html"><a href="repeated-analysis.html"><i class="fa fa-check"></i><b>17</b> Repeated analysis</a>
<ul>
<li class="chapter" data-level="17.1" data-path="repeated-analysis.html"><a href="repeated-analysis.html#추출"><i class="fa fa-check"></i><b>17.1</b> 추출</a></li>
<li class="chapter" data-level="17.2" data-path="repeated-analysis.html"><a href="repeated-analysis.html#파일-불러오기"><i class="fa fa-check"></i><b>17.2</b> 파일 불러오기</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="repeated-analysis.html"><a href="repeated-analysis.html#과제-2"><i class="fa fa-check"></i><b>17.2.1</b> 과제</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="repeated-analysis.html"><a href="repeated-analysis.html#분석-반복하기-change-point-찾기"><i class="fa fa-check"></i><b>17.3</b> 분석 반복하기 (change point 찾기)</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="repeated-analysis.html"><a href="repeated-analysis.html#자료-생성"><i class="fa fa-check"></i><b>17.3.1</b> 자료 생성</a></li>
<li class="chapter" data-level="17.3.2" data-path="repeated-analysis.html"><a href="repeated-analysis.html#가상의-threshold-값-수행해보기"><i class="fa fa-check"></i><b>17.3.2</b> 가상의 threshold 값 수행해보기</a></li>
<li class="chapter" data-level="17.3.3" data-path="repeated-analysis.html"><a href="repeated-analysis.html#과제-3"><i class="fa fa-check"></i><b>17.3.3</b> 과제</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="repeated-analysis.html"><a href="repeated-analysis.html#repeated-analysis-big-data"><i class="fa fa-check"></i><b>17.4</b> Repeated analysis (big data)</a>
<ul>
<li class="chapter" data-level="17.4.1" data-path="repeated-analysis.html"><a href="repeated-analysis.html#data-profile"><i class="fa fa-check"></i><b>17.4.1</b> Data profile</a></li>
<li class="chapter" data-level="17.4.2" data-path="repeated-analysis.html"><a href="repeated-analysis.html#data-handling-start"><i class="fa fa-check"></i><b>17.4.2</b> data handling start</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V Communication</b></span></li>
<li class="chapter" data-level="18" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>18</b> R markdown</a>
<ul>
<li class="chapter" data-level="18.1" data-path="r-markdown.html"><a href="r-markdown.html#설치"><i class="fa fa-check"></i><b>18.1</b> 설치</a></li>
<li class="chapter" data-level="18.2" data-path="r-markdown.html"><a href="r-markdown.html#components"><i class="fa fa-check"></i><b>18.2</b> 3 components</a></li>
<li class="chapter" data-level="18.3" data-path="r-markdown.html"><a href="r-markdown.html#simple-tutor"><i class="fa fa-check"></i><b>18.3</b> simple tutor</a></li>
<li class="chapter" data-level="18.4" data-path="r-markdown.html"><a href="r-markdown.html#chunck-option"><i class="fa fa-check"></i><b>18.4</b> chunck option</a></li>
<li class="chapter" data-level="18.5" data-path="r-markdown.html"><a href="r-markdown.html#table-만들기"><i class="fa fa-check"></i><b>18.5</b> Table 만들기</a></li>
<li class="chapter" data-level="18.6" data-path="r-markdown.html"><a href="r-markdown.html#필독"><i class="fa fa-check"></i><b>18.6</b> 필독!</a></li>
<li class="chapter" data-level="18.7" data-path="r-markdown.html"><a href="r-markdown.html#동영상-1"><i class="fa fa-check"></i><b>18.7</b> 동영상</a></li>
<li class="chapter" data-level="18.8" data-path="r-markdown.html"><a href="r-markdown.html#과제-4"><i class="fa fa-check"></i><b>18.8</b> 과제</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="rmarkdown-and-reporting.html"><a href="rmarkdown-and-reporting.html"><i class="fa fa-check"></i><b>19</b> Rmarkdown and reporting</a>
<ul>
<li class="chapter" data-level="19.1" data-path="rmarkdown-and-reporting.html"><a href="rmarkdown-and-reporting.html#rmarkdown-and-word-office-down"><i class="fa fa-check"></i><b>19.1</b> Rmarkdown and Word (office down)</a></li>
<li class="chapter" data-level="19.2" data-path="rmarkdown-and-reporting.html"><a href="rmarkdown-and-reporting.html#rmarkdown-and-pdf"><i class="fa fa-check"></i><b>19.2</b> Rmarkdown and PDF</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="google-maps-platform.html"><a href="google-maps-platform.html"><i class="fa fa-check"></i><b>20</b> Google Maps Platform</a>
<ul>
<li class="chapter" data-level="20.1" data-path="google-maps-platform.html"><a href="google-maps-platform.html#google-tackeout"><i class="fa fa-check"></i><b>20.1</b> Google Tackeout</a></li>
<li class="chapter" data-level="20.2" data-path="google-maps-platform.html"><a href="google-maps-platform.html#data-visualization"><i class="fa fa-check"></i><b>20.2</b> Data visualization</a></li>
<li class="chapter" data-level="20.3" data-path="google-maps-platform.html"><a href="google-maps-platform.html#google-api"><i class="fa fa-check"></i><b>20.3</b> google API</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="leaflet.html"><a href="leaflet.html"><i class="fa fa-check"></i><b>21</b> Map using leaflet</a>
<ul>
<li class="chapter" data-level="21.1" data-path="leaflet.html"><a href="leaflet.html#leaflet-1"><i class="fa fa-check"></i><b>21.1</b> leaflet</a></li>
<li class="chapter" data-level="21.2" data-path="leaflet.html"><a href="leaflet.html#위치와-시간표시"><i class="fa fa-check"></i><b>21.2</b> 위치와 시간표시</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="shinyapps.html"><a href="shinyapps.html"><i class="fa fa-check"></i><b>22</b> shinyapps</a>
<ul>
<li class="chapter" data-level="22.1" data-path="shinyapps.html"><a href="shinyapps.html#설치-1"><i class="fa fa-check"></i><b>22.1</b> 설치</a></li>
<li class="chapter" data-level="22.2" data-path="shinyapps.html"><a href="shinyapps.html#예제"><i class="fa fa-check"></i><b>22.2</b> 예제</a></li>
<li class="chapter" data-level="22.3" data-path="shinyapps.html"><a href="shinyapps.html#예제-1-만들기"><i class="fa fa-check"></i><b>22.3</b> 예제 1 만들기</a>
<ul>
<li class="chapter" data-level="22.3.1" data-path="shinyapps.html"><a href="shinyapps.html#구조"><i class="fa fa-check"></i><b>22.3.1</b> 구조</a></li>
<li class="chapter" data-level="22.3.2" data-path="shinyapps.html"><a href="shinyapps.html#input-output"><i class="fa fa-check"></i><b>22.3.2</b> input, output</a></li>
<li class="chapter" data-level="22.3.3" data-path="shinyapps.html"><a href="shinyapps.html#과제-5"><i class="fa fa-check"></i><b>22.3.3</b> 과제</a></li>
</ul></li>
<li class="chapter" data-level="22.4" data-path="shinyapps.html"><a href="shinyapps.html#지도앱-만들기"><i class="fa fa-check"></i><b>22.4</b> 지도앱 만들기</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">DsPubs with R tutor book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="web-scraping" class="section level1 hasAnchor" number="14">
<h1><span class="header-section-number">Chapter 14</span> Web Scraping<a href="web-scraping.html#web-scraping" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Now we can download data and text from web using url
load library</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="web-scraping.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="web-scraping.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb1-3"><a href="web-scraping.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span></code></pre></div>
<iframe width="560" height="315" src="https://www.youtube.com/embed/rubb6hgwRvI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<div id="issue-of-covid19-in-korea" class="section level2 hasAnchor" number="14.1">
<h2><span class="header-section-number">14.1</span> issue of COVID19 in Korea<a href="web-scraping.html#issue-of-covid19-in-korea" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now I want to download Table from <a href="https://en.wikipedia.org/wiki/COVID-19_pandemic_by_country_and_territory" class="uri">https://en.wikipedia.org/wiki/COVID-19_pandemic_by_country_and_territory</a>
Please visit the website, url.</p>
<div class="figure">
<img src="images/wikicovid.png" alt="" />
<p class="caption">wiki covid</p>
</div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="web-scraping.html#cb2-1" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span><span class="st">&quot;https://en.wikipedia.org/wiki/COVID-19_pandemic_by_country_and_territory&quot;</span></span></code></pre></div>
<p><code>read_html()</code> allows us to read url and its’ contents.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="web-scraping.html#cb3-1" aria-hidden="true" tabindex="-1"></a>h <span class="ot">&lt;-</span><span class="fu">read_html</span>(url)</span>
<span id="cb3-2"><a href="web-scraping.html#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(h)</span>
<span id="cb3-3"><a href="web-scraping.html#cb3-3" aria-hidden="true" tabindex="-1"></a>h</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="web-scraping.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#html_text(h) # just overview of HTML structure</span></span></code></pre></div>
<p>Go to website via chrom and click F12 button. You can see the right window as below. Now I want find table of Covid-19 table. I open the search tab by using <code>ctrl + F</code>. And writing or typing <code>india</code> to find that table.</p>
<div class="figure">
<img src="images/findurl.png" alt="" />
<p class="caption">Find source and nodes</p>
</div>
<p>Now I try to find <code>table</code> nodes from url</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="web-scraping.html#cb5-1" aria-hidden="true" tabindex="-1"></a>tab <span class="ot">&lt;-</span> h <span class="sc">%&gt;%</span> <span class="fu">html_nodes</span>(<span class="st">&quot;table&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="web-scraping.html#cb6-1" aria-hidden="true" tabindex="-1"></a>tab2 <span class="ot">&lt;-</span> tab [[<span class="dv">2</span>]] <span class="sc">%&gt;%</span> html_table</span></code></pre></div>
<pre><code>## # A tibble: 234 × 6
##    `Location[a]...1` `Location[a]...2` `Cases[b]` `Deaths[c]` `Recov.[d]` Ref.  
##    &lt;chr&gt;             &lt;chr&gt;             &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt; 
##  1 &lt;NA&gt;              World[e]          43,895,968 1,165,455   29,727,057  [4]   
##  2 &lt;NA&gt;              United States[f]  8,879,060  230,176     5,469,963   [13]  
##  3 &lt;NA&gt;              India             7,946,429  119,502     7,201,070   [14]  
##  4 &lt;NA&gt;              Brazil            5,440,903  157,981     4,904,046   [15][…
##  5 &lt;NA&gt;              Russia[g]         1,547,774  26,589      1,158,940   [17]  
##  6 &lt;NA&gt;              France[h]         1,198,695  35,541      112,716     [18][…
##  7 &lt;NA&gt;              Spain[i]          1,116,738  35,298      No data     [20]  
##  8 &lt;NA&gt;              Argentina[j]      1,116,596  29,730      921,331     [22]  
##  9 &lt;NA&gt;              Colombia          1,033,218  30,565      932,882     [23]  
## 10 &lt;NA&gt;              United Kingdom[k] 917,575    45,365      No data     [25]  
## # … with 224 more rows</code></pre>
<p>I remove ‘,’ and macke numeric variables in Cases, Death and Recover.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="web-scraping.html#cb8-1" aria-hidden="true" tabindex="-1"></a>tab3 <span class="ot">&lt;-</span> tab2[ <span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">232</span>, <span class="dv">233</span>, <span class="dv">234</span>), <span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">6</span>)] <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="web-scraping.html#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&quot;Location&quot;</span>, <span class="st">&quot;Cases&quot;</span>, </span>
<span id="cb8-3"><a href="web-scraping.html#cb8-3" aria-hidden="true" tabindex="-1"></a>             <span class="st">&quot;Death&quot;</span>, <span class="st">&quot;Recover&quot;</span>)) </span>
<span id="cb8-4"><a href="web-scraping.html#cb8-4" aria-hidden="true" tabindex="-1"></a>tab3 <span class="ot">&lt;-</span> tab3 <span class="sc">%&gt;%</span></span>
<span id="cb8-5"><a href="web-scraping.html#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">c</span>(<span class="st">&#39;Cases&#39;</span>, <span class="st">&#39;Death&#39;</span>, <span class="st">&#39;Recover&#39;</span>), <span class="cf">function</span>(x)(<span class="fu">str_replace_all</span>(x, <span class="st">&quot;,&quot;</span>, <span class="st">&quot;&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">as.numeric</span>())) <span class="sc">%&gt;%</span></span>
<span id="cb8-6"><a href="web-scraping.html#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Location =</span> <span class="fu">str_replace_all</span>(Location, <span class="st">&#39;</span><span class="sc">\\</span><span class="st">[[:alpha:]]&#39;</span>, <span class="st">&quot;&quot;</span>))</span></code></pre></div>
<p>I used <code>\\[[:alpha:]]</code>, <code>\\[</code> means “[” and [:aplpah:] means any alphabet, and last <code>]</code> means ”]”. So, I try to remove the all character within “[ ]”. Now, Table is.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="web-scraping.html#cb9-1" aria-hidden="true" tabindex="-1"></a>tab3 <span class="sc">%&gt;%</span> <span class="fu">datatable</span>()</span></code></pre></div>
<div id="htmlwidget-8d1e1dae41cc2368a6a5" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-8d1e1dae41cc2368a6a5">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230"],["United States","India","Brazil","Russia","France","Spain","Argentina","Colombia","United Kingdom","Mexico","Peru","South Africa","Iran","Italy","Chile","Germany","Iraq","Bangladesh","Indonesia","Philippines","Turkey","Ukraine","Saudi Arabia","Belgium","Pakistan","Netherlands","Israel","Czech Republic","Poland","Canada","Romania","Morocco","Ecuador","Nepal","Bolivia","Qatar","Panama","United Arab Emirates","Switzerland","Dominican Republic","Portugal","Kuwait","Sweden","Oman","Kazakhstan","Egypt","Guatemala","Costa Rica","Japan","Ethiopia","Belarus","Honduras","Venezuela","Austria","China","Bahrain","Armenia","Lebanon","Moldova","Uzbekistan","Hungary","Nigeria","Paraguay","Jordan","Ireland","Singapore","Libya","Kyrgyzstan","Algeria","Tunisia","Palestine","Azerbaijan","Kenya","Ghana","Myanmar","Slovakia","Bosnia and Herzegovina","Bulgaria","Denmark[aa]","Afghanistan","Serbia[ab]","Croatia","El Salvador","Greece","Puerto Rico","Georgia[ac]","Malaysia","North Macedonia","Australia[ad]","South Korea","Slovenia","Cameroon","Ivory Coast","Albania","Norway[ae]","Kosovo","Montenegro","Madagascar","Zambia","Senegal","Finland[af]","Luxembourg","Sudan","Namibia","Mozambique","Guinea","Uganda","Maldives","Lithuania","DR Congo[ag]","Tajikistan","Angola","Haiti","Gabon","Sri Lanka","Jamaica","Cape Verde","Zimbabwe","Mauritania","Cuba[ah]","Bahamas[ai]","French Polynesia","Donetsk PR[aj]","Malawi","Eswatini","Malta","Trinidad and Tobago","Djibouti","Syria[ak]","Nicaragua","Hong Kong","Congo[al]","Suriname","Rwanda","Equatorial Guinea","Botswana[am]","Latvia","Central African Republic","Iceland","Estonia","Aruba","Guam[an]","Andorra","Guyana","Somalia[ao]","Cyprus[ap]","Thailand","The Gambia","Mali","Belize","Uruguay[aq]","South Sudan","Abkhazia[ar]","Benin","Burkina Faso","Guinea-Bissau","Sierra Leone","Togo","Yemen","Lesotho","New Zealand","Chad","Luhansk PR[aj]","Liberia","U.S. Virgin Islands","Niger","Vietnam","USS Theodore Roosevelt[an]","Charles de Gaulle[as]","Somaliland[at]","São Tomé and Príncipe","Northern Cyprus[au]","Curaçao","San Marino","Sint Maarten","Diamond Princess","Turks and Caicos Islands","Gibraltar","Papua New Guinea","Jersey","Burundi","Taiwan[av]","Comoros","Faroe Islands","Eritrea","Mauritius","Liechtenstein","Artsakh[aw]","Isle of Man[ax]","Bhutan","Mongolia","Monaco","Cambodia","Guernsey","Cayman Islands","Barbados","Bermuda","Seychelles","Costa Atlantica","Brunei","Bonaire","Greg Mortimer[aq]","Antigua and Barbuda","South Ossetia[ay]","Northern Mariana Islands","Saint Vincent[az]","British Virgin Islands","Saint Lucia","Macau","Dominica","Fiji","Sahrawi Arab DR[ba]","East Timor","New Caledonia","Vatican City","Grenada","Laos","Saint Kitts and Nevis","Greenland","Saint Pierre and Miquelon","Falkland Islands","Montserrat","MS Zaandam[bb]","Sint Eustatius","Coral Princess[bc]","HNLMS Dolfijn[bd]","Solomon Islands","Saba","Anguilla","Wallis and Futuna"],[8879060,7946429,5440903,1547774,1198695,1116738,1116596,1033218,917575,895326,892497,717851,581824,564778,504525,463419,459908,401586,396454,373144,366208,355601,345631,333718,329375,311889,311724,284033,280229,222887,217216,203733,163192,160400,140952,131689,130422,127624,127042,125008,124432,123092,115785,113820,110684,106877,105571,105322,97498,94218,94609,93966,90400,86102,85868,80657,80410,73995,72460,65881,63642,62224,60557,58855,58767,57980,57975,56738,56706,52399,51528,51149,50833,47775,47666,46056,43151,42701,42157,41032,40880,38621,32925,32752,32461,32127,28640,27827,27541,26043,25603,21430,20488,19729,18666,18345,17091,16968,16243,15571,15163,14884,13747,12729,12273,11819,11621,11567,11362,11191,10860,9871,9040,8937,8870,8787,8427,8315,7677,6678,6502,6431,6103,5897,5875,5685,5568,5544,5528,5514,5309,5253,5187,5084,5083,4930,4893,4854,4574,4465,4437,4418,4410,4061,3941,3817,3746,3666,3515,3200,2916,2890,2579,2557,2466,2403,2350,2229,2060,1947,1585,1460,1456,1419,1351,1218,1172,1102,1081,1077,941,920,884,852,789,712,703,679,588,560,557,550,517,494,461,439,428,404,352,342,340,320,288,266,235,233,193,153,148,148,134,128,124,90,77,74,71,65,46,38,33,28,30,27,27,28,24,19,17,16,13,13,13,13,12,8,8,5,3,1],[230176,119502,157981,26589,35541,35298,29730,30565,45365,89171,34257,19053,33299,37700,14026,10263,10724,5838,13512,7053,9950,6590,5329,10899,6745,7142,2483,2547,4615,10001,6574,3445,12588,876,8658,230,2650,482,1930,2226,2371,756,5918,1204,1825,6222,3665,1329,1725,1445,965,2633,780,1005,4634,316,1222,595,1710,556,1535,1135,1347,668,1890,28,812,1136,1931,877,458,688,934,316,1147,176,1125,1161,709,1523,798,470,957,593,808,238,238,949,905,460,264,424,122,487,280,669,275,244,348,322,354,147,837,133,89,71,103,37,141,305,81,271,232,54,19,196,94,242,163,128,136,26,466,183,116,55,106,61,275,156,105,92,111,34,83,21,63,62,10,73,36,75,72,119,104,25,59,119,136,51,54,56,27,41,67,41,74,54,599,43,25,96,71,82,21,69,35,1,0,36,15,5,1,42,22,14,6,0,7,32,1,7,7,0,0,10,1,2,24,0,0,2,0,13,1,7,9,0,0,3,3,1,3,0,2,0,1,0,0,0,2,2,0,0,0,0,0,0,0,0,0,1,4,0,3,0,0,0,0,0],[5469963,7201070,4904046,1158940,112716,null,921331,932882,null,655118,814204,647833,463611,271988,481379,326707,388081,318123,322248,328602,317519,145336,332117,null,311440,null,296656,111443,119237,186464,155630,168706,141759,118843,109228,128617,106440,122458,62700,103324,72344,114116,null,99997,105766,99084,95206,64406,90148,48968,84237,38536,84907,60308,80936,77421,51814,36797,53201,63044,16646,57916,40748,null,24000,57883,32253,48223,39444,null,44444,41693,34832,46971,27373,11008,26903,18943,32697,34217,null,26840,28582,9989,null,12632,18499,19479,25213,23981,null,20333,20229,10808,11863,15198,13251,16301,15481,14437,9800,9579,6764,10878,9282,10505,7400,10652,4329,10509,10009,3647,7411,8548,4043,4347,7599,6804,7387,6051,4088,4090,2675,5294,5524,3715,4186,5421,1821,4225,5053,3887,5039,4851,4964,4438,1382,1924,3515,3561,4253,2611,3029,3030,3185,1882,3551,2666,2665,2031,2455,1290,1167,2330,2181,1818,1790,1612,1364,975,1492,1290,1102,1278,1308,1132,1062,751,0,978,902,843,606,716,710,653,688,547,546,465,511,502,494,478,405,389,210,337,321,312,312,256,283,245,214,217,175,149,148,143,126,null,108,90,19,69,70,27,46,29,30,26,29,27,15,24,22,19,16,12,13,12,null,4,null,8,4,5,3,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Location<\/th>\n      <th>Cases<\/th>\n      <th>Death<\/th>\n      <th>Recover<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="web-scraping.html#cb10-1" aria-hidden="true" tabindex="-1"></a>figs<span class="ot">&lt;-</span>tab3 <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="web-scraping.html#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mortality =</span> Death <span class="sc">/</span>Cases <span class="sc">*</span><span class="dv">1000</span>) <span class="sc">%&gt;%</span> <span class="co"># mortality per 1 thousnd cases</span></span>
<span id="cb10-3"><a href="web-scraping.html#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Cases, <span class="at">y =</span> mortality, <span class="at">size =</span> Death))<span class="sc">+</span></span>
<span id="cb10-4"><a href="web-scraping.html#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb10-5"><a href="web-scraping.html#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">trans =</span> <span class="st">&#39;log&#39;</span>) </span>
<span id="cb10-6"><a href="web-scraping.html#cb10-6" aria-hidden="true" tabindex="-1"></a>figs</span></code></pre></div>
<p><img src="testbook_files/figure-html/covid%20figure1-1.png" width="672" /></p>
</div>
<div id="homework" class="section level2 hasAnchor" number="14.2">
<h2><span class="header-section-number">14.2</span> homework<a href="web-scraping.html#homework" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="download-cumulative-covid19-death" class="section level3 hasAnchor" number="14.2.1">
<h3><span class="header-section-number">14.2.1</span> download Cumulative covid19 death<a href="web-scraping.html#download-cumulative-covid19-death" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Download data table from url. You can use <code>tab[[ i ]]</code> code to find cumulative covid19 death. The taret Table in web looks like that.</p>
<p><code>hint</code></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="web-scraping.html#cb11-1" aria-hidden="true" tabindex="-1"></a>tab4<span class="ot">&lt;-</span>tab[[?]] <span class="sc">%&gt;%</span> <span class="fu">html_table</span>(<span class="at">fill =</span> <span class="cn">TRUE</span>) </span></code></pre></div>
<p><img src="images/monthlycovid.png" alt="Cumulative Covid19 deaths on Jan 11…." />
and the table file is</p>
<div id="htmlwidget-3c45bb0acf1ae6fc57f4" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-3c45bb0acf1ae6fc57f4">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198"],["World","Days to double","Countries and territories","USA","Brazil","India","Mexico","UK","Italy","Peru","Spain","France","Iran","Colombia","Russia","South Africa","Argentina","Chile","Ecuador","Indonesia","Belgium","Germany","Canada","Iraq","Turkey","Bolivia","Pakistan","Netherlands","Egypt","Sweden","Philippines","Bangladesh","Romania","Saudi Arabia","China","Ukraine","Guatemala","Poland","Panama","Honduras","Morocco","Dominican Republic","Kazakhstan","Portugal","Ireland","Switzerland","Algeria","Japan","Israel","Afghanistan","Moldova","Ethiopia","Nigeria","Kyrgyzstan","Armenia","Oman","Australia","Costa Rica","Bosnia and Herzegovina","El Salvador","Paraguay","Sudan","Belarus","Bulgaria","Austria","Hungary","Serbia","North Macedonia","Kenya","Puerto Rico","Czechia","Denmark","Venezuela","Kosovo","Kuwait","Azerbaijan","Yemen","Libya","Nepal","Uzbekistan","Cameroon","UAE","South Korea","Greece","Albania","Palestine","Lebanon","Finland","Zambia","Senegal","Myanmar","Ghana","Croatia","Norway","DRC","Bahrain","Tunisia","Madagascar","Haiti","Zimbabwe","Qatar","Syria","Angola","Malawi","Montenegro","Mauritania","Nicaragua","Slovenia","Malaysia","Mali","Luxembourg","Cuba","Namibia","Cote d'Ivoire","Gambia","Eswatini","Jamaica","Suriname","Somalia","Bahamas","Lithuania","Congo","Chad","Equatorial Guinea","Liberia","Guyana","Tajikistan","Trinidad and Tobago","Uganda","Sierra Leone","Niger","Guinea","French Guiana","Estonia","Central African Republic","Jordan","Djibouti","Mozambique","Cabo Verde","Thailand","Burkina Faso","Guadeloupe","Gabon","Andorra","Guam","South Sudan","Togo","Uruguay","Slovakia","San Marino","Mayotte","Benin","Georgia","Guinea-Bissau","Latvia","Lesotho","Vietnam","Malta","Maldives","Jersey","Rwanda","Singapore","Belize","Aruba","New Zealand","Isle of Man","Cyprus","Sint Maarten","Martinique","Tanzania","US Virgin Islands","Botswana","Reunion","São Tomé and Príncipe","Other","Sri Lanka","Guernsey","Iceland","Mauritius","Bermuda","Saint Martin","Barbados","Comoros","Papua New Guinea","French Polynesia","Turks and Caicos","Brunei","Antigua and Barbuda","Northern Mariana Islands","Fiji","Cayman Islands","Curaçao","Liechtenstein","Monaco","British Virgin Islands","Burundi","Montserrat","Caribbean Netherlands"],[1,6,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[259,4,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,259,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],["2,977","16","8","1","0","0","0","0","29","0","0","2","43","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","1","0","0","0","2,873","0","0","0","0","0","0","0","0","0","0","0","0","5","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","18","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","6","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["40,598","8","125","2,850","159","38","28","1,789","12,430","24","8,189","3,514","2,898","14","17","5","24","12","75","136","705","732","89","50","214","6","26","1,039","46","180","88","6","69","10","3,321","17","1","33","24","2","36","51","2","160","71","373","35","57","21","4","3","0","1","0","3","1","20","2","12","0","3","2","0","8","128","16","13","9","1","8","31","90","3","1","0","5","0","0","0","2","6","6","165","49","13","1","12","17","0","0","1","5","6","28","8","4","10","0","0","1","2","2","2","0","2","0","1","13","43","0","23","6","0","0","1","0","1","0","0","0","7","0","0","0","0","2","0","3","0","0","3","0","0","4","0","5","0","0","1","12","14","5","1","12","2","0","1","1","0","26","0","0","0","0","0","0","0","0","0","2","0","3","0","0","1","0","8","0","2","1","0","0","0","0","7","2","1","2","5","0","2","0","0","0","0","0","1","0","0","0","1","1","0","0","0","0","0","0"],["224,172","18","175","55,337","5,466","1,147","1,732","26,771","27,967","943","24,543","24,342","6,028","278","1,169","103","215","227","900","792","7,594","6,288","3,082","93","3,174","59","385","4,795","392","2,586","568","168","717","162","4,643","272","16","644","178","71","170","301","25","989","1,232","1,422","450","432","223","64","119","3","58","8","33","11","92","6","68","9","9","31","89","66","584","323","179","77","17","54","236","452","10","22","26","24","2","3","0","9","61","105","248","140","31","2","24","211","3","9","6","17","69","204","31","8","41","0","7","4","10","3","2","3","7","1","4","91","102","26","90","61","0","14","1","1","7","1","28","11","45","9","3","2","16","8","0","8","0","7","32","7","1","52","0","8","2","0","1","54","43","12","3","42","5","0","9","15","23","41","4","2","6","1","15","0","0","4","0","20","0","15","2","2","19","22","20","13","14","17","4","1","0","1","13","7","13","10","10","6","3","7","0","0","0","1","1","3","2","0","1","1","1","1","1","1","1","0"],["371,166","37","185","102,640","28,834","5,394","9,779","38,489","33,415","4,371","29,045","28,746","7,797","890","4,855","683","530","1,054","3,358","1,613","9,467","8,511","7,092","205","4,540","310","1,543","5,956","959","4,395","957","650","1,262","503","4,645","718","102","1,064","330","201","205","502","41","1,410","1,652","1,656","653","892","285","265","295","11","287","16","139","49","103","10","152","46","11","286","235","140","668","526","243","133","64","136","320","574","14","30","212","63","81","5","8","15","191","264","271","175","33","5","27","320","7","42","6","36","103","236","71","19","48","6","41","4","38","5","4","4","9","23","35","108","115","77","110","83","0","33","1","2","9","1","78","11","70","20","65","12","27","12","47","8","0","46","64","23","1","68","2","9","24","2","4","57","53","14","17","51","5","10","13","22","28","42","23","3","12","8","24","0","0","7","5","29","1","23","2","3","22","24","17","15","14","21","6","1","1","10","13","10","13","10","10","9","3","7","2","0","0","1","2","3","2","0","1","1","1","1","1","1","1","0"],["508,055","56","186","126,573","58,314","17,400","27,121","43,730","34,767","9,504","28,355","29,760","10,817","3,223","9,536","2,657","1,283","5,688","4,527","2,876","9,754","8,985","8,566","1,943","5,131","1,071","4,395","6,113","2,953","5,333","1,266","1,847","1,651","1,649","4,648","1,173","746","1,463","620","485","228","747","188","1,576","1,736","1,683","912","974","319","774","547","103","590","62","453","176","104","15","185","174","17","572","392","230","705","585","277","302","148","153","349","605","48","41","354","213","313","24","29","26","313","315","282","192","65","11","34","328","24","112","6","112","107","250","169","87","50","20","105","7","113","9","13","16","12","128","74","111","121","116","110","86","0","66","2","11","10","13","90","11","78","41","74","12","36","12","52","8","0","60","67","33","15","69","47","9","54","6","15","58","53","14","42","52","5","38","14","27","28","42","35","21","15","24","30","0","0","9","8","31","2","26","2","3","22","24","19","15","14","21","6","1","2","11","13","11","13","10","10","9","3","7","7","0","0","2","3","3","2","0","1","1","1","1","1","1","1","0"],["675,060","70","192","151,265","91,263","36,511","46,000","46,119","35,141","19,021","28,445","30,147","16,766","9,810","14,058","8,005","3,466","9,457","5,702","5,131","9,841","9,148","8,929","4,741","5,691","2,894","5,951","6,147","4,805","5,743","2,023","3,111","2,343","2,866","4,668","1,709","1,924","1,716","1,397","1,312","353","1,160","793","1,735","1,763","1,703","1,210","1,011","493","1,283","778","274","879","1,397","749","421","196","140","324","448","47","746","559","383","718","596","573","486","341","219","382","615","158","217","447","448","494","74","56","143","391","351","301","206","157","85","59","329","151","205","6","182","145","255","214","148","50","106","161","67","174","43","51","114","49","157","116","117","125","124","114","87","10","102","9","40","10","26","93","14","80","56","75","83","75","20","60","8","3","67","69","46","43","69","59","11","58","11","23","58","53","14","49","66","5","46","18","35","29","42","39","36","17","27","32","13","2","9","16","31","5","27","2","3","22","24","19","15","15","21","8","2","4","15","13","11","13","10","10","9","3","7","7","2","0","2","3","3","2","1","1","1","1","1","1","1","1","0"],["848,445","80","191","182,162","120,828","65,288","64,158","41,501","35,483","28,788","29,141","30,494","21,571","19,364","17,299","14,149","8,498","11,289","6,556","7,417","9,897","9,302","9,117","7,042","6,370","4,966","6,298","6,215","5,421","5,820","3,558","4,281","3,621","3,897","4,730","2,605","2,760","2,039","1,995","1,858","1,141","1,710","1,878","1,822","1,777","1,725","1,510","1,296","961","1,406","995","809","1,013","1,060","881","685","652","418","603","717","308","823","681","629","733","615","713","603","577","434","424","624","381","515","531","534","567","237","228","322","414","384","324","266","284","173","167","335","288","284","6","276","186","264","258","190","77","192","201","202","197","112","108","175","100","159","137","128","127","126","124","94","75","115","96","91","21","67","98","43","86","78","77","83","82","37","68","22","32","70","69","59","59","64","62","15","60","23","40","58","55","16","53","53","10","47","27","44","33","42","40","40","19","33","34","31","34","12","28","32","16","27","13","10","22","24","21","17","16","21","14","6","5","15","13","12","13","10","10","9","5","7","7","5","0","3","3","3","2","2","1","1","1","1","1","1","1","0"],["1,010,639","94","193","204,642","142,921","98,678","77,163","42,143","35,894","32,396","31,791","31,746","26,169","25,828","20,891","16,734","16,519","12,741","11,355","10,740","10,020","9,500","9,291","9,181","8,195","7,931","6,479","6,397","5,914","5,893","5,504","5,251","4,825","4,768","4,746","4,193","3,246","2,513","2,364","2,323","2,152","2,105","2,075","1,971","1,804","1,782","1,736","1,571","1,543","1,458","1,320","1,198","1,112","1,065","963","935","886","880","849","843","841","836","833","825","799","781","749","739","711","661","655","650","621","615","610","591","588","551","498","471","418","416","415","391","387","368","361","344","332","311","310","301","280","274","272","246","246","230","229","228","214","197","183","179","170","161","151","138","136","131","124","122","121","120","112","109","107","104","99","95","92","89","85","83","82","78","76","75","75","72","69","66","66","64","62","61","61","61","60","59","57","57","54","53","49","49","48","48","48","42","42","41","40","39","37","36","35","34","34","32","29","27","26","26","25","24","22","22","21","21","20","16","16","15","13","13","13","10","10","9","8","7","7","7","7","6","3","3","2","2","1","1","1","1","1","1","1","1"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Date<\/th>\n      <th>Jan<\/th>\n      <th>Feb<\/th>\n      <th>Mar<\/th>\n      <th>Apr<\/th>\n      <th>May<\/th>\n      <th>Jun<\/th>\n      <th>Jul<\/th>\n      <th>Aug<\/th>\n      <th>Sep<\/th>\n      <th>Oct<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="uk-italy-france-spain-usa-canada" class="section level3 hasAnchor" number="14.2.2">
<h3><span class="header-section-number">14.2.2</span> UK, Italy, France, Spain, USA, Canada<a href="web-scraping.html#uk-italy-france-spain-usa-canada" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>select countris of “UK, Italy, France, Spain, USA, Canada” and plot the trends. and upload the final plot in dspubs.org tutor</p>
<table>
<thead>
<tr class="header">
<th><code>Hint</code></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>step1:</td>
<td>create Month_mortatlity data filter countries names of above</td>
</tr>
<tr class="even">
<td>step2:</td>
<td>chage character data to numeric data</td>
</tr>
<tr class="odd">
<td>step3:</td>
<td>pivot data to long form</td>
</tr>
<tr class="even">
<td>step4:</td>
<td>plot the graph!</td>
</tr>
</tbody>
</table>
<p><strong>Step 1 and 2</strong></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="web-scraping.html#cb12-1" aria-hidden="true" tabindex="-1"></a>Month_mortality <span class="sc">%&gt;%</span> <span class="fu">datatable</span>()</span></code></pre></div>
<div id="htmlwidget-a9ae7202cab6a4aca42d" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-a9ae7202cab6a4aca42d">{"x":{"filter":"none","data":[["1","2","3","4","5","6"],["USA","UK","Italy","Spain","France","Canada"],[0,0,0,0,0,0],[0,0,0,0,0,0],[1,0,29,0,2,0],[2850,1789,12430,8189,3514,89],[55337,26771,27967,24543,24342,3082],[102640,38489,33415,29045,28746,7092],[126573,43730,34767,28355,29760,8566],[151265,46119,35141,28445,30147,8929],[182162,41501,35483,29141,30494,9117],[204642,42143,35894,31791,31746,9291]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Country<\/th>\n      <th>Jan<\/th>\n      <th>Feb<\/th>\n      <th>Mar<\/th>\n      <th>Apr<\/th>\n      <th>May<\/th>\n      <th>Jun<\/th>\n      <th>Jul<\/th>\n      <th>Aug<\/th>\n      <th>Sep<\/th>\n      <th>Oct<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9,10,11]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p><strong>step 3 </strong></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="web-scraping.html#cb13-1" aria-hidden="true" tabindex="-1"></a>long_death <span class="sc">%&gt;%</span> <span class="fu">datatable</span>()</span></code></pre></div>
<div id="htmlwidget-ab13a17bf68b6933ae20" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-ab13a17bf68b6933ae20">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60"],["USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","UK","UK","UK","UK","UK","UK","UK","UK","UK","UK","Italy","Italy","Italy","Italy","Italy","Italy","Italy","Italy","Italy","Italy","Spain","Spain","Spain","Spain","Spain","Spain","Spain","Spain","Spain","Spain","France","France","France","France","France","France","France","France","France","France","Canada","Canada","Canada","Canada","Canada","Canada","Canada","Canada","Canada","Canada"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"],[0,0,1,2850,55337,102640,126573,151265,182162,204642,0,0,0,1789,26771,38489,43730,46119,41501,42143,0,0,29,12430,27967,33415,34767,35141,35483,35894,0,0,0,8189,24543,29045,28355,28445,29141,31791,0,0,2,3514,24342,28746,29760,30147,30494,31746,0,0,0,89,3082,7092,8566,8929,9117,9291],[1,2,3,4,5,6,7,8,9,10,1,2,3,4,5,6,7,8,9,10,1,2,3,4,5,6,7,8,9,10,1,2,3,4,5,6,7,8,9,10,1,2,3,4,5,6,7,8,9,10,1,2,3,4,5,6,7,8,9,10]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Country<\/th>\n      <th>Month<\/th>\n      <th>Death<\/th>\n      <th>Month_num<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p><strong>step 4 </strong></p>
<pre><code>## [1] &quot;LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=en_US.UTF-8;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C&quot;</code></pre>
<p><img src="testbook_files/figure-html/covid%20moraltiy%20ggplot%20month-1.png" width="672" /></p>
</div>
</div>
<div id="review-of-title-from-google-scholar" class="section level2 hasAnchor" number="14.3">
<h2><span class="header-section-number">14.3</span> Review of title from google scholar<a href="web-scraping.html#review-of-title-from-google-scholar" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="googl-scholar" class="section level3 hasAnchor" number="14.3.1">
<h3><span class="header-section-number">14.3.1</span> googl scholar<a href="web-scraping.html#googl-scholar" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Search the My name of “Jin-Ha Yoon” in google scholar.
The url is <a href="https://scholar.google.com/citations?hl=en&amp;user=FzE_ZWAAAAAJ&amp;view_op=list_works&amp;sortby=pubdate" class="uri">https://scholar.google.com/citations?hl=en&amp;user=FzE_ZWAAAAAJ&amp;view_op=list_works&amp;sortby=pubdate</a></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="web-scraping.html#cb15-1" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://scholar.google.com/citations?hl=en&amp;user=FzE_ZWAAAAAJ&amp;view_op=list_works&amp;sortby=pubdate&quot;</span></span></code></pre></div>
<p><strong>step1 </strong> read the html using url address</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="web-scraping.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb16-2"><a href="web-scraping.html#cb16-2" aria-hidden="true" tabindex="-1"></a>gs <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url)</span></code></pre></div>
<p><strong>step2</strong> filter title using nodes and text, and make data.frame</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="web-scraping.html#cb17-1" aria-hidden="true" tabindex="-1"></a>dat<span class="ot">&lt;-</span>gs <span class="sc">%&gt;%</span> <span class="fu">html_nodes</span>(<span class="st">&quot;tbody&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a href="web-scraping.html#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_nodes</span>(<span class="st">&quot;td&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="web-scraping.html#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_nodes</span>(<span class="st">&quot;a&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-4"><a href="web-scraping.html#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text</span>() <span class="sc">%&gt;%</span></span>
<span id="cb17-5"><a href="web-scraping.html#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>()</span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="web-scraping.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tm)</span>
<span id="cb18-2"><a href="web-scraping.html#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(SnowballC)</span>
<span id="cb18-3"><a href="web-scraping.html#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wordcloud)</span>
<span id="cb18-4"><a href="web-scraping.html#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb18-5"><a href="web-scraping.html#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr) <span class="co"># for data wrangling</span></span>
<span id="cb18-6"><a href="web-scraping.html#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext) <span class="co"># for NLP</span></span>
<span id="cb18-7"><a href="web-scraping.html#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr) <span class="co"># to deal with strings</span></span>
<span id="cb18-8"><a href="web-scraping.html#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr) <span class="co"># for tables</span></span>
<span id="cb18-9"><a href="web-scraping.html#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT) <span class="co"># for dynamic tables</span></span>
<span id="cb18-10"><a href="web-scraping.html#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span></code></pre></div>
<p><strong>step3</strong> split the words (tokenizing) using packages or user own methods.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="web-scraping.html#cb19-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> dat <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="web-scraping.html#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&quot;titles&quot;</span>))</span>
<span id="cb19-3"><a href="web-scraping.html#cb19-3" aria-hidden="true" tabindex="-1"></a>tokens <span class="ot">&lt;-</span>dat <span class="sc">%&gt;%</span></span>
<span id="cb19-4"><a href="web-scraping.html#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, titles) <span class="sc">%&gt;%</span></span>
<span id="cb19-5"><a href="web-scraping.html#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> <span class="cn">TRUE</span>)<span class="sc">%&gt;%</span></span>
<span id="cb19-6"><a href="web-scraping.html#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb19-7"><a href="web-scraping.html#cb19-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-8"><a href="web-scraping.html#cb19-8" aria-hidden="true" tabindex="-1"></a>tokens2 <span class="ot">&lt;-</span> <span class="fu">str_split</span>(dat<span class="sc">$</span>titles, <span class="st">&quot; &quot;</span>, <span class="at">simplify =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-9"><a href="web-scraping.html#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb19-10"><a href="web-scraping.html#cb19-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb19-11"><a href="web-scraping.html#cb19-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">!</span><span class="fu">c</span>(id), <span class="at">names_to =</span> <span class="st">&#39;Vs&#39;</span>, <span class="at">values_to =</span> <span class="st">&#39;word&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-12"><a href="web-scraping.html#cb19-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Vs) <span class="sc">%&gt;%</span></span>
<span id="cb19-13"><a href="web-scraping.html#cb19-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>word<span class="sc">==</span><span class="st">&quot;&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-14"><a href="web-scraping.html#cb19-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> <span class="cn">TRUE</span>)<span class="sc">%&gt;%</span></span>
<span id="cb19-15"><a href="web-scraping.html#cb19-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code></pre></div>
<p><strong>step4</strong> import lookup data for removing words</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="web-scraping.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;stop_words&quot;</span>) <span class="co"># we should add user own words.</span></span>
<span id="cb20-2"><a href="web-scraping.html#cb20-2" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">datatable</span>()</span></code></pre></div>
<div id="htmlwidget-fa6d5868be11570cc085" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-fa6d5868be11570cc085">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561","562","563","564","565","566","567","568","569","570","571","572","573","574","575","576","577","578","579","580","581","582","583","584","585","586","587","588","589","590","591","592","593","594","595","596","597","598","599","600","601","602","603","604","605","606","607","608","609","610","611","612","613","614","615","616","617","618","619","620","621","622","623","624","625","626","627","628","629","630","631","632","633","634","635","636","637","638","639","640","641","642","643","644","645","646","647","648","649","650","651","652","653","654","655","656","657","658","659","660","661","662","663","664","665","666","667","668","669","670","671","672","673","674","675","676","677","678","679","680","681","682","683","684","685","686","687","688","689","690","691","692","693","694","695","696","697","698","699","700","701","702","703","704","705","706","707","708","709","710","711","712","713","714","715","716","717","718","719","720","721","722","723","724","725","726","727","728","729","730","731","732","733","734","735","736","737","738","739","740","741","742","743","744","745","746","747","748","749","750","751","752","753","754","755","756","757","758","759","760","761","762","763","764","765","766","767","768","769","770","771","772","773","774","775","776","777","778","779","780","781","782","783","784","785","786","787","788","789","790","791","792","793","794","795","796","797","798","799","800","801","802","803","804","805","806","807","808","809","810","811","812","813","814","815","816","817","818","819","820","821","822","823","824","825","826","827","828","829","830","831","832","833","834","835","836","837","838","839","840","841","842","843","844","845","846","847","848","849","850","851","852","853","854","855","856","857","858","859","860","861","862","863","864","865","866","867","868","869","870","871","872","873","874","875","876","877","878","879","880","881","882","883","884","885","886","887","888","889","890","891","892","893","894","895","896","897","898","899","900","901","902","903","904","905","906","907","908","909","910","911","912","913","914","915","916","917","918","919","920","921","922","923","924","925","926","927","928","929","930","931","932","933","934","935","936","937","938","939","940","941","942","943","944","945","946","947","948","949","950","951","952","953","954","955","956","957","958","959","960","961","962","963","964","965","966","967","968","969","970","971","972","973","974","975","976","977","978","979","980","981","982","983","984","985","986","987","988","989","990","991","992","993","994","995","996","997","998","999","1000","1001","1002","1003","1004","1005","1006","1007","1008","1009","1010","1011","1012","1013","1014","1015","1016","1017","1018","1019","1020","1021","1022","1023","1024","1025","1026","1027","1028","1029","1030","1031","1032","1033","1034","1035","1036","1037","1038","1039","1040","1041","1042","1043","1044","1045","1046","1047","1048","1049","1050","1051","1052","1053","1054","1055","1056","1057","1058","1059","1060","1061","1062","1063","1064","1065","1066","1067","1068","1069","1070","1071","1072","1073","1074","1075","1076","1077","1078","1079","1080","1081","1082","1083","1084","1085","1086","1087","1088","1089","1090","1091","1092","1093","1094","1095","1096","1097","1098","1099","1100","1101","1102","1103","1104","1105","1106","1107","1108","1109","1110","1111","1112","1113","1114","1115","1116","1117","1118","1119","1120","1121","1122","1123","1124","1125","1126","1127","1128","1129","1130","1131","1132","1133","1134","1135","1136","1137","1138","1139","1140","1141","1142","1143","1144","1145","1146","1147","1148","1149"],["a","a's","able","about","above","according","accordingly","across","actually","after","afterwards","again","against","ain't","all","allow","allows","almost","alone","along","already","also","although","always","am","among","amongst","an","and","another","any","anybody","anyhow","anyone","anything","anyway","anyways","anywhere","apart","appear","appreciate","appropriate","are","aren't","around","as","aside","ask","asking","associated","at","available","away","awfully","b","be","became","because","become","becomes","becoming","been","before","beforehand","behind","being","believe","below","beside","besides","best","better","between","beyond","both","brief","but","by","c","c'mon","c's","came","can","can't","cannot","cant","cause","causes","certain","certainly","changes","clearly","co","com","come","comes","concerning","consequently","consider","considering","contain","containing","contains","corresponding","could","couldn't","course","currently","d","definitely","described","despite","did","didn't","different","do","does","doesn't","doing","don't","done","down","downwards","during","e","each","edu","eg","eight","either","else","elsewhere","enough","entirely","especially","et","etc","even","ever","every","everybody","everyone","everything","everywhere","ex","exactly","example","except","f","far","few","fifth","first","five","followed","following","follows","for","former","formerly","forth","four","from","further","furthermore","g","get","gets","getting","given","gives","go","goes","going","gone","got","gotten","greetings","h","had","hadn't","happens","hardly","has","hasn't","have","haven't","having","he","he's","hello","help","hence","her","here","here's","hereafter","hereby","herein","hereupon","hers","herself","hi","him","himself","his","hither","hopefully","how","howbeit","however","i","i'd","i'll","i'm","i've","ie","if","ignored","immediate","in","inasmuch","inc","indeed","indicate","indicated","indicates","inner","insofar","instead","into","inward","is","isn't","it","it'd","it'll","it's","its","itself","j","just","k","keep","keeps","kept","know","knows","known","l","last","lately","later","latter","latterly","least","less","lest","let","let's","like","liked","likely","little","look","looking","looks","ltd","m","mainly","many","may","maybe","me","mean","meanwhile","merely","might","more","moreover","most","mostly","much","must","my","myself","n","name","namely","nd","near","nearly","necessary","need","needs","neither","never","nevertheless","new","next","nine","no","nobody","non","none","noone","nor","normally","not","nothing","novel","now","nowhere","o","obviously","of","off","often","oh","ok","okay","old","on","once","one","ones","only","onto","or","other","others","otherwise","ought","our","ours","ourselves","out","outside","over","overall","own","p","particular","particularly","per","perhaps","placed","please","plus","possible","presumably","probably","provides","q","que","quite","qv","r","rather","rd","re","really","reasonably","regarding","regardless","regards","relatively","respectively","right","s","said","same","saw","say","saying","says","second","secondly","see","seeing","seem","seemed","seeming","seems","seen","self","selves","sensible","sent","serious","seriously","seven","several","shall","she","should","shouldn't","since","six","so","some","somebody","somehow","someone","something","sometime","sometimes","somewhat","somewhere","soon","sorry","specified","specify","specifying","still","sub","such","sup","sure","t","t's","take","taken","tell","tends","th","than","thank","thanks","thanx","that","that's","thats","the","their","theirs","them","themselves","then","thence","there","there's","thereafter","thereby","therefore","therein","theres","thereupon","these","they","they'd","they'll","they're","they've","think","third","this","thorough","thoroughly","those","though","three","through","throughout","thru","thus","to","together","too","took","toward","towards","tried","tries","truly","try","trying","twice","two","u","un","under","unfortunately","unless","unlikely","until","unto","up","upon","us","use","used","useful","uses","using","usually","uucp","v","value","various","very","via","viz","vs","w","want","wants","was","wasn't","way","we","we'd","we'll","we're","we've","welcome","well","went","were","weren't","what","what's","whatever","when","whence","whenever","where","where's","whereafter","whereas","whereby","wherein","whereupon","wherever","whether","which","while","whither","who","who's","whoever","whole","whom","whose","why","will","willing","wish","with","within","without","won't","wonder","would","would","wouldn't","x","y","yes","yet","you","you'd","you'll","you're","you've","your","yours","yourself","yourselves","z","zero","i","me","my","myself","we","our","ours","ourselves","you","your","yours","yourself","yourselves","he","him","his","himself","she","her","hers","herself","it","its","itself","they","them","their","theirs","themselves","what","which","who","whom","this","that","these","those","am","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","would","should","could","ought","i'm","you're","he's","she's","it's","we're","they're","i've","you've","we've","they've","i'd","you'd","he'd","she'd","we'd","they'd","i'll","you'll","he'll","she'll","we'll","they'll","isn't","aren't","wasn't","weren't","hasn't","haven't","hadn't","doesn't","don't","didn't","won't","wouldn't","shan't","shouldn't","can't","cannot","couldn't","mustn't","let's","that's","who's","what's","here's","there's","when's","where's","why's","how's","a","an","the","and","but","if","or","because","as","until","while","of","at","by","for","with","about","against","between","into","through","during","before","after","above","below","to","from","up","down","in","out","on","off","over","under","again","further","then","once","here","there","when","where","why","how","all","any","both","each","few","more","most","other","some","such","no","nor","not","only","own","same","so","than","too","very","a","about","above","across","after","again","against","all","almost","alone","along","already","also","although","always","among","an","and","another","any","anybody","anyone","anything","anywhere","are","area","areas","around","as","ask","asked","asking","asks","at","away","back","backed","backing","backs","be","became","because","become","becomes","been","before","began","behind","being","beings","best","better","between","big","both","but","by","came","can","cannot","case","cases","certain","certainly","clear","clearly","come","could","did","differ","different","differently","do","does","done","down","down","downed","downing","downs","during","each","early","either","end","ended","ending","ends","enough","even","evenly","ever","every","everybody","everyone","everything","everywhere","face","faces","fact","facts","far","felt","few","find","finds","first","for","four","from","full","fully","further","furthered","furthering","furthers","gave","general","generally","get","gets","give","given","gives","go","going","good","goods","got","great","greater","greatest","group","grouped","grouping","groups","had","has","have","having","he","her","here","herself","high","high","high","higher","highest","him","himself","his","how","however","i","if","important","in","interest","interested","interesting","interests","into","is","it","its","itself","just","keep","keeps","kind","knew","know","known","knows","large","largely","last","later","latest","least","less","let","lets","like","likely","long","longer","longest","made","make","making","man","many","may","me","member","members","men","might","more","most","mostly","mr","mrs","much","must","my","myself","necessary","need","needed","needing","needs","never","new","new","newer","newest","next","no","nobody","non","noone","not","nothing","now","nowhere","number","numbers","of","off","often","old","older","oldest","on","once","one","only","open","opened","opening","opens","or","order","ordered","ordering","orders","other","others","our","out","over","part","parted","parting","parts","per","perhaps","place","places","point","pointed","pointing","points","possible","present","presented","presenting","presents","problem","problems","put","puts","quite","rather","really","right","right","room","rooms","said","same","saw","say","says","second","seconds","see","seem","seemed","seeming","seems","sees","several","shall","she","should","show","showed","showing","shows","side","sides","since","small","smaller","smallest","some","somebody","someone","something","somewhere","state","states","still","still","such","sure","take","taken","than","that","the","their","them","then","there","therefore","these","they","thing","things","think","thinks","this","those","though","thought","thoughts","three","through","thus","to","today","together","too","took","toward","turn","turned","turning","turns","two","under","until","up","upon","us","use","used","uses","very","want","wanted","wanting","wants","was","way","ways","we","well","wells","went","were","what","when","where","whether","which","while","who","whole","whose","why","will","with","within","without","work","worked","working","works","would","year","years","yet","you","young","younger","youngest","your","yours"],["SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","SMART","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","snowball","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix","onix"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>word<\/th>\n      <th>lexicon<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"order":[],"autoWidth":false,"orderClasses":false,"columnDefs":[{"orderable":false,"targets":0}]}},"evals":[],"jsHooks":[]}</script>
<p><strong>step5</strong> remove stop words and numbers</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="web-scraping.html#cb21-1" aria-hidden="true" tabindex="-1"></a>tokens_clean <span class="ot">&lt;-</span> tokens <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="web-scraping.html#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(stop_words, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;word&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="web-scraping.html#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_detect</span>(word, <span class="st">&quot;^[[:digit:]]&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb21-4"><a href="web-scraping.html#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_detect</span>(word, <span class="st">&quot;study|korea&quot;</span>))</span></code></pre></div>
<p><strong>step6</strong> create word cloud</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="web-scraping.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb22-2"><a href="web-scraping.html#cb22-2" aria-hidden="true" tabindex="-1"></a>pal <span class="ot">&lt;-</span> <span class="fu">brewer.pal</span>(<span class="dv">12</span>, <span class="st">&quot;Paired&quot;</span>)</span>
<span id="cb22-3"><a href="web-scraping.html#cb22-3" aria-hidden="true" tabindex="-1"></a>tokens_clean <span class="sc">%&gt;%</span> </span>
<span id="cb22-4"><a href="web-scraping.html#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">with</span>(<span class="fu">wordcloud</span>(word, n, <span class="at">random.order =</span> <span class="cn">FALSE</span>, <span class="at">colors=</span>pal))</span></code></pre></div>
<p><img src="testbook_files/figure-html/workclaoud%206-1.png" width="672" /></p>
</div>
</div>
<div id="home-work-2" class="section level2 hasAnchor" number="14.4">
<h2><span class="header-section-number">14.4</span> home work 2<a href="web-scraping.html#home-work-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Search you own word in google scholar. for example, You can search “Suicide” or “Hypertension” in google scholar. And, upload your word cloud to google classroom.</p>
</div>
<div id="black-report-2" class="section level2 hasAnchor" number="14.5">
<h2><span class="header-section-number">14.5</span> Black Report 2<a href="web-scraping.html#black-report-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/EfE2ScmDRZg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>please visit “<a href="https://www.sochealth.co.uk/national-health-service/public-health-and-wellbeing/poverty-and-inequality/the-black-report-1980/the-black-report-2-the-evidence-of-inequalities-in-health/" class="uri">https://www.sochealth.co.uk/national-health-service/public-health-and-wellbeing/poverty-and-inequality/the-black-report-1980/the-black-report-2-the-evidence-of-inequalities-in-health/</a>”. That is black report 2, and I need some visualization to present health inequality. Let’s start!.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="web-scraping.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb23-2"><a href="web-scraping.html#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb23-3"><a href="web-scraping.html#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span></code></pre></div>
<p>Get url, save html from url and find tag of “table”. Review the table 5 using <code>html_table()</code>, and <code>datatable()</code>.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="web-scraping.html#cb24-1" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://www.sochealth.co.uk/national-health-service/public-health-and-wellbeing/poverty-and-inequality/the-black-report-1980/the-black-report-2-the-evidence-of-inequalities-in-health/&quot;</span></span>
<span id="cb24-2"><a href="web-scraping.html#cb24-2" aria-hidden="true" tabindex="-1"></a>h <span class="ot">&lt;-</span><span class="fu">read_html</span>(url)</span>
<span id="cb24-3"><a href="web-scraping.html#cb24-3" aria-hidden="true" tabindex="-1"></a>tab <span class="ot">&lt;-</span> h <span class="sc">%&gt;%</span> <span class="fu">html_nodes</span>(<span class="st">&quot;table&quot;</span>)</span>
<span id="cb24-4"><a href="web-scraping.html#cb24-4" aria-hidden="true" tabindex="-1"></a>tab[[<span class="dv">5</span>]] <span class="sc">%&gt;%</span> <span class="fu">html_table</span>() <span class="sc">%&gt;%</span> DT<span class="sc">::</span><span class="fu">datatable</span>()</span></code></pre></div>
<div id="htmlwidget-36e1f2facfe89d4a1bb1" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-36e1f2facfe89d4a1bb1">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],["","","Stillbirths per 1000 live and still births","Males","Females","Perinatal deaths (stillbirths and less than 1 week) per 1000 live and still births","Males","Females","Early neo-natal deaths (less than 1 week) per 1000 live births","Males","|Females","Late neo-natal deaths (1-3 weeks) per 1000 live births","Males","Females","Post neonatal deaths (1-11 months) per 1000 live births","Males","Females","Total infant mortality (0-11 months)","Males","Females"],["Occupational Class","I","","8.63","8.92","","17.44","15.17","","8.89","6.31","","1.23","0.99","","3.47","2.32","","13.60","9.61"],["Occupational Class","II","","10.16","10.01","","19.79","17.36","","9.73","7.43","","1.39","1.29","","4.09","3.22","","15.21","11.94"],["Occupational Class","IIIN","","11.44","11.54","","22.02","19.05","","10.70","7.60","","1.64","1.27","","4.57","3.11","","16.91","11.99"],["Occupational Class","IIIM","","12.26","12.81","","23.16","20.98","","11.04","8.27","","1.81","1.53","","6.20","4.99","","19.06","14.79"],["Occupational Class","IV","","12.73","13.41","","25.27","22.42","","12.70","9.14","","2.02","1.84","","7.31","5.97","","22.03","16.95"],["Occupational Class","V","","17.16","17.67","","33.93","30.24","","17.06","12.64","","3.06","2.41","","14.61","11.62","","34.73","26.67"],["","All infants","","12.36","12.67","","23.80","21.14","","11.59","8.58","","1.84","1.57","","6.48","5.11","","19.91","15.27"],["","Ratio V:I","","2.0","2.0","","1.9","2.0","","1.9","2.0","","2.5","2.4","","4.2","5.0","","2.5","2.1"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>X1<\/th>\n      <th>X2<\/th>\n      <th>X3<\/th>\n      <th>X4<\/th>\n      <th>X5<\/th>\n      <th>X6<\/th>\n      <th>X7<\/th>\n      <th>X8<\/th>\n      <th>X9<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"order":[],"autoWidth":false,"orderClasses":false,"columnDefs":[{"orderable":false,"targets":0}]}},"evals":[],"jsHooks":[]}</script>
<p>The source and gender share same column, hence, I want divided that into two columns. the col names are changed by <code>setNames</code>. The gender variable was reshaped when that have any word of <code>males</code> or <code>female</code>. code of <code>fill</code> fill the missing row as very next values, in other word, <code>fill</code> code make html table to data frame table.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="web-scraping.html#cb25-1" aria-hidden="true" tabindex="-1"></a>tab[[<span class="dv">5</span>]] <span class="sc">%&gt;%</span> <span class="fu">html_table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="web-scraping.html#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&#39;source&#39;</span>,  <span class="fu">paste0</span>(<span class="st">&#39;class&#39;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>), <span class="st">&#39;all&#39;</span>, <span class="st">&#39;ratio&#39;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="web-scraping.html#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gender =</span> <span class="fu">case_when</span>(</span>
<span id="cb25-4"><a href="web-scraping.html#cb25-4" aria-hidden="true" tabindex="-1"></a>    source <span class="sc">==</span> <span class="st">&#39;Males&#39;</span> <span class="sc">~</span> <span class="st">&#39;Males&#39;</span>, </span>
<span id="cb25-5"><a href="web-scraping.html#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(source, <span class="st">&#39;Females&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Females&#39;</span>, </span>
<span id="cb25-6"><a href="web-scraping.html#cb25-6" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;&quot;</span></span>
<span id="cb25-7"><a href="web-scraping.html#cb25-7" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb25-8"><a href="web-scraping.html#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(source, gender, class1<span class="sc">:</span>class6, all, ratio) <span class="sc">%&gt;%</span></span>
<span id="cb25-9"><a href="web-scraping.html#cb25-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">source =</span> <span class="fu">case_when</span>(</span>
<span id="cb25-10"><a href="web-scraping.html#cb25-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(source, <span class="st">&#39;Males|Females&#39;</span>) <span class="sc">~</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb25-11"><a href="web-scraping.html#cb25-11" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> source</span>
<span id="cb25-12"><a href="web-scraping.html#cb25-12" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb25-13"><a href="web-scraping.html#cb25-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">source =</span> <span class="fu">ifelse</span>(source <span class="sc">==</span><span class="st">&quot;&quot;</span>, <span class="cn">NA</span>, source)) <span class="sc">%&gt;%</span></span>
<span id="cb25-14"><a href="web-scraping.html#cb25-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fill</span>(source, <span class="at">.direction =</span> <span class="st">&quot;down&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-15"><a href="web-scraping.html#cb25-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>gender <span class="sc">==</span><span class="st">&quot;&quot;</span>) <span class="ot">-&gt;</span> tab5</span>
<span id="cb25-16"><a href="web-scraping.html#cb25-16" aria-hidden="true" tabindex="-1"></a>tab5 <span class="sc">%&gt;%</span> DT<span class="sc">::</span><span class="fu">datatable</span>()</span></code></pre></div>
<div id="htmlwidget-fab49d31d419a5344625" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-fab49d31d419a5344625">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12"],["Stillbirths per 1000 live and still births","Stillbirths per 1000 live and still births","Perinatal deaths (stillbirths and less than 1 week) per 1000 live and still births","Perinatal deaths (stillbirths and less than 1 week) per 1000 live and still births","Early neo-natal deaths (less than 1 week) per 1000 live births","Early neo-natal deaths (less than 1 week) per 1000 live births","Late neo-natal deaths (1-3 weeks) per 1000 live births","Late neo-natal deaths (1-3 weeks) per 1000 live births","Post neonatal deaths (1-11 months) per 1000 live births","Post neonatal deaths (1-11 months) per 1000 live births","Total infant mortality (0-11 months)","Total infant mortality (0-11 months)"],["Males","Females","Males","Females","Males","Females","Males","Females","Males","Females","Males","Females"],["8.63","8.92","17.44","15.17","8.89","6.31","1.23","0.99","3.47","2.32","13.60","9.61"],["10.16","10.01","19.79","17.36","9.73","7.43","1.39","1.29","4.09","3.22","15.21","11.94"],["11.44","11.54","22.02","19.05","10.70","7.60","1.64","1.27","4.57","3.11","16.91","11.99"],["12.26","12.81","23.16","20.98","11.04","8.27","1.81","1.53","6.20","4.99","19.06","14.79"],["12.73","13.41","25.27","22.42","12.70","9.14","2.02","1.84","7.31","5.97","22.03","16.95"],["17.16","17.67","33.93","30.24","17.06","12.64","3.06","2.41","14.61","11.62","34.73","26.67"],["12.36","12.67","23.80","21.14","11.59","8.58","1.84","1.57","6.48","5.11","19.91","15.27"],["2.0","2.0","1.9","2.0","1.9","2.0","2.5","2.4","4.2","5.0","2.5","2.1"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>source<\/th>\n      <th>gender<\/th>\n      <th>class1<\/th>\n      <th>class2<\/th>\n      <th>class3<\/th>\n      <th>class4<\/th>\n      <th>class5<\/th>\n      <th>class6<\/th>\n      <th>all<\/th>\n      <th>ratio<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"order":[],"autoWidth":false,"orderClasses":false,"columnDefs":[{"orderable":false,"targets":0}]}},"evals":[],"jsHooks":[]}</script>
<p>Plot the bar plot</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="web-scraping.html#cb26-1" aria-hidden="true" tabindex="-1"></a>tab5 <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a href="web-scraping.html#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span><span class="fu">c</span>(source, gender), <span class="at">names_to =</span> <span class="st">&#39;variables&#39;</span>, <span class="at">values_to =</span> <span class="st">&#39;value&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb26-3"><a href="web-scraping.html#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>variables <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;all&#39;</span>, <span class="st">&#39;ratio&#39;</span>) ) <span class="sc">%&gt;%</span></span>
<span id="cb26-4"><a href="web-scraping.html#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">variables =</span> <span class="fu">factor</span>(variables, </span>
<span id="cb26-5"><a href="web-scraping.html#cb26-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">level =</span> <span class="fu">c</span>(<span class="fu">paste0</span>(<span class="st">&#39;class&#39;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>)))) <span class="sc">%&gt;%</span></span>
<span id="cb26-6"><a href="web-scraping.html#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">value =</span> <span class="fu">as.numeric</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb26-7"><a href="web-scraping.html#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">source =</span> <span class="fu">str_replace</span>(source, <span class="st">&quot;per&quot;</span>, <span class="st">&quot;</span><span class="sc">\n</span><span class="st"> per&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb26-8"><a href="web-scraping.html#cb26-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>variables, <span class="at">y=</span>value, <span class="at">color=</span>gender, <span class="at">fill=</span>gender, <span class="at">group=</span>gender)) <span class="sc">+</span></span>
<span id="cb26-9"><a href="web-scraping.html#cb26-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&#39;identity&#39;</span>, <span class="fu">aes</span>(<span class="at">color =</span> gender, <span class="at">fill=</span>gender)) <span class="sc">+</span></span>
<span id="cb26-10"><a href="web-scraping.html#cb26-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(source<span class="sc">~</span>gender, <span class="at">scale =</span> <span class="st">&#39;free&#39;</span>) <span class="sc">+</span></span>
<span id="cb26-11"><a href="web-scraping.html#cb26-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb26-12"><a href="web-scraping.html#cb26-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb26-13"><a href="web-scraping.html#cb26-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>(), <span class="at">axis.line =</span> <span class="fu">element_blank</span>())<span class="sc">+</span></span>
<span id="cb26-14"><a href="web-scraping.html#cb26-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">strip.text.y.right =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>, <span class="at">hjust =</span> <span class="dv">0</span>), </span>
<span id="cb26-15"><a href="web-scraping.html#cb26-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb26-16"><a href="web-scraping.html#cb26-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="st">&quot;none&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;none&quot;</span>) </span></code></pre></div>
<p><img src="testbook_files/figure-html/equity%20plot%20bar-1.png" width="672" /></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="web-scraping.html#cb27-1" aria-hidden="true" tabindex="-1"></a>tab5<span class="fl">.1</span> <span class="ot">&lt;-</span> tab5 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(source, <span class="st">&quot;Stillbirths&quot;</span>)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>all, <span class="sc">-</span>ratio)</span></code></pre></div>
<p>plot the table 6 using same methods of table 5</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="web-scraping.html#cb28-1" aria-hidden="true" tabindex="-1"></a>tab[[<span class="dv">6</span>]] <span class="sc">%&gt;%</span> <span class="fu">html_table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="web-scraping.html#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="web-scraping.html#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&#39;source&#39;</span>, <span class="fu">paste0</span>(<span class="st">&#39;class&#39;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>), <span class="st">&#39;all&#39;</span>, <span class="st">&#39;ratio&#39;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb28-4"><a href="web-scraping.html#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">&#39;SMR&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-5"><a href="web-scraping.html#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gender =</span> <span class="fu">c</span>(<span class="st">&#39;Males&#39;</span>, <span class="st">&#39;Females&#39;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb28-6"><a href="web-scraping.html#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>all, <span class="sc">-</span>ratio) <span class="sc">%&gt;%</span></span>
<span id="cb28-7"><a href="web-scraping.html#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span><span class="fu">c</span>(source, gender), <span class="at">names_to =</span> <span class="st">&#39;variables&#39;</span>, <span class="at">values_to =</span> <span class="st">&#39;value&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-8"><a href="web-scraping.html#cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">value=</span> <span class="fu">as.numeric</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb28-9"><a href="web-scraping.html#cb28-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>variables, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb28-10"><a href="web-scraping.html#cb28-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&#39;identity&#39;</span>, <span class="fu">aes</span>(<span class="at">fill=</span>gender, <span class="at">color=</span>gender)) <span class="sc">+</span></span>
<span id="cb28-11"><a href="web-scraping.html#cb28-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span>gender) <span class="sc">+</span></span>
<span id="cb28-12"><a href="web-scraping.html#cb28-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb28-13"><a href="web-scraping.html#cb28-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>(), <span class="at">axis.line =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb28-14"><a href="web-scraping.html#cb28-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span><span class="st">&quot;none&quot;</span>, <span class="at">color =</span><span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb28-15"><a href="web-scraping.html#cb28-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Child&quot;</span>)</span></code></pre></div>
<p><img src="testbook_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="web-scraping.html#cb29-1" aria-hidden="true" tabindex="-1"></a>tab[[<span class="dv">6</span>]] <span class="sc">%&gt;%</span> <span class="fu">html_table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="web-scraping.html#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb29-3"><a href="web-scraping.html#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&#39;source&#39;</span>, <span class="fu">paste0</span>(<span class="st">&#39;class&#39;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>), <span class="st">&#39;all&#39;</span>, <span class="st">&#39;ratio&#39;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb29-4"><a href="web-scraping.html#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">&#39;SMR&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-5"><a href="web-scraping.html#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gender =</span> <span class="fu">c</span>(<span class="st">&#39;Males&#39;</span>, <span class="st">&#39;Females&#39;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb29-6"><a href="web-scraping.html#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">source =</span> <span class="st">&quot;Childhood Mortality (SMR)&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-7"><a href="web-scraping.html#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">names</span>(tab5<span class="fl">.1</span>)) <span class="ot">-&gt;</span> tab6</span>
<span id="cb29-8"><a href="web-scraping.html#cb29-8" aria-hidden="true" tabindex="-1"></a>tab6</span></code></pre></div>
<pre><code>## # A tibble: 2 × 8
##   source                    gender  class1 class2 class3 class4 class5 class6
##   &lt;chr&gt;                     &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; 
## 1 Childhood Mortality (SMR) Males   74     79     95     98     112    162   
## 2 Childhood Mortality (SMR) Females 89     84     93     93     120    156</code></pre>
<p>Repeat reshaping for Table 7.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="web-scraping.html#cb31-1" aria-hidden="true" tabindex="-1"></a>tab[[<span class="dv">7</span>]] <span class="sc">%&gt;%</span> <span class="fu">html_table</span>() <span class="sc">%&gt;%</span> <span class="fu">tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb31-2"><a href="web-scraping.html#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">&#39;source&#39;</span>, <span class="fu">paste0</span>(<span class="st">&#39;class&#39;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>),  <span class="st">&#39;ratio&#39;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="web-scraping.html#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(source, <span class="st">&#39;Men|men&#39;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb31-4"><a href="web-scraping.html#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gender =</span> source) <span class="sc">%&gt;%</span></span>
<span id="cb31-5"><a href="web-scraping.html#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">source =</span> <span class="st">&quot;Adult (16-64) SMR&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb31-6"><a href="web-scraping.html#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">names</span>(tab5<span class="fl">.1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb31-7"><a href="web-scraping.html#cb31-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="sc">-</span><span class="dv">3</span>) <span class="ot">-&gt;</span> tab7</span></code></pre></div>
<p>The final graph for black report 2 presentation as below.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="web-scraping.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rbind</span>(tab5<span class="fl">.1</span>, tab6, tab7) <span class="sc">%&gt;%</span></span>
<span id="cb32-2"><a href="web-scraping.html#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb32-3"><a href="web-scraping.html#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">source =</span> <span class="fu">str_replace</span>(source, <span class="st">&quot;per&quot;</span>, <span class="st">&quot;(mortality) </span><span class="sc">\n</span><span class="st"> per&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb32-4"><a href="web-scraping.html#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gender =</span> <span class="fu">ifelse</span>(<span class="fu">str_detect</span>(gender, <span class="st">&#39;women&#39;</span>), <span class="st">&#39;Females&#39;</span>,</span>
<span id="cb32-5"><a href="web-scraping.html#cb32-5" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">ifelse</span>(<span class="fu">str_detect</span>(gender, <span class="st">&#39;Men&#39;</span>), <span class="st">&#39;Males&#39;</span>, gender))) <span class="sc">%&gt;%</span></span>
<span id="cb32-6"><a href="web-scraping.html#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span><span class="fu">c</span>(source, gender), <span class="at">names_to =</span> <span class="st">&#39;class&#39;</span>, <span class="at">values_to =</span> <span class="st">&#39;SMR&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-7"><a href="web-scraping.html#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SMR =</span> <span class="fu">as.numeric</span>(SMR)) <span class="sc">%&gt;%</span></span>
<span id="cb32-8"><a href="web-scraping.html#cb32-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>class, <span class="at">y=</span>SMR)) <span class="sc">+</span></span>
<span id="cb32-9"><a href="web-scraping.html#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&#39;identity&#39;</span>, <span class="fu">aes</span>(<span class="at">fill=</span>gender, <span class="at">color=</span>gender)) <span class="sc">+</span></span>
<span id="cb32-10"><a href="web-scraping.html#cb32-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(source <span class="sc">~</span>gender, <span class="at">scale=</span><span class="st">&#39;free&#39;</span>)<span class="sc">+</span></span>
<span id="cb32-11"><a href="web-scraping.html#cb32-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb32-12"><a href="web-scraping.html#cb32-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>(), <span class="at">axis.line =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb32-13"><a href="web-scraping.html#cb32-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb32-14"><a href="web-scraping.html#cb32-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">strip.text.y.right =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">0</span>, <span class="at">hjust =</span> <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb32-15"><a href="web-scraping.html#cb32-15" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb32-16"><a href="web-scraping.html#cb32-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span><span class="st">&quot;none&quot;</span>, <span class="at">color =</span><span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="testbook_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
</div>
<div id="home-work-2-1" class="section level2 hasAnchor" number="14.6">
<h2><span class="header-section-number">14.6</span> home work 2<a href="web-scraping.html#home-work-2-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Black report 중에 관심있는 표를 visualization 해 주세요</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-wrangling--text-value-handling.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="webscraping-example-3-pubmed-and-r-with-endnote.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["testbook.pdf", "testbook.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
